/*! For license information please see main.49724fdb.js.LICENSE.txt */
!function(){var e={765:function(e,t,n){var r=n(867).w_;e.exports.m=function(e){return r({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"}}]})(e)}},867:function(e,t,n){"use strict";n.d(t,{w_:function(){return c}});var r=n(791),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(e){return e&&e.map((function(e,t){return r.createElement(e.tag,o({key:t},e.attr),s(e.child))}))}function c(e){return function(t){return r.createElement(l,o({attr:o({},e.attr)},t),s(e.child))}}function l(e){var t=function(t){var n,i=e.attr,a=e.size,s=e.title,c=u(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:n,style:o(o({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return t(e)})):t(i)}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Dt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Gt){var i=Zt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Pn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){Vr(e,0)}function Zn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Zn(Hn)){var t=[];Wn(t,Hn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Hn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Gn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&jn(e,t)?(e=en(),Xt=Jt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Xe,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Gi=0,Wi=null,Ki=0,Hi=[],Qi=0,Zi=null,$i=1,Yi="";function Ji(e,t){qi[Gi++]=Ki,qi[Gi++]=Wi,Wi=e,Ki=t}function Xi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Yi,Hi[Qi++]=Zi,Zi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Gi],qi[Gi]=null,Ki=qi[--Gi],qi[Gi]=null;for(;e===Zi;)Zi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ni:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Za(!0),Ya=Za(!1),Ja={},Xa=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Xa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Xa),Ei(Xa,t)}function io(){Si(Xa),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Xa,n))}function oo(e){eo.current===e&&(Si(Xa),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Go(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Zo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Vo,useDebugValue:Zo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Xo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:Zo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Os),Os|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ga(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Oi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ga(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Pu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Yi,Hi[Qi++]=Zi,$i=e.id,Yi=e.overflow,Zi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Z(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Ye()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Xu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Xu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Xu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Xu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Xu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Xu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Xu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Zu;var c=$u;if(Zu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Zu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Ds=0,Os=0,Rs=Ii(0),Ps=0,Ms=null,Ls=0,Fs=0,Vs=0,Us=null,js=null,Bs=0,zs=1/0,qs=null,Gs=!1,Ws=null,Ks=null,Hs=!1,Qs=null,Zs=0,$s=0,Ys=null,Js=-1,Xs=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Js?Js:Js=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===Xs&&(Xs=vt()),Xs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Ye()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Xs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ds===t||(qs=null,zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Ye()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Rc(e.current,null),Ds=Os=t,Ps=0,Ms=null,Vs=Fs=Ls=0,js=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ps=1,Ms=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===As||0===(268435455&Ls)&&0===(268435455&Fs)||uc(As,Ds)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ds===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Ds=0,Ps}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ze();)kc(Ns)}function kc(e){var t=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Zs=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ws,Ws=null,e;0!==(1&Zs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Zs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Zs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Ye()-Bs?hc(e,0):Vs|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},$c.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Gc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(zs=Ye()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,I=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},484:function(e,t,n){"use strict";var r=n(781).qC;t.Uo="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},781:function(e,t,n){"use strict";n.d(t,{MT:function(){return c},UY:function(){return l},md:function(){return h},qC:function(){return f}});var r=n(413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var o=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function v(){if(d)throw new Error(i(3));return l}function m(e){if("function"!==typeof e)throw new Error(i(4));if(d)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function y(e){if(!s(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(d)throw new Error(i(9));try{d=!0,l=o(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));o=e,y({type:u.REPLACE})}function k(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return y({type:u.INIT}),(r={dispatch:y,subscribe:m,getState:v,replaceReducer:g})[a]=k,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(i(14))}a[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?a:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=t.map((function(e){return e(o)}));return a=f.apply(void 0,u)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function R(e){S=e,I||(I=!0,_())}function P(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".48e6b504.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="simple-chat:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Simple-chat/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksimple_chat=self.webpackChunksimple_chat||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return cu},SDK_VERSION:function(){return gs},_DEFAULT_ENTRY_NAME:function(){return as},_addComponent:function(){return cs},_addOrOverwriteComponent:function(){return ls},_apps:function(){return us},_clearComponents:function(){return ps},_components:function(){return ss},_getProvider:function(){return hs},_registerComponent:function(){return fs},_removeServiceInstance:function(){return ds},deleteApp:function(){return xs},getApp:function(){return bs},getApps:function(){return ws},initializeApp:function(){return ks},onLog:function(){return Ss},registerVersion:function(){return Is},setLogLevel:function(){return Es}});var t=n(791),r=n.t(t,2);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}var c=n(248),l=n(327),f=n(164);var h=function(e){e()},d=function(){return h},p=t.createContext(null);function v(){return(0,t.useContext)(p)}var m=function(){throw new Error("uSES not initialized!")},y=m,g=function(e,t){return e===t};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=e===p?v:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=y(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var b=k(),w=n(110),x=n.n(w);n(900);var _={notify:function(){},get:function(){return[]}};function I(e,t){var n,r=_;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=d(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=_)},getListeners:function(){return r}};return o}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var E=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=I(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);S((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||p;return t.createElement(s.Provider,{value:o},i)};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=e===p?v:function(){return(0,t.useContext)(e)};return function(){return n().store}}var C=T();function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=e===p?C:T(e);return function(){return t().dispatch}}var N,D=A();!function(e){y=e}(l.useSyncExternalStoreWithSelector),function(e){e}(c.useSyncExternalStore),N=f.unstable_batchedUpdates,h=N;var O=n(184),R=t.createContext(),P=R,M=function(e){var n=e.children,r=b((function(e){return e.users})),i=s(t.useState(r),2),a=i[0],o=i[1];return(0,O.jsx)(R.Provider,{value:[a,o],children:n})},L=t.createContext(),F=L,V=function(e){var n=e.children,r=s(t.useState(null),2),i=r[0],a=r[1];return(0,O.jsx)(L.Provider,{value:[i,a],children:n})},U=n(250),j="App_mainContainer__Qh9Zn";function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function G(e){return"/"===e.charAt(0)}function W(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var K=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&G(e),o=t&&G(t),u=a||o;if(e&&G(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?W(i,l):".."===f?(W(i,l),c++):c&&(W(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&G(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},H="Invariant failed";function Q(e,t){if(!e)throw new Error(H)}function Z(e){return"/"===e.charAt(0)?e:"/"+e}function $(e){return"/"===e.charAt(0)?e.substr(1):e}function Y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function J(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function X(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function ee(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=q({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=K(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function te(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var ne=!("undefined"===typeof window||!window.document||!window.document.createElement);function re(e,t){t(window.confirm(e))}var ie="popstate",ae="hashchange";function oe(){try{return window.history.state||{}}catch(e){return{}}}function ue(e){void 0===e&&(e={}),ne||Q(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?re:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?J(Z(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=Y(a,f)),ee(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=te();function v(e){q(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function y(){k(h(oe()))}var g=!1;function k(e){if(g)g=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=T.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,_(i))}(e)}))}}var b=h(oe()),w=[b.key];function x(e){return f+X(e)}function _(e){t.go(e)}var I=0;function S(e){1===(I+=e)&&1===e?(window.addEventListener(ie,m),r&&window.addEventListener(ae,y)):0===I&&(window.removeEventListener(ie,m),r&&window.removeEventListener(ae,y))}var E=!1;var T={length:t.length,action:"POP",location:b,createHref:x,push:function(e,r){var i="PUSH",a=ee(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=w.indexOf(T.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=ee(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=w.indexOf(T.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return E||(S(1),E=!0),function(){return E&&(E=!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return T}var se="hashchange",ce={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+$(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:$,decodePath:Z},slash:{encodePath:Z,decodePath:Z}};function le(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function fe(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function he(e){window.location.replace(le(window.location.href)+"#"+e)}function de(e){void 0===e&&{},ne||Q(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?re:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?J(Z(e.basename)):"",s=ce[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(fe());return u&&Y(e,u),ee(e)}var h=te();function d(e){q(S,e),S.length=t.length,h.notifyListeners(S.location,S.action)}var p=!1,v=null;function m(){var e,t,n=fe(),r=c(n);if(n!==r)he(r);else{var a=f(),o=S.location;if(!p&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===X(a))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=S.location,n=b.lastIndexOf(X(t));-1===n&&0;var r=b.lastIndexOf(X(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(a)}}var y=fe(),g=c(y);y!==g&&he(g);var k=f(),b=[X(k)];function w(e){t.go(e)}var x=0;function _(e){1===(x+=e)&&1===e?window.addEventListener(se,m):0===x&&window.removeEventListener(se,m)}var I=!1;var S={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&le(window.location.href),n+"#"+c(u+X(e))},push:function(e,t){var n="PUSH",r=ee(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=X(r),i=c(u+t);if(fe()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(X(S.location)),o=b.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=ee(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=X(r),i=c(u+t);fe()!==i&&(t,he(i));var a=b.indexOf(X(S.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return I||(_(1),!0),function(){return I&&(!1,_(-1)),t()}},listen:function(e){var t=h.appendListener(e);return _(1),function(){_(-1),t()}}};return S}function pe(e,t,n){return Math.min(Math.max(e,t),n)}function ve(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=te();function l(e){q(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=pe(o,0,i.length-1),d=i.map((function(e){return ee(e,void 0,"string"===typeof e?f():e.key||f())})),p=X;function v(e){var t=pe(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=ee(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=ee(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,l({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var me=n(7),ye=n.n(me),ge=1073741823,ke="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function be(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var we=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return ke[e]=(ke[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=be(t.props.value),t}z(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):ge,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=ye().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}z(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?ge:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?ge:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=ye().object,i),{Provider:o,Consumer:u}},xe=we,_e=n(239),Ie=n.n(_e);n(228);function Se(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ee=function(e){var t=xe();return t.displayName=e,t},Te=Ee("Router-History"),Ce=function(e){var t=xe();return t.displayName=e,t},Ae=Ce("Router"),Ne=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}z(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Ae.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Te.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var De={},Oe=0;function Re(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=De[n]||(De[n]={});if(r[e])return r[e];var i=[],a={regexp:Ie()(e,i,t),keys:i};return Oe<1e4&&(r[e]=a,Oe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Pe=function(e){function n(){return e.apply(this,arguments)||this}return z(n,e),n.prototype.render=function(){var e=this;return t.createElement(Ae.Consumer,null,(function(n){n||Q(!1);var r=e.props.location||n.location,i=q({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Re(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&0===o.length&&(o=null),t.createElement(Ae.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function Me(e){return"/"===e.charAt(0)?e:"/"+e}function Le(e,t){if(!e)return t;var n=Me(e);return 0!==t.pathname.indexOf(n)?t:q({},t,{pathname:t.pathname.substr(n.length)})}function Fe(e){return"string"===typeof e?e:X(e)}function Ve(e){return function(){Q(!1)}}function Ue(){}t.Component;t.Component;function je(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=Se(n,["wrappedComponentRef"]);return t.createElement(Ae.Consumer,null,(function(n){return n||Q(!1),t.createElement(e,q({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,x()(r,e)}t.useContext;var Be="SubmitButton_button__-t+Dt",ze="SubmitButton_buttonGoogle__7VJ09",qe="SubmitButton_buttonTitle__Y4DU4",Ge="SubmitButton_buttonArrow__WmYdK",We="SubmitButton_buttonArrowDisabled__ChiO+",Ke=n(942);function He(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=He(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Qe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=He(e))&&(r&&(r+=" "),r+=t);return r};function Ze(e,t){var n=q({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function $e(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}function Ye(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Xe(e){if(e.type)return e;if("#"===e.charAt(0))return Xe(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Ye(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Ye(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function et(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function tt(e){var t="hsl"===(e=Xe(e)).type?Xe(function(e){var t=(e=Xe(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),et({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nt(e,t){return e=Xe(e),t=Je(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,et(e)}function rt(e,t){if(e=Xe(e),t=Je(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return et(e)}function it(e,t){if(e=Xe(e),t=Je(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return et(e)}function at(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ot(e){return function(e){if(Array.isArray(e))return a(e)}(e)||at(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},st=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ct=ut((function(e){return st.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var lt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ft=Math.abs,ht=String.fromCharCode,dt=Object.assign;function pt(e){return e.trim()}function vt(e,t,n){return e.replace(t,n)}function mt(e,t){return e.indexOf(t)}function yt(e,t){return 0|e.charCodeAt(t)}function gt(e,t,n){return e.slice(t,n)}function kt(e){return e.length}function bt(e){return e.length}function wt(e,t){return t.push(e),e}var xt=1,_t=1,It=0,St=0,Et=0,Tt="";function Ct(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:xt,column:_t,length:o,return:""}}function At(e,t){return dt(Ct("",null,null,"",null,null,0),e,{length:-e.length},t)}function Nt(){return Et=St>0?yt(Tt,--St):0,_t--,10===Et&&(_t=1,xt--),Et}function Dt(){return Et=St<It?yt(Tt,St++):0,_t++,10===Et&&(_t=1,xt++),Et}function Ot(){return yt(Tt,St)}function Rt(){return St}function Pt(e,t){return gt(Tt,e,t)}function Mt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Lt(e){return xt=_t=1,It=kt(Tt=e),St=0,[]}function Ft(e){return Tt="",e}function Vt(e){return pt(Pt(St-1,Bt(91===e?e+2:40===e?e+1:e)))}function Ut(e){for(;(Et=Ot())&&Et<33;)Dt();return Mt(e)>2||Mt(Et)>3?"":" "}function jt(e,t){for(;--t&&Dt()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return Pt(e,Rt()+(t<6&&32==Ot()&&32==Dt()))}function Bt(e){for(;Dt();)switch(Et){case e:return St;case 34:case 39:34!==e&&39!==e&&Bt(Et);break;case 40:41===e&&Bt(e);break;case 92:Dt()}return St}function zt(e,t){for(;Dt()&&e+Et!==57&&(e+Et!==84||47!==Ot()););return"/*"+Pt(t,St-1)+"*"+ht(47===e?e:Dt())}function qt(e){for(;!Mt(Ot());)Dt();return Pt(e,St)}var Gt="-ms-",Wt="-moz-",Kt="-webkit-",Ht="comm",Qt="rule",Zt="decl",$t="@keyframes";function Yt(e,t){for(var n="",r=bt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Jt(e,t,n,r){switch(e.type){case"@import":case Zt:return e.return=e.return||e.value;case Ht:return"";case $t:return e.return=e.value+"{"+Yt(e.children,r)+"}";case Qt:e.value=e.props.join(",")}return kt(n=Yt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Xt(e,t){switch(function(e,t){return(((t<<2^yt(e,0))<<2^yt(e,1))<<2^yt(e,2))<<2^yt(e,3)}(e,t)){case 5103:return Kt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+e+Wt+e+Gt+e+e;case 6828:case 4268:return Kt+e+Gt+e+e;case 6165:return Kt+e+Gt+"flex-"+e+e;case 5187:return Kt+e+vt(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Kt+e+Gt+"flex-item-"+vt(e,/flex-|-self/,"")+e;case 4675:return Kt+e+Gt+"flex-line-pack"+vt(e,/align-content|flex-|-self/,"")+e;case 5548:return Kt+e+Gt+vt(e,"shrink","negative")+e;case 5292:return Kt+e+Gt+vt(e,"basis","preferred-size")+e;case 6060:return Kt+"box-"+vt(e,"-grow","")+Kt+e+Gt+vt(e,"grow","positive")+e;case 4554:return Kt+vt(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return vt(vt(vt(e,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),e,"")+e;case 5495:case 3959:return vt(e,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return vt(vt(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+e+e;case 4095:case 3583:case 4068:case 2532:return vt(e,/(.+)-inline(.+)/,Kt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kt(e)-1-t>6)switch(yt(e,t+1)){case 109:if(45!==yt(e,t+4))break;case 102:return vt(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Wt+(108==yt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~mt(e,"stretch")?Xt(vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==yt(e,t+1))break;case 6444:switch(yt(e,kt(e)-3-(~mt(e,"!important")&&10))){case 107:return vt(e,":",":"+Kt)+e;case 101:return vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(45===yt(e,14)?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+Gt+"$2box$3")+e}break;case 5936:switch(yt(e,t+11)){case 114:return Kt+e+Gt+vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kt+e+Gt+vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kt+e+Gt+vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Kt+e+Gt+e+e}return e}function en(e){return Ft(tn("",null,null,null,[""],e=Lt(e),0,[0],e))}function tn(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=Dt()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=mt(_+=vt(Vt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Vt(g);break;case 9:case 10:case 13:case 32:_+=Ut(p);break;case 92:_+=jt(Rt()-1,7);continue;case 47:switch(Ot()){case 42:case 47:wt(rn(zt(Dt(),Rt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=kt(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&kt(_)-f&&wt(d>32?an(_+";",r,n,f-1):an(vt(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(wt(x=nn(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)tn(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:tn(e,x,x,r&&wt(nn(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:tn(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+kt(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Nt())continue;switch(_+=ht(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(kt(_)-1)*y,y=1;break;case 64:45===Ot()&&(_+=Vt(Dt())),h=Ot(),l=f=kt(k=_+=qt(Rt())),g++;break;case 45:45===p&&2==kt(_)&&(v=0)}}return a}function nn(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=bt(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=gt(e,f+1,f=ft(v=o[p])),k=e;y<d;++y)(k=pt(v>0?h[y]+" "+g:vt(g,/&\f/g,h[y])))&&(s[m++]=k);return Ct(e,t,n,0===i?Qt:u,s,c,l)}function rn(e,t,n){return Ct(e,t,n,Ht,ht(Et),gt(e,2,-2),0)}function an(e,t,n,r){return Ct(e,t,n,Zt,gt(e,0,r),gt(e,r+1,-1),r)}var on=function(e,t,n){for(var r=0,i=0;r=i,i=Ot(),38===r&&12===i&&(t[n]=1),!Mt(i);)Dt();return Pt(e,St)},un=function(e,t){return Ft(function(e,t){var n=-1,r=44;do{switch(Mt(r)){case 0:38===r&&12===Ot()&&(t[n]=1),e[n]+=on(St-1,t,n);break;case 2:e[n]+=Vt(r);break;case 4:if(44===r){e[++n]=58===Ot()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ht(r)}}while(r=Dt());return e}(Lt(e),t))},sn=new WeakMap,cn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||sn.get(n))&&!r){sn.set(e,!0);for(var i=[],a=un(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ln=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},fn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Zt:e.return=Xt(e.value,e.length);break;case $t:return Yt([At(e,{value:vt(e.value,"@","@"+Kt)})],r);case Qt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yt([At(e,{props:[vt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Yt([At(e,{props:[vt(t,/:(plac\w+)/,":-webkit-input-$1")]}),At(e,{props:[vt(t,/:(plac\w+)/,":-moz-$1")]}),At(e,{props:[vt(t,/:(plac\w+)/,Gt+"input-$1")]})],r)}return""}))}}],hn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||fn;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Jt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=bt(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([cn,ln].concat(r,l));a=function(e,t,n,r){s=n,Yt(en(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new lt({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var dn=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},pn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vn=/[A-Z]|^ms/g,mn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yn=function(e){return 45===e.charCodeAt(1)},gn=function(e){return null!=e&&"boolean"!==typeof e},kn=ut((function(e){return yn(e)?e:e.replace(vn,"-$&").toLowerCase()})),bn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(mn,(function(e,t,n){return xn={name:t,styles:n,next:xn},t}))}return 1===pn[e]||yn(e)||"number"!==typeof t||0===t?t:t+"px"};function wn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return xn={name:n.name,styles:n.styles,next:xn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)xn={name:r.name,styles:r.styles,next:xn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":gn(o)&&(r+=kn(a)+":"+bn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=wn(e,t,o);switch(a){case"animation":case"animationName":r+=kn(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)gn(o[s])&&(r+=kn(a)+":"+bn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=xn,a=n(e);return xn=i,wn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var xn,_n=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var In=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";xn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=wn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=wn(n,t,e[o]),r&&(i+=a[o]);_n.lastIndex=0;for(var u,s="";null!==(u=_n.exec(i));)s+="-"+u[1];return{name:dn(i)+s,styles:i,next:xn}},Sn=(0,t.createContext)("undefined"!==typeof HTMLElement?hn({key:"css"}):null);Sn.Provider;var En=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Sn);return e(n,i,r)}))},Tn=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Cn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var An=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Nn=ct,Dn=function(e){return"theme"!==e},On=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Nn:Dn},Rn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Pn=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Mn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;An(t,n,r);var i;i=function(){return function(e,t,n){An(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},Pn(i);return null},Ln=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Rn(n,r,o),c=s||On(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=En((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(Tn)}"string"===typeof e.className?o=Cn(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=In(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?On(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Mn,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,q({},r,n,{shouldForwardProp:Rn(v,n,!0)})).apply(void 0,h)},v}},Fn=Ln.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fn[e]=Fn(e)}));var Vn=Fn;function Un(e,t){return Vn(e,t)}var jn=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Bn(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?q({},e):e;return Bn(e)&&Bn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Bn(t[i])&&i in e&&Bn(e[i])?r[i]=zn(e[i],t[i],n):r[i]=t[i])})),r}var qn=["values","unit","step"];function Gn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Se(e,qn),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return q({},e,(0,Ke.Z)({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return q({keys:c,values:s,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var Wn={borderRadius:4},Kn={xs:0,sm:600,md:900,lg:1200,xl:1536},Hn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Kn[e],"px)")}};function Qn(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Hn;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Hn;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Kn).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Zn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function $n(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Yn(e){if("string"!==typeof e)throw new Error(Ye(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Jn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function Xn(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Jn(e,n)||i,t&&(r=t(r)),r}var er=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Jn(e.theme,i)||{};return Qn(e,n,(function(e){var n=Xn(o,a,e);return e===n&&"string"===typeof e&&(n=Xn(o,a,"".concat(t).concat("default"===e?"":Yn(e)),e)),!1===r?n:(0,Ke.Z)({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var tr=function(e,t){return t?zn(e,t,{clone:!1}):e};var nr={m:"margin",p:"padding"},rr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ir={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ar=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ir[e])return[e];e=ir[e]}var t=s(e.split(""),2),n=t[0],r=t[1],i=nr[n],a=rr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),or=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ur=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],sr=[].concat(or,ur);function cr(e,t,n,r){var i,a=null!=(i=Jn(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function lr(e){return cr(e,"spacing",8)}function fr(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function hr(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=fr(t,n),e}),{})}}(ar(n),r);return Qn(e,e[n],i)}function dr(e,t){var n=lr(e.theme);return Object.keys(e).map((function(r){return hr(e,t,r,n)})).reduce(tr,{})}function pr(e){return dr(e,or)}function vr(e){return dr(e,ur)}function mr(e){return dr(e,sr)}pr.propTypes={},pr.filterProps=or,vr.propTypes={},vr.filterProps=ur,mr.propTypes={},mr.filterProps=sr;var yr=mr;function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=lr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var kr=["breakpoints","palette","spacing","shape"];var br=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Se(e,kr),c=Gn(n),l=gr(a),f=zn({breakpoints:c,direction:"ltr",components:{},palette:q({mode:"light"},i),spacing:l,shape:q({},Wn,u)},s),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return f=d.reduce((function(e,t){return zn(e,t)}),f)},wr=["variant"];function xr(e){return 0===e.length}function _r(e){var t=e.variant,n=Se(e,wr),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?xr(r)?e[t]:Yn(e[t]):"".concat(xr(r)?t:Yn(t)).concat(Yn(e[t].toString()))})),r}var Ir=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?tr(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Sr(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Er=er({prop:"border",themeKey:"borders",transform:Sr}),Tr=er({prop:"borderTop",themeKey:"borders",transform:Sr}),Cr=er({prop:"borderRight",themeKey:"borders",transform:Sr}),Ar=er({prop:"borderBottom",themeKey:"borders",transform:Sr}),Nr=er({prop:"borderLeft",themeKey:"borders",transform:Sr}),Dr=er({prop:"borderColor",themeKey:"palette"}),Or=er({prop:"borderTopColor",themeKey:"palette"}),Rr=er({prop:"borderRightColor",themeKey:"palette"}),Pr=er({prop:"borderBottomColor",themeKey:"palette"}),Mr=er({prop:"borderLeftColor",themeKey:"palette"}),Lr=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=cr(e.theme,"shape.borderRadius",4);return Qn(e,e.borderRadius,(function(e){return{borderRadius:fr(t,e)}}))}return null};Lr.propTypes={},Lr.filterProps=["borderRadius"];var Fr=Ir(Er,Tr,Cr,Ar,Nr,Dr,Or,Rr,Pr,Mr,Lr),Vr=Ir(er({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),er({prop:"display"}),er({prop:"overflow"}),er({prop:"textOverflow"}),er({prop:"visibility"}),er({prop:"whiteSpace"})),Ur=Ir(er({prop:"flexBasis"}),er({prop:"flexDirection"}),er({prop:"flexWrap"}),er({prop:"justifyContent"}),er({prop:"alignItems"}),er({prop:"alignContent"}),er({prop:"order"}),er({prop:"flex"}),er({prop:"flexGrow"}),er({prop:"flexShrink"}),er({prop:"alignSelf"}),er({prop:"justifyItems"}),er({prop:"justifySelf"})),jr=function(e){if(void 0!==e.gap&&null!==e.gap){var t=cr(e.theme,"spacing",8);return Qn(e,e.gap,(function(e){return{gap:fr(t,e)}}))}return null};jr.propTypes={},jr.filterProps=["gap"];var Br=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=cr(e.theme,"spacing",8);return Qn(e,e.columnGap,(function(e){return{columnGap:fr(t,e)}}))}return null};Br.propTypes={},Br.filterProps=["columnGap"];var zr=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=cr(e.theme,"spacing",8);return Qn(e,e.rowGap,(function(e){return{rowGap:fr(t,e)}}))}return null};zr.propTypes={},zr.filterProps=["rowGap"];var qr=Ir(jr,Br,zr,er({prop:"gridColumn"}),er({prop:"gridRow"}),er({prop:"gridAutoFlow"}),er({prop:"gridAutoColumns"}),er({prop:"gridAutoRows"}),er({prop:"gridTemplateColumns"}),er({prop:"gridTemplateRows"}),er({prop:"gridTemplateAreas"}),er({prop:"gridArea"})),Gr=Ir(er({prop:"position"}),er({prop:"zIndex",themeKey:"zIndex"}),er({prop:"top"}),er({prop:"right"}),er({prop:"bottom"}),er({prop:"left"})),Wr=Ir(er({prop:"color",themeKey:"palette"}),er({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),er({prop:"backgroundColor",themeKey:"palette"})),Kr=er({prop:"boxShadow",themeKey:"shadows"});function Hr(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Qr=er({prop:"width",transform:Hr}),Zr=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Qn(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Kn[t]||Hr(t)}}))}return null};Zr.filterProps=["maxWidth"];var $r=er({prop:"minWidth",transform:Hr}),Yr=er({prop:"height",transform:Hr}),Jr=er({prop:"maxHeight",transform:Hr}),Xr=er({prop:"minHeight",transform:Hr}),ei=(er({prop:"size",cssProperty:"width",transform:Hr}),er({prop:"size",cssProperty:"height",transform:Hr}),Ir(Qr,Zr,$r,Yr,Jr,Xr,er({prop:"boxSizing"}))),ti=er({prop:"fontFamily",themeKey:"typography"}),ni=er({prop:"fontSize",themeKey:"typography"}),ri=er({prop:"fontStyle",themeKey:"typography"}),ii=er({prop:"fontWeight",themeKey:"typography"}),ai=er({prop:"letterSpacing"}),oi=er({prop:"textTransform"}),ui=er({prop:"lineHeight"}),si=er({prop:"textAlign"}),ci=Ir(er({prop:"typography",cssProperty:!1,themeKey:"typography"}),ti,ni,ri,ii,ai,ui,si,oi),li={borders:Fr.filterProps,display:Vr.filterProps,flexbox:Ur.filterProps,grid:qr.filterProps,positions:Gr.filterProps,palette:Wr.filterProps,shadows:Kr.filterProps,sizing:ei.filterProps,spacing:yr.filterProps,typography:ci.filterProps},fi={borders:Fr,display:Vr,flexbox:Ur,grid:qr,positions:Gr,palette:Wr,shadows:Kr,sizing:ei,spacing:yr,typography:ci};Object.keys(li).reduce((function(e,t){return li[t].forEach((function(n){e[n]=fi[t]})),e}),{});function hi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function di(e,t){return"function"===typeof e?e(t):e}var pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,Ke.Z)(i,e,n),(0,Ke.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,Ke.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=Zn(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=di(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=tr(s,n(e,a,u));else{var o=Qn({theme:u},a,(function(t){return(0,Ke.Z)({},e,t)}));hi(o,a)?s[e]=r({sx:a,theme:u}):s=tr(s,o)}else s=tr(s,n(e,a,u))})),$n(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();pi.filterProps=["sx"];var vi=pi,mi=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],yi=["theme"],gi=["theme"];function ki(e){return 0===Object.keys(e).length}function bi(e){return"string"===typeof e&&e.charCodeAt(0)>96}var wi=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},xi=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=_r(e.props);r[t]=e.style})),r},_i=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[_r(n.props)])})),s};function Ii(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Si=br();function Ei(e,t){var n;return q({toolbar:(n={minHeight:56},(0,Ke.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,Ke.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var Ti={black:"#000",white:"#fff"},Ci={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ai={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ni={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Di={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Oi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ri={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Pi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Mi=["mode","contrastThreshold","tonalOffset"],Li={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ti.white,default:Ti.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fi={text:{primary:Ti.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ti.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Vi(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=it(e.main,i):"dark"===t&&(e.dark=rt(e.main,a)))}function Ui(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Se(e,Mi),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Oi[200],light:Oi[50],dark:Oi[400]}:{main:Oi[700],light:Oi[400],dark:Oi[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ai[200],light:Ai[50],dark:Ai[400]}:{main:Ai[500],light:Ai[300],dark:Ai[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ni[500],light:Ni[300],dark:Ni[700]}:{main:Ni[700],light:Ni[400],dark:Ni[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ri[400],light:Ri[300],dark:Ri[700]}:{main:Ri[700],light:Ri[500],dark:Ri[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pi[400],light:Pi[300],dark:Pi[700]}:{main:Pi[800],light:Pi[500],dark:Pi[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Di[400],light:Di[300],dark:Di[700]}:{main:"#ed6c02",light:Di[500],dark:Di[900]}}(n);function p(e){var t=function(e,t){var n=tt(e),r=tt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Fi.text.primary)>=i?Fi.text.primary:Li.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=q({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Ye(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Ye(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Vi(t,"light",u,o),Vi(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:Fi,light:Li};return zn(q({common:q({},Ti),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:Ci,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var ji=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Bi={textTransform:"uppercase"},zi='"Roboto", "Helvetica", "Arial", sans-serif';function qi(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?zi:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,k=Se(n,ji);var b=o/14,w=g||function(e){return"".concat(e/m*b,"rem")},x=function(e,t,n,r,a){return q({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===zi?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},_={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,Bi),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Bi)};return zn(q({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},_),k,{clone:!1})}function Gi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Wi=["none",Gi(0,2,1,-1,0,1,1,0,0,1,3,0),Gi(0,3,1,-2,0,2,2,0,0,1,5,0),Gi(0,3,3,-2,0,3,4,0,0,1,8,0),Gi(0,2,4,-1,0,4,5,0,0,1,10,0),Gi(0,3,5,-1,0,5,8,0,0,1,14,0),Gi(0,3,5,-1,0,6,10,0,0,1,18,0),Gi(0,4,5,-2,0,7,10,1,0,2,16,1),Gi(0,5,5,-3,0,8,10,1,0,3,14,2),Gi(0,5,6,-3,0,9,12,1,0,3,16,2),Gi(0,6,6,-3,0,10,14,1,0,4,18,3),Gi(0,6,7,-4,0,11,15,1,0,4,20,3),Gi(0,7,8,-4,0,12,17,2,0,5,22,4),Gi(0,7,8,-4,0,13,19,2,0,5,24,4),Gi(0,7,9,-4,0,14,21,2,0,5,26,4),Gi(0,8,9,-5,0,15,22,2,0,6,28,5),Gi(0,8,10,-5,0,16,24,2,0,6,30,5),Gi(0,8,11,-5,0,17,26,2,0,6,32,5),Gi(0,9,11,-5,0,18,28,2,0,7,34,6),Gi(0,9,12,-6,0,19,29,2,0,7,36,6),Gi(0,10,13,-6,0,20,31,3,0,8,38,7),Gi(0,10,13,-6,0,21,33,3,0,8,40,7),Gi(0,10,14,-6,0,22,35,3,0,8,42,7),Gi(0,11,14,-7,0,23,36,3,0,9,44,8),Gi(0,11,15,-7,0,24,38,3,0,9,46,8)],Ki=["duration","easing","delay"],Hi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Qi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zi(e){return"".concat(Math.round(e),"ms")}function $i(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Yi(e){var t=q({},Hi,e.easing),n=q({},Qi,e.duration);return q({getAutoHeightDuration:$i,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Se(r,Ki);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Zi(a)," ").concat(u," ").concat("string"===typeof c?c:Zi(c))})).join(",")}},e,{easing:t,duration:n})}var Ji={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Se(e,Xi);if(e.vars)throw new Error(Ye(18));var l=Ui(i),f=br(e),h=zn(f,{mixins:Ei(f.breakpoints,n),palette:l,shadows:Wi.slice(),typography:qi(l,s),transitions:Yi(o),zIndex:q({},Ji)});h=zn(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return zn(e,t)}),h)}var ta=ea(),na=function(e){return Ii(e)&&"classes"!==e},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Si:t,r=e.rootShouldForwardProp,i=void 0===r?Ii:r,a=e.slotShouldForwardProp,o=void 0===a?Ii:a,u=e.styleFunctionSx,c=void 0===u?vi:u,l=function(e){var t=ki(e.theme)?n:e.theme;return c(q({},e,{theme:t}))};return l.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jn(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,u=t.slot,c=t.skipVariantsResolver,f=t.skipSx,h=t.overridesResolver,d=Se(t,mi),p=void 0!==c?c:u&&"Root"!==u||!1,v=f||!1;var m=Ii;"Root"===u?m=i:u?m=o:bi(e)&&(m=void 0);var y=Un(e,q({shouldForwardProp:m,label:r},d)),g=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Se(t,yi);return e(q({theme:ki(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=ki(e.theme)?n:e.theme,r=wi(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=s(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(q({},e,{theme:t})):o})),h(e,i)}return null})),a&&!p&&o.push((function(e){var t=ki(e.theme)?n:e.theme;return _i(e,xi(a,t),t,a)})),v||o.push(l);var c=o.length-r.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(u=[].concat(ot(e),ot(f))).raw=[].concat(ot(e.raw),ot(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=Se(t,gi);return e(q({theme:ki(r)?n:r},i))});var d=y.apply(void 0,[u].concat(ot(o)));return d};return y.withConfig&&(g.withConfig=y.withConfig),g}}({defaultTheme:ta,rootShouldForwardProp:na}),ia=ra;var aa=t.createContext(null);function oa(){return t.useContext(aa)}function ua(e){return 0===Object.keys(e).length}var sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=oa();return!t||ua(t)?e:t},ca=br();var la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return sa(e)};function fa(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Ze(t.components[n].defaultProps,r):r}({theme:la(r),name:n,props:t});return i}function ha(e){return fa({props:e.props,name:e.name,defaultTheme:ta})}function da(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var pa=function(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){da(e,t),da(n,t)}}),[e,n])},va="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var ma,ya=function(e){var n=t.useRef(e);return va((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},ga=!0,ka=!1,ba={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function wa(e){e.metaKey||e.altKey||e.ctrlKey||(ga=!0)}function xa(){ga=!1}function _a(){"hidden"===this.visibilityState&&ka&&(ga=!0)}function Ia(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ga||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ba[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Sa=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",wa,!0),t.addEventListener("mousedown",xa,!0),t.addEventListener("pointerdown",xa,!0),t.addEventListener("touchstart",xa,!0),t.addEventListener("visibilitychange",_a,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Ia(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(ka=!0,window.clearTimeout(ma),ma=window.setTimeout((function(){ka=!1}),100),n.current=!1,!0)},ref:e}};function Ea(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ca=t.createContext(null);function Aa(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Na(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Da(e,n,r){var i=Aa(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Na(u,"exit",e),enter:Na(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Na(u,"exit",e),enter:Na(u,"enter",e)})}})),a}var Oa=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ra=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Ta(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}z(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Aa(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Na(e,"appear",r),enter:Na(e,"enter",r),exit:Na(e,"exit",r)})}))):Da(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Aa(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=q({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=Se(e,["component","childFactory"]),a=this.state.contextValue,o=Oa(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Ca.Provider,{value:a},o):t.createElement(Ca.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);Ra.propTypes={},Ra.defaultProps={component:"div",childFactory:function(e){return e}};var Pa=Ra;r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function Ma(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return In(t)}var La=function(){var e=Ma.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Fa=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=s(t.useState(!1),2),p=d[0],v=d[1],m=Qe(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:c,height:c,top:-c/2+u,left:-c/2+o},g=Qe(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,O.jsx)("span",{className:m,style:y,children:(0,O.jsx)("span",{className:g})})},Va=function(e){return e},Ua=function(){var e=Va;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Va}}}(),ja={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ba(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=ja[t];return r?"".concat(n,"-").concat(r):"".concat(Ua.generate(e),"-").concat(t)}function za(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Ba(e,t,n)})),r}var qa,Ga,Wa,Ka,Ha,Qa,Za,$a,Ya=za("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ja=["center","classes","className"],Xa=La(Ha||(Ha=qa||(qa=Ea(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),eo=La(Qa||(Qa=Ga||(Ga=Ea(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),to=La(Za||(Za=Wa||(Wa=Ea(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),no=ia("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ro=ia(Fa,{name:"MuiTouchRipple",slot:"Ripple"})($a||($a=Ka||(Ka=Ea(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ya.rippleVisible,Xa,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ya.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Ya.child,Ya.childLeaving,eo,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ya.childPulsate,to,(function(e){return e.theme.transitions.easing.easeInOut})),io=t.forwardRef((function(e,n){var r=ha({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,c=r.className,l=Se(r,Ja),f=s(t.useState([]),2),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(ot(e),[(0,O.jsx)(ro,{classes:{ripple:Qe(u.ripple,Ya.ripple),rippleVisible:Qe(u.rippleVisible,Ya.rippleVisible),ripplePulsate:Qe(u.ripplePulsate,Ya.ripplePulsate),child:Qe(u.child,Ya.child),childLeaving:Qe(u.childLeaving,Ya.childLeaving),childPulsate:Qe(u.childPulsate,Ya.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(I,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),(0,O.jsx)(no,q({className:Qe(Ya.root,u.root,c),ref:k},l,{children:(0,O.jsx)(Pa,{component:null,exit:!0,children:h})}))})),ao=io;function oo(e){return Ba("MuiButtonBase",e)}var uo,so=za("MuiButtonBase",["root","disabled","focusVisible"]),co=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],lo=ia("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((uo={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,Ke.Z)(uo,"&.".concat(so.disabled),{pointerEvents:"none",cursor:"default"}),(0,Ke.Z)(uo,"@media print",{colorAdjust:"exact"}),uo)),fo=t.forwardRef((function(e,n){var r=ha({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,c=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,k=void 0!==g&&g,b=r.LinkComponent,w=void 0===b?"a":b,x=r.onBlur,_=r.onClick,I=r.onContextMenu,S=r.onDragLeave,E=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,A=r.onKeyUp,N=r.onMouseDown,D=r.onMouseLeave,R=r.onMouseUp,P=r.onTouchEnd,M=r.onTouchMove,L=r.onTouchStart,F=r.tabIndex,V=void 0===F?0:F,U=r.TouchRippleProps,j=r.touchRippleRef,B=r.type,z=Se(r,co),G=t.useRef(null),W=t.useRef(null),K=pa(W,j),H=Sa(),Q=H.isFocusVisibleRef,Z=H.onFocus,$=H.onBlur,Y=H.ref,J=s(t.useState(!1),2),X=J[0],ee=J[1];d&&X&&ee(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ee(!0),G.current.focus()}}}),[]);var te=s(t.useState(!1),2),ne=te[0],re=te[1];t.useEffect((function(){re(!0)}),[]);var ie=ne&&!v&&!d;function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return ya((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}t.useEffect((function(){X&&k&&!v&&ne&&W.current.pulsate()}),[v,k,X,ne]);var oe=ae("start",N),ue=ae("stop",I),se=ae("stop",S),ce=ae("stop",R),le=ae("stop",(function(e){X&&e.preventDefault(),D&&D(e)})),fe=ae("start",L),he=ae("stop",P),de=ae("stop",M),pe=ae("stop",(function(e){$(e),!1===Q.current&&ee(!1),x&&x(e)}),!1),ve=ya((function(e){G.current||(G.current=e.currentTarget),Z(e),!0===Q.current&&(ee(!0),T&&T(e)),E&&E(e)})),me=function(){var e=G.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),ge=ya((function(e){k&&!ye.current&&X&&W.current&&" "===e.key&&(ye.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),ke=ya((function(e){k&&" "===e.key&&W.current&&X&&!e.defaultPrevented&&(ye.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),A&&A(e),_&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&_(e)})),be=f;"button"===be&&(z.href||z.to)&&(be=w);var we={};"button"===be?(we.type=void 0===B?"button":B,we.disabled=d):(z.href||z.to||(we.role="button"),d&&(we["aria-disabled"]=d));var xe=pa(Y,G),_e=pa(n,xe);var Ie=q({},r,{centerRipple:o,component:f,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:k,tabIndex:V,focusVisible:X}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=$e({root:["root",t&&"disabled",n&&"focusVisible"]},oo,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ie);return(0,O.jsxs)(lo,q({as:be,className:Qe(Ee.root,c),ownerState:Ie,onBlur:pe,onClick:_,onContextMenu:ue,onFocus:ve,onKeyDown:ge,onKeyUp:ke,onMouseDown:oe,onMouseLeave:le,onMouseUp:ce,onDragLeave:se,onTouchEnd:he,onTouchMove:de,onTouchStart:fe,ref:_e,tabIndex:d?-1:V,type:B},we,z,{children:[u,ie?(0,O.jsx)(ao,q({ref:K,center:o},U)):null]}))})),ho=fo,po=Yn;function vo(e){return Ba("MuiButton",e)}var mo=za("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var yo=t.createContext({}),go=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ko=["root"],bo=function(e){return q({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},wo=ia(ho,{shouldForwardProp:function(e){return na(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(po(n.color))],t["size".concat(po(n.size))],t["".concat(n.variant,"Size").concat(po(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return q({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":q({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nt(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nt(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nt(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":q({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,Ke.Z)(t,"&.".concat(mo.focusVisible),q({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,Ke.Z)(t,"&.".concat(mo.disabled),q({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(nt(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,Ke.Z)(t,"&.".concat(mo.focusVisible),{boxShadow:"none"}),(0,Ke.Z)(t,"&:active",{boxShadow:"none"}),(0,Ke.Z)(t,"&.".concat(mo.disabled),{boxShadow:"none"}),t)})),xo=ia("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(po(n.size))]]}})((function(e){var t=e.ownerState;return q({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},bo(t))})),_o=ia("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(po(n.size))]]}})((function(e){var t=e.ownerState;return q({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},bo(t))})),Io=t.forwardRef((function(e,n){var r=t.useContext(yo),i=ha({props:Ze(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,d=i.disableElevation,p=void 0!==d&&d,v=i.disableFocusRipple,m=void 0!==v&&v,y=i.endIcon,g=i.focusVisibleClassName,k=i.fullWidth,b=void 0!==k&&k,w=i.size,x=void 0===w?"medium":w,_=i.startIcon,I=i.type,S=i.variant,E=void 0===S?"text":S,T=Se(i,go),C=q({},i,{color:u,component:c,disabled:h,disableElevation:p,disableFocusRipple:m,fullWidth:b,size:x,type:I,variant:E}),A=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return q({},o,$e({root:["root",a,"".concat(a).concat(po(t)),"size".concat(po(i)),"".concat(a,"Size").concat(po(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(po(i))],endIcon:["endIcon","iconSize".concat(po(i))]},vo,o))}(C),N=A.root,D=Se(A,ko),R=_&&(0,O.jsx)(xo,{className:D.startIcon,ownerState:C,children:_}),P=y&&(0,O.jsx)(_o,{className:D.endIcon,ownerState:C,children:y});return(0,O.jsxs)(wo,q({ownerState:C,className:Qe(r.className,N,l),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:Qe(D.focusVisible,g),ref:n,type:I},T,{classes:D,children:[R,a,P]}))})),So=Io,Eo=n(765),To=function(e){var t=e.isActiveError,n=e.text;return(0,O.jsxs)(So,{disabled:t,"aria-label":"submit",variant:"contained",size:"large",type:"submit",className:Be,children:[(0,O.jsx)("h3",{className:qe,children:n}),(0,O.jsx)(Eo.m,{className:t?We:Ge})]})},Co="Authentication_mainWrapper__WodxL",Ao="Authentication_userNameForm__9sEbH",No="Authentication_label__isoN4",Do="Authentication_formField__fxdG-";function Oo(e){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(e)}function Ro(){Ro=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Oo(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Po(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Mo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Po(a,r,i,o,u,"next",e)}function u(e){Po(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Lo=function(e){return function(){var t=Mo(Ro().mark((function t(n){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("userAuthInfo",JSON.stringify(e)),n({type:"AUTH",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n){return t&&Vo(e.prototype,t),n&&Vo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Bo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zo(e)}function qo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Go(e,t){if(t&&("object"===Oo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}function Wo(e){var t=qo();return function(){var n,r=zo(e);if(t){var i=zo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Go(this,n)}}function Ko(e,t,n){return Ko=qo()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&B(i,n.prototype),i},Ko.apply(null,arguments)}function Ho(e){var t="function"===typeof Map?new Map:void 0;return Ho=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ko(e,arguments,zo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),B(n,e)},Ho(e)}var Qo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$o=function(e){return function(e){var t=Qo(e);return Zo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Yo=function(e){try{return Zo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Jo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Xo(n)&&(e[n]=Jo(e[n],t[n]));return e}function Xo(e){return"__proto__"!==e}var eu=function(){function e(){var t=this;Fo(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Uo(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function tu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$o(JSON.stringify({alg:"none",type:"JWT"})),$o(JSON.stringify(a)),""].join(".")}function nu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ru(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nu())}function iu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function au(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ou(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function uu(){var e=nu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function su(){return"object"===typeof indexedDB}var cu=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ta(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ta(a),lu.prototype.create),a}return Uo(n)}(Ho(Error)),lu=function(){function e(t,n,r){Fo(this,e),this.service=t,this.serviceName=n,this.errors=r}return Uo(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?fu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new cu(n,a,t);return o}}]),e}();function fu(e,t){return e.replace(hu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var hu=/\{\$([^}]+)}/g;function du(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(vu(u)&&vu(s)){if(!pu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function vu(e){return null!==e&&"object"===typeof e}function mu(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function yu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function gu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ku(e,t){var n=new bu(e,t);return n.subscribe.bind(n)}var bu=function(){function e(t,n){var r=this;Fo(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Uo(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=jo(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wu),void 0===r.error&&(r.error=wu),void 0===r.complete&&(r.complete=wu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function wu(){}function xu(e){return e&&e._delegate?e._delegate:e}var _u=function(){function e(t,n,r){Fo(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Uo(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Iu="[DEFAULT]",Su=function(){function e(t,n){Fo(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Uo(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new eu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Iu})}catch(c){}var t,n=jo(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ot(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ot(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=jo(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Eu(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu;return this.component?this.component.multipleInstances?e:Iu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Eu(e){return e===Iu?void 0:e}var Tu,Cu,Au=function(){function e(t){Fo(this,e),this.name=t,this.providers=new Map}return Uo(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Su(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Nu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cu||(Cu={}));var Du={debug:Cu.DEBUG,verbose:Cu.VERBOSE,info:Cu.INFO,warn:Cu.WARN,error:Cu.ERROR,silent:Cu.SILENT},Ou=Cu.INFO,Ru=(Tu={},(0,Ke.Z)(Tu,Cu.DEBUG,"log"),(0,Ke.Z)(Tu,Cu.VERBOSE,"log"),(0,Ke.Z)(Tu,Cu.INFO,"info"),(0,Ke.Z)(Tu,Cu.WARN,"warn"),(0,Ke.Z)(Tu,Cu.ERROR,"error"),Tu),Pu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ru[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Mu=function(){function e(t){Fo(this,e),this.name=t,this._logLevel=Ou,this._logHandler=Pu,this._userLogHandler=null,Nu.push(this)}return Uo(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Cu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Du[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Cu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Cu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Cu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Cu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Cu.INFO].concat(t)),this._logHandler.apply(this,[this,Cu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Cu.WARN].concat(t)),this._logHandler.apply(this,[this,Cu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Cu.ERROR].concat(t)),this._logHandler.apply(this,[this,Cu.ERROR].concat(t))}}]),e}();var Lu,Fu,Vu=n(413);var Uu=new WeakMap,ju=new WeakMap,Bu=new WeakMap,zu=new WeakMap,qu=new WeakMap;var Gu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ju.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Wu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fu||(Fu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qu(this),n),Hu(Uu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hu(e.apply(Qu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Qu(this),t].concat(r));return Bu.set(a,t.sort?t.sort():[t]),Hu(a)}}function Ku(e){return"function"===typeof e?Wu(e):(e instanceof IDBTransaction&&function(e){if(!ju.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ju.set(e,t)}}(e),t=e,(Lu||(Lu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Gu):e);var t}function Hu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Hu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Uu.set(t,e)})).catch((function(){})),qu.set(t,e),t}(e);if(zu.has(e))return zu.get(e);var t=Ku(e);return t!==e&&(zu.set(e,t),qu.set(t,e)),t}var Qu=function(e){return qu.get(e)};var Zu,$u,Yu=["get","getKey","getAll","getAllKeys","count"],Ju=["put","add","delete","clear"],Xu=new Map;function es(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Xu.get(t))return Xu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ju.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Yu.includes(n))){var a=function(){var e=Mo(Ro().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Xu.set(t,a),a}}}Gu=function(e){return(0,Vu.Z)((0,Vu.Z)({},e),{},{get:function(t,n,r){return es(t,n)||e.get(t,n,r)},has:function(t,n){return!!es(t,n)||e.has(t,n)}})}(Gu);var ts=function(){function e(t){Fo(this,e),this.container=t}return Uo(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ns="@firebase/app",rs="0.7.30",is=new Mu("@firebase/app"),as="[DEFAULT]",os=(Zu={},(0,Ke.Z)(Zu,ns,"fire-core"),(0,Ke.Z)(Zu,"@firebase/app-compat","fire-core-compat"),(0,Ke.Z)(Zu,"@firebase/analytics","fire-analytics"),(0,Ke.Z)(Zu,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ke.Z)(Zu,"@firebase/app-check","fire-app-check"),(0,Ke.Z)(Zu,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ke.Z)(Zu,"@firebase/auth","fire-auth"),(0,Ke.Z)(Zu,"@firebase/auth-compat","fire-auth-compat"),(0,Ke.Z)(Zu,"@firebase/database","fire-rtdb"),(0,Ke.Z)(Zu,"@firebase/database-compat","fire-rtdb-compat"),(0,Ke.Z)(Zu,"@firebase/functions","fire-fn"),(0,Ke.Z)(Zu,"@firebase/functions-compat","fire-fn-compat"),(0,Ke.Z)(Zu,"@firebase/installations","fire-iid"),(0,Ke.Z)(Zu,"@firebase/installations-compat","fire-iid-compat"),(0,Ke.Z)(Zu,"@firebase/messaging","fire-fcm"),(0,Ke.Z)(Zu,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ke.Z)(Zu,"@firebase/performance","fire-perf"),(0,Ke.Z)(Zu,"@firebase/performance-compat","fire-perf-compat"),(0,Ke.Z)(Zu,"@firebase/remote-config","fire-rc"),(0,Ke.Z)(Zu,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ke.Z)(Zu,"@firebase/storage","fire-gcs"),(0,Ke.Z)(Zu,"@firebase/storage-compat","fire-gcs-compat"),(0,Ke.Z)(Zu,"@firebase/firestore","fire-fst"),(0,Ke.Z)(Zu,"@firebase/firestore-compat","fire-fst-compat"),(0,Ke.Z)(Zu,"fire-js","fire-js"),(0,Ke.Z)(Zu,"firebase","fire-js-all"),Zu),us=new Map,ss=new Map;function cs(e,t){try{e.container.addComponent(t)}catch(n){is.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ls(e,t){e.container.addOrOverwriteComponent(t)}function fs(e){var t=e.name;if(ss.has(t))return is.debug("There were multiple attempts to register component ".concat(t,".")),!1;ss.set(t,e);var n,r=jo(us.values());try{for(r.s();!(n=r.n()).done;){cs(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function hs(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ds(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:as;hs(e,t).clearInstance(n)}function ps(){ss.clear()}var vs=($u={},(0,Ke.Z)($u,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ke.Z)($u,"bad-app-name","Illegal App name: '{$appName}"),(0,Ke.Z)($u,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ke.Z)($u,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ke.Z)($u,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ke.Z)($u,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ke.Z)($u,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Ke.Z)($u,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Ke.Z)($u,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Ke.Z)($u,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),$u),ms=new lu("app","Firebase",vs),ys=function(){function e(t,n,r){var i=this;Fo(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _u("app",(function(){return i}),"PUBLIC"))}return Uo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}]),e}(),gs="9.9.2";function ks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:as,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ms.create("bad-app-name",{appName:String(i)});var a=us.get(i);if(a){if(pu(e,a.options)&&pu(r,a.config))return a;throw ms.create("duplicate-app",{appName:i})}var o,u=new Au(i),s=jo(ss.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ys(e,r,u);return us.set(i,l),l}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as,t=us.get(e);if(!t)throw ms.create("no-app",{appName:e});return t}function ws(){return Array.from(us.values())}function xs(e){return _s.apply(this,arguments)}function _s(){return(_s=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!us.has(n)){e.next=6;break}return us.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e,t,n){var r,i=null!==(r=os[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void is.warn(u.join(" "))}fs(new _u("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ss(e,t){if(null!==e&&"function"!==typeof e)throw ms.create("invalid-log-argument");!function(e,t){var n,r=jo(Nu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Du[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Cu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Es(e){var t;t=e,Nu.forEach((function(e){e.setLogLevel(t)}))}var Ts="firebase-heartbeat-store",Cs=null;function As(){return Cs||(Cs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Hu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Hu(u.result),e.oldVersion,e.newVersion,Hu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ts)}}).catch((function(e){throw ms.create("idb-open",{originalErrorMessage:e.message})}))),Cs}function Ns(e){return Ds.apply(this,arguments)}function Ds(){return Ds=Mo(Ro().mark((function e(t){var n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,As();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ts).objectStore(Ts).get(Ps(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof cu?is.warn(e.t0.message):(i=ms.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),is.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ds.apply(this,arguments)}function Os(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Mo(Ro().mark((function e(t,n){var r,i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,As();case 3:return i=e.sent,a=i.transaction(Ts,"readwrite"),o=a.objectStore(Ts),e.next=8,o.put(n,Ps(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof cu?is.warn(e.t0.message):(u=ms.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),is.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Rs.apply(this,arguments)}function Ps(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ms=function(){function e(t){var n=this;Fo(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new js(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Uo(e,[{key:"triggerHeartbeat",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ls(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ls(),n=Fs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=$o(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ls(){return(new Date).toISOString().substring(0,10)}function Fs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=jo(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Bs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Bs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vs,Us,js=function(){function e(t){Fo(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Uo(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(su()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ns(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ot(r.heartbeats),ot(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Bs(e){return $o(JSON.stringify({version:2,heartbeats:e})).length}Vs="",fs(new _u("platform-logger",(function(e){return new ts(e)}),"PRIVATE")),fs(new _u("heartbeat",(function(e){return new Ms(e)}),"PRIVATE")),Is(ns,rs,Vs),Is(ns,rs,"esm2017"),Is("fire-js","");var zs=function(){function e(t,n){var r=this;Fo(this,e),this._delegate=t,this.firebase=n,cs(t,new _u("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Uo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){cs(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ls(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),qs=(Us={},(0,Ke.Z)(Us,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ke.Z)(Us,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Us),Gs=new lu("app-compat","Firebase",qs);var Ws=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ks(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(du(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Is,setLogLevel:Es,onLog:Ss,apps:null,SDK_VERSION:gs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fs(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Jo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!du(n,e=e||as))throw Gs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Jo(n,e)},createSubscribe:ku,ErrorFactory:lu,deepExtend:Jo}),n}(),Ks=new Mu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ks.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Hs=self.firebase.SDK_VERSION;Hs&&Hs.indexOf("LITE")>=0&&Ks.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Qs=Ws;!function(e){Is("@firebase/app-compat","0.1.31",e)}();function Zs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zo(e)););return e}function $s(){return $s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Zs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$s.apply(this,arguments)}Qs.registerVersion("firebase","9.9.2","app-compat");function Ys(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Js;Object.create;var Xs="facebook.com",ec="github.com",tc="google.com",nc="password",rc="twitter.com",ic="EMAIL_SIGNIN",ac="PASSWORD_RESET",oc="RECOVER_EMAIL",uc="REVERT_SECOND_FACTOR_ADDITION",sc="VERIFY_AND_CHANGE_EMAIL",cc="VERIFY_EMAIL";function lc(){return(0,Ke.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fc=function(){var e;return e={},(0,Ke.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Ke.Z)(e,"argument-error",""),(0,Ke.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Ke.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Ke.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Ke.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Ke.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Ke.Z)(e,"cors-unsupported","This browser is not supported."),(0,Ke.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Ke.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Ke.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Ke.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Ke.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Ke.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Ke.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Ke.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Ke.Z)(e,"expired-action-code","The action code has expired."),(0,Ke.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Ke.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Ke.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Ke.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Ke.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Ke.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Ke.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Ke.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Ke.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Ke.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Ke.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Ke.Z)(e,"invalid-email","The email address is badly formatted."),(0,Ke.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Ke.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Ke.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Ke.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Ke.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ke.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Ke.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Ke.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Ke.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Ke.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Ke.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Ke.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Ke.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Ke.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Ke.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Ke.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ke.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Ke.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Ke.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Ke.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Ke.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Ke.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Ke.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Ke.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Ke.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Ke.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Ke.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Ke.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Ke.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Ke.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Ke.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Ke.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Ke.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Ke.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Ke.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Ke.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Ke.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Ke.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Ke.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Ke.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Ke.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Ke.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Ke.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Ke.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Ke.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Ke.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Ke.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Ke.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Ke.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Ke.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Ke.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Ke.Z)(e,"timeout","The operation has timed out."),(0,Ke.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Ke.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Ke.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Ke.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Ke.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Ke.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Ke.Z)(e,"unverified-email","The operation requires a verified email."),(0,Ke.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Ke.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Ke.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Ke.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Ke.Z)(e,"user-signed-out",""),(0,Ke.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Ke.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Ke.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},hc=lc,dc=new lu("auth","Firebase",lc()),pc=new Mu("@firebase/auth");function vc(e){if(pc.logLevel<=Cu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pc.error.apply(pc,["Auth (".concat(gs,"): ").concat(e)].concat(n))}}function mc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw bc.apply(void 0,[e].concat(n))}function yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bc.apply(void 0,[e].concat(n))}function gc(e,t,n){var r=Object.assign(Object.assign({},hc()),(0,Ke.Z)({},t,n));return new lu("auth","Firebase",r).create(t,{appName:e.name})}function kc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mc(e,"argument-error"),gc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ot(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ot(o)))}return dc.create.apply(dc,[e].concat(n))}function wc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw bc.apply(void 0,[t].concat(r))}}function xc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw vc(t),new Error(t)}function _c(e,t){e||xc(t)}var Ic=new Map;function Sc(e){_c(e instanceof Function,"Expected a class definition");var t=Ic.get(e);return t?(_c(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ic.set(e,t),t)}function Ec(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tc(){return"http:"===Cc()||"https:"===Cc()}function Cc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ac=function(){function e(t,n){Fo(this,e),this.shortDelay=t,this.longDelay=n,_c(n>t,"Short delay should be less than long delay!"),this.isMobile=ru()||ou()}return Uo(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tc()||au()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Nc(e,t){_c(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Dc=function(){function e(){Fo(this,e)}return Uo(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Oc=(Js={},(0,Ke.Z)(Js,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ke.Z)(Js,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ke.Z)(Js,"INVALID_IDENTIFIER","invalid-email"),(0,Ke.Z)(Js,"MISSING_CONTINUE_URI","internal-error"),(0,Ke.Z)(Js,"INVALID_PASSWORD","wrong-password"),(0,Ke.Z)(Js,"MISSING_PASSWORD","internal-error"),(0,Ke.Z)(Js,"EMAIL_EXISTS","email-already-in-use"),(0,Ke.Z)(Js,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ke.Z)(Js,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ke.Z)(Js,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ke.Z)(Js,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ke.Z)(Js,"MISSING_REQ_TYPE","internal-error"),(0,Ke.Z)(Js,"EMAIL_NOT_FOUND","user-not-found"),(0,Ke.Z)(Js,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ke.Z)(Js,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ke.Z)(Js,"INVALID_OOB_CODE","invalid-action-code"),(0,Ke.Z)(Js,"MISSING_OOB_CODE","internal-error"),(0,Ke.Z)(Js,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ke.Z)(Js,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ke.Z)(Js,"TOKEN_EXPIRED","user-token-expired"),(0,Ke.Z)(Js,"USER_NOT_FOUND","user-token-expired"),(0,Ke.Z)(Js,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ke.Z)(Js,"INVALID_CODE","invalid-verification-code"),(0,Ke.Z)(Js,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ke.Z)(Js,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ke.Z)(Js,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ke.Z)(Js,"SESSION_EXPIRED","code-expired"),(0,Ke.Z)(Js,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ke.Z)(Js,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ke.Z)(Js,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ke.Z)(Js,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ke.Z)(Js,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ke.Z)(Js,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ke.Z)(Js,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ke.Z)(Js,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ke.Z)(Js,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ke.Z)(Js,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ke.Z)(Js,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Js),Rc=new Ac(3e4,6e4);function Pc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Mc(e,t,n,r){return Lc.apply(this,arguments)}function Lc(){return Lc=Mo(Ro().mark((function e(t,n,r,i){var a,o=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Fc(t,a,Mo(Ro().mark((function e(){var a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=mu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Dc.fetch()(Bc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Fc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return(Vc=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Oc),n),e.prev=2,a=new zc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw qc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw qc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw qc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw qc(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw gc(t,p,d);case 34:mc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof cu)){e.next=41;break}throw e.t0;case 41:mc(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Uc(e,t,n,r){return jc.apply(this,arguments)}function jc(){return jc=Mo(Ro().mark((function e(t,n,r,i){var a,o,u=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Mc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&mc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Bc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Nc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var zc=function(){function e(t){var n=this;Fo(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(yc(n.auth,"network-request-failed"))}),Rc.get())}))}return Uo(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=yc(e,t,r);return i.customData._tokenResponse=n,i}function Gc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Hc.apply(this,arguments)}function Hc(){return(Hc=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return Zc.apply(this,arguments)}function Zc(){return(Zc=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Yc(){return Yc=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=xu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,wc((a=Xc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:$c(Jc(a.auth_time)),issuedAtTime:$c(Jc(a.iat)),expirationTime:$c(Jc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(e){return 1e3*Number(e)}function Xc(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return vc("JWT malformed, contained fewer than 3 sections"),null;try{var o=Yo(i);return o?JSON.parse(o):(vc("Failed to decode base64 JWT payload"),null)}catch(u){return vc("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function el(e,t){return tl.apply(this,arguments)}function tl(){return tl=Mo(Ro().mark((function e(t,n){var r=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof cu&&nl(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tl.apply(this,arguments)}function nl(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var rl=function(){function e(t){Fo(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Uo(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),il=function(){function e(t,n){Fo(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Uo(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function al(e){return ol.apply(this,arguments)}function ol(){return ol=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,el(t,Qc(r,{idToken:i}));case 6:wc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?cl(o.providerUserInfo):[],s=sl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new il(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(){return(ul=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xu(t),e.next=3,al(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ot(n),ot(t))}function cl(e){return e.map((function(e){var t=e.providerId,n=Ys(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ll(e,t){return fl.apply(this,arguments)}function fl(){return(fl=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(t,{},Mo(Ro().mark((function e(){var r,i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Bc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Dc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl=function(){function e(){Fo(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Uo(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){wc(e.idToken,"internal-error"),wc("undefined"!==typeof e.idToken,"internal-error"),wc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xc(e);return wc(t,"internal-error"),wc("undefined"!==typeof t.exp,"internal-error"),wc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Mo(Ro().mark((function e(t){var n,r=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],wc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return xc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(wc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(wc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(wc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function dl(e,t){wc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pl=function(){function e(t){Fo(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ys(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ot(a.providerData):[],this.metadata=new il(a.createdAt||void 0,a.lastLoginAt||void 0)}return Uo(e,[{key:"getIdToken",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(wc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Yc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ul.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(wc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){wc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,al(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,el(this,Gc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;wc(k&&_,t,"internal-error");var I=hl.fromJSON(this.name,_);wc("string"===typeof k,t,"internal-error"),dl(f,t.name),dl(h,t.name),wc("boolean"===typeof b,t,"internal-error"),wc("boolean"===typeof w,t,"internal-error"),dl(d,t.name),dl(p,t.name),dl(v,t.name),dl(m,t.name),dl(y,t.name),dl(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Mo(Ro().mark((function t(n,r){var i,a,o,u=arguments;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new hl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,al(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),vl=function(){function e(){Fo(this,e),this.type="NONE",this.storage={}}return Uo(e,[{key:"_isAvailable",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();vl.type="NONE";var ml=vl;function yl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var gl=function(){function e(t,n,r){Fo(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=yl(this.userKey,a.apiKey,o),this.fullPersistenceKey=yl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Uo(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Mo(Ro().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Sc(ml),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Sc(ml),u=yl(i,n.config.apiKey,n.name),s=null,c=jo(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=pl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function kl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_l(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sl(t))return"Blackberry";if(El(t))return"Webos";if(wl(t))return"Safari";if((t.includes("chrome/")||xl(t))&&!t.includes("edge/"))return"Chrome";if(Il(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/firefox\//i.test(e)}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/crios\//i.test(e)}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iemobile/i.test(e)}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/android/i.test(e)}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/blackberry/i.test(e)}function El(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/webos/i.test(e)}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return Tl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Al(){return uu()&&10===document.documentMode}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return Tl(e)||Il(e)||El(e)||Sl(e)||/windows phone/i.test(e)||_l(e)}function Dl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kl(nu());break;case"Worker":t="".concat(kl(nu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gs,"/").concat(r)}var Ol=function(){function e(t){Fo(this,e),this.auth=t,this.queue=[]}return Uo(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s,c;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=jo(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=jo(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rl=function(){function e(t,n,r){Fo(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ml(this),this.idTokenSubscription=new Ml(this),this.beforeStateQueue=new Ol(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Uo(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Sc(t)),this._initializationPromise=this.queue(Mo(Ro().mark((function r(){var i,a;return Ro().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,gl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return wc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,al(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xu(t):null)&&wc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Mo(Ro().mark((function e(t){var n,r=this,i=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&wc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Mo(Ro().mark((function n(){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Sc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new lu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return wc(n=t&&Sc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,gl.create(this,[Sc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Mo(Ro().mark((function e(t){var n=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return wc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return wc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ke.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pl(e){return xu(e)}var Ml=function(){function e(t){var n=this;Fo(this,e),this.auth=t,this.observer=null,this.addObserver=ku((function(e){return n.observer=e}))}return Uo(e,[{key:"next",get:function(){return wc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ll(e,t,n){var r=Pl(e);wc(r._canInitEmulator,r,"emulator-config-failed"),wc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Fl(t),o=function(e){var t=Fl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Vl(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Vl(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ul=function(){function e(t,n){Fo(this,e),this.providerId=t,this.signInMethod=n}return Uo(e,[{key:"toJSON",value:function(){return xc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return xc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return xc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return xc("not implemented")}}]),e}();function jl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:resetPassword",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:update",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPassword",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:sendOobCode",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ql(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t){return Xl.apply(this,arguments)}function Xl(){return(Xl=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ql(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return(tf=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ql(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return(rf=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ql(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return(of=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return(sf=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cf=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Fo(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Uo(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Kl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",af(t,{email:this._email,oobCode:this._password}));case 5:mc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",uf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:mc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ul);function lf(e,t){return ff.apply(this,arguments)}function ff(){return(ff=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithIdp",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hf=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Fo(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Uo(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return lf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,lf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,lf(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ys(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ul);function df(e,t){return pf.apply(this,arguments)}function pf(){return(pf=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:sendVerificationCode",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(){return(vf=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(){return(mf=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Pc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yf=(0,Ke.Z)({},"USER_NOT_FOUND","user-not-found");function gf(){return(gf=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Pc(t,r),yf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kf=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Uo(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return vf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return mf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return gf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ul);var bf=function(){function e(t){var n,r,i,a,o,u;Fo(this,e);var s=yu(gu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);wc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Uo(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=yu(gu(e)).link,n=t?yu(gu(t)).deep_link_id:null,r=yu(gu(e)).deep_link_id;return(r?yu(gu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var wf=function(){function e(){Fo(this,e),this.providerId=e.PROVIDER_ID}return Uo(e,null,[{key:"credential",value:function(e,t){return cf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=bf.parseLink(t);return wc(n,"argument-error"),cf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();wf.PROVIDER_ID="password",wf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xf=function(){function e(t){Fo(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Uo(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),_f=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Fo(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Uo(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ot(this.scopes)}}]),n}(xf),If=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return wc(e.idToken||e.accessToken,"argument-error"),hf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return wc("providerId"in t&&"signInMethod"in t,"argument-error"),hf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(_f),Sf=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.call(this,"facebook.com")}return Uo(n,null,[{key:"credential",value:function(e){return hf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(_f);Sf.FACEBOOK_SIGN_IN_METHOD="facebook.com",Sf.PROVIDER_ID="facebook.com";var Ef=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Fo(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Uo(n,null,[{key:"credential",value:function(e,t){return hf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(_f);Ef.GOOGLE_SIGN_IN_METHOD="google.com",Ef.PROVIDER_ID="google.com";var Tf=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.call(this,"github.com")}return Uo(n,null,[{key:"credential",value:function(e){return hf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(_f);Tf.GITHUB_SIGN_IN_METHOD="github.com",Tf.PROVIDER_ID="github.com";var Cf=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Uo(n,[{key:"_getIdTokenResponse",value:function(e){return lf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,lf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,lf(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ul),Af=function(e){Bo(n,e);var t=Wo(n);function n(e){return Fo(this,n),wc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Uo(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Cf.fromJSON(e);return wc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Cf._create(r,n)}catch(i){return null}}}]),n}(xf),Nf=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.call(this,"twitter.com")}return Uo(n,null,[{key:"credential",value:function(e,t){return hf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(_f);function Df(e,t){return Of.apply(this,arguments)}function Of(){return(Of=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signUp",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Nf.TWITTER_SIGN_IN_METHOD="twitter.com",Nf.PROVIDER_ID="twitter.com";var Rf=function(){function e(t){Fo(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Uo(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Mo(Ro().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Pf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Mo(Ro().mark((function t(n,r,i){var a;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mf(){return Mf=Mo(Ro().mark((function e(t){var n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Rf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Df(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Rf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}var Lf=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a){var o,u;return Fo(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ta(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Uo(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(cu);function Ff(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lf._fromErrorAndOperation(e,n,t,r);throw n}))}function Vf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Uf(e,t){return jf.apply(this,arguments)}function jf(){return jf=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.next=3,qf(!0,r,n);case 3:return e.t0=Kc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Vf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Bf(e,t){return zf.apply(this,arguments)}function zf(){return zf=Mo(Ro().mark((function e(t,n){var r,i,a=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=el,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Rf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function qf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return(Gf=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(n);case 2:i=Vf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",wc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,el(t,Ff(a,o,n,t),r);case 6:return wc((u=e.sent).idToken,a,"internal-error"),wc(s=Xc(u.idToken),a,"internal-error"),c=s.sub,wc(t.uid===c,a,"user-mismatch"),e.abrupt("return",Rf._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&mc(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Kf.apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=Mo(Ro().mark((function e(t,n){var r,i,a,o,u=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ff(t,i,n);case 4:return a=e.sent,e.next=7,Rf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function Zf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(Pl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.next=3,qf(!1,r,n.providerId);case 3:return e.abrupt("return",Bf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(xu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithCustomToken",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(){return(rh=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pl(t),e.next=3,th(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Rf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ih=function(){function e(t,n){Fo(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Uo(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ah._fromServerResponse(e,t):mc(e,"internal-error")}}]),e}(),ah=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Uo(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ih);function oh(e,t,n){var r;wc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),wc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function uh(){return(uh=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),a={requestType:"PASSWORD_RESET",email:n},r&&oh(i,a,r),e.next=5,Jl(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(){return(sh=Mo(Ro().mark((function e(t,n,r){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(xu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(){return(ch=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl(xu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e,t){return fh.apply(this,arguments)}function fh(){return(fh=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.next=3,jl(r,{oobCode:n});case 3:i=e.sent,wc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return wc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:wc(i.mfaInfo,r,"internal-error");case 13:wc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ih._fromServerResponse(Pl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return hh=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lh(xu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return(ph=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),e.next=3,Df(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Rf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(){return(vh=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),a={requestType:"EMAIL_SIGNIN",email:n},wc(r.handleCodeInApp,i,"argument-error"),r&&oh(i,a,r),e.next=6,ef(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(){return(mh=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),wc((a=wf.credentialWithLink(n,r||Ec()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Zf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t){return gh.apply(this,arguments)}function gh(){return(gh=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:createAuthUri",Pc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(){return(kh=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tc()?Ec():"http://localhost",i={identifier:n,continueUri:r},e.next=4,yh(xu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(){return(bh=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&oh(r.auth,a,n),e.next=8,$l(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wh(){return(wh=Mo(Ro().mark((function e(t,n,r){var i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&oh(i.auth,o,r),e.next=8,nf(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(e,t){return _h.apply(this,arguments)}function _h(){return(_h=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(){return(Ih=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s,c;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,el(a,xh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e,t,n){return Eh.apply(this,arguments)}function Eh(){return(Eh=Mo(Ro().mark((function e(t,n,r){var i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,el(t,zl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Th=Uo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Fo(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ch=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a){var o;return Fo(this,n),(o=t.call(this,e,r,i)).username=a,o}return Uo(n)}(Th),Ah=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"facebook.com",r)}return Uo(n)}(Th),Nh=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Uo(n)}(Ch),Dh=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"google.com",r)}return Uo(n)}(Th),Oh=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){return Fo(this,n),t.call(this,e,"twitter.com",r,i)}return Uo(n)}(Ch);function Rh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Th(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ah(a,i);case"github.com":return new Nh(a,i);case"google.com":return new Dh(a,i);case"twitter.com":return new Oh(a,i,e.screenName||null);case"custom":case"anonymous":return new Th(a,null);default:return new Th(a,r,i)}}(n)}var Ph=function(){function e(t,n){Fo(this,e),this.type=t,this.credential=n}return Uo(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Ke.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Mh=function(){function e(t,n,r){Fo(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Uo(e,[{key:"resolveSignIn",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ih._fromServerResponse(r,e)}));wc(i.mfaPendingCredential,r,"internal-error");var o=Ph._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Mo(Ro().mark((function e(t){var a,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Rf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return wc(n.user,r,"internal-error"),e.abrupt("return",Rf._forOperation(n.user,n.operationType,u));case 17:mc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Lh(e,t){return Mc(e,"POST","/v2/accounts/mfaEnrollment:start",Pc(e,t))}var Fh=function(){function e(t){var n=this;Fo(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ih._fromServerResponse(t.auth,e)})))}))}return Uo(e,[{key:"getSession",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ph,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,el(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,el(this.user,Mc(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Pc(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Vh=new WeakMap;var Uh="__sak",jh=function(){function e(t,n){Fo(this,e),this.storageRetriever=t,this.type=n}return Uo(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Bh=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Fo(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=nu();return wl(e)||Tl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Nl(),e._shouldAllowMigration=!0,e}return Uo(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Al()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Mo(Ro().mark((function e(t,r){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(zo(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mo(Ro().mark((function e(t){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(zo(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(zo(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jh);Bh.type="LOCAL";var zh=Bh,qh=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Uo(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jh);qh.type="SESSION";var Gh=qh;function Wh(e){return Promise.all(e.map(function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Kh=function(){function e(t){Fo(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Uo(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s,c;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Wh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Hh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kh.receivers=[];var Qh=function(){function e(t){Fo(this,e),this.target=t,this.handlers=new Set}return Uo(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Hh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Zh(){return window}function $h(){return"undefined"!==typeof Zh().WorkerGlobalScope&&"function"===typeof Zh().importScripts}function Yh(){return Jh.apply(this,arguments)}function Jh(){return(Jh=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ed="firebaseLocalStorageDb",td="firebaseLocalStorage",nd="fbase_key",rd=function(){function e(t){Fo(this,e),this.request=t}return Uo(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function id(e,t){return e.transaction([td],t?"readwrite":"readonly").objectStore(td)}function ad(){var e=indexedDB.deleteDatabase(ed);return new rd(e).toPromise()}function od(){var e=indexedDB.open(ed,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(td,{keyPath:nd})}catch(r){n(r)}})),e.addEventListener("success",Mo(Ro().mark((function n(){var r;return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(td)){n.next=12;break}return r.close(),n.next=5,ad();case 5:return n.t0=t,n.next=8,od();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=id(t,!0).put((i={},(0,Ke.Z)(i,nd,n),(0,Ke.Z)(i,"value",r),i)),e.abrupt("return",new rd(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e,t){return ld.apply(this,arguments)}function ld(){return ld=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=id(t,!1).get(n),e.next=3,new rd(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e,t){var n=id(e,!0).delete(t);return new rd(n).toPromise()}var hd=function(){function e(){Fo(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Uo(e,[{key:"_openDb",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,od();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$h()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Mo(Ro().mark((function e(){var t=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Kh._getInstance($h()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Mo(Ro().mark((function e(n,r){var i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Qh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,od();case 5:return t=e.sent,e.next=8,ud(t,Uh,"1");case 8:return e.next=10,fd(t,Uh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Mo(Ro().mark((function e(t,n){var r=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ud(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return cd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mo(Ro().mark((function e(t){var n=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return fd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=id(e,!1).getAll();return new rd(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=jo(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hd.type="LOCAL";var dd=hd;function pd(e,t){return Mc(e,"POST","/v2/accounts/mfaSignIn:start",Pc(e,t))}function vd(e){return md.apply(this,arguments)}function md(){return(md=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=yc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function gd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var kd=1e12,bd=function(){function e(t){Fo(this,e),this.auth=t,this.counter=kd,this._widgets=new Map}return Uo(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new wd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||kd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||kd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||kd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),wd=function(){function e(t,n,r){var i=this;Fo(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;wc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Uo(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var xd=gd("rcb"),_d=new Ac(3e4,6e4),Id="https://www.google.com/recaptcha/api.js?",Sd=function(){function e(){var t;Fo(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Zh().grecaptcha)||void 0===t?void 0:t.render)}return Uo(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wc(Ed(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Zh().grecaptcha):new Promise((function(r,i){var a=Zh().setTimeout((function(){i(yc(e,"network-request-failed"))}),_d.get());Zh()[xd]=function(){Zh().clearTimeout(a),delete Zh()[xd];var o=Zh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(yc(e,"internal-error"))},yd("".concat(Id,"?").concat(mu({onload:xd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(yc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Zh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ed(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Td=function(){function e(){Fo(this,e)}return Uo(e,[{key:"load",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new bd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Cd="recaptcha",Ad={theme:"light",type:"image"},Nd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ad),r=arguments.length>2?arguments[2]:void 0;Fo(this,e),this.parameters=n,this.type=Cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pl(r),this.isInvisible="invisible"===this.parameters.size,wc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;wc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Td:new Sd,this.validateStartingState()}return Uo(e,[{key:"verify",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){wc(!this.parameters.sitekey,this.auth,"argument-error"),wc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Zh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){wc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Mo(Ro().mark((function e(){var t,n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wc(Tc()&&!$h(),this.auth,"internal-error"),e.next=3,Dd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,vd(this.auth);case 8:wc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return wc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Dd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Od=function(){function e(t,n){Fo(this,e),this.verificationId=t,this.onConfirmation=n}return Uo(e,[{key:"confirm",value:function(e){var t=kf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Rd(){return(Rd=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),e.next=3,Fd(i,n,xu(r));case 3:return a=e.sent,e.abrupt("return",new Od(a,(function(e){return Zf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t,n){return Md.apply(this,arguments)}function Md(){return(Md=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),e.next=3,qf(!1,i,"phone");case 3:return e.next=5,Fd(i.auth,n,xu(r));case 5:return a=e.sent,e.abrupt("return",new Od(a,(function(e){return Yf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(){return(Ld=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),e.next=3,Fd(i.auth,n,xu(r));case 3:return a=e.sent,e.abrupt("return",new Od(a,(function(e){return Xf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fd(e,t,n){return Vd.apply(this,arguments)}function Vd(){return Vd=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,wc("string"===typeof a,t,"argument-error"),wc(r.type===Cd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return wc("enroll"===u.type,t,"internal-error"),e.next=13,Lh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return wc("signin"===u.type,t,"internal-error"),wc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,pd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,df(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vd.apply(this,arguments)}function Ud(){return(Ud=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bf(xu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jd=function(){function e(t){Fo(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pl(t)}return Uo(e,[{key:"verifyPhoneNumber",value:function(e,t){return Fd(this.auth,e,xu(t))}}],[{key:"credential",value:function(e,t){return kf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?kf._fromTokenResponse(n,r):null}}]),e}();function Bd(e,t){return t?Sc(t):(wc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jd.PROVIDER_ID="phone",jd.PHONE_SIGN_IN_METHOD="phone";var zd=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Uo(n,[{key:"_getIdTokenResponse",value:function(e){return lf(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return lf(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return lf(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ul);function qd(e){return Hf(e.auth,new zd(e),e.bypassAuthState)}function Gd(e){var t=e.auth,n=e.user;return wc(n,t,"internal-error"),Wf(n,new zd(e),e.bypassAuthState)}function Wd(e){return Kd.apply(this,arguments)}function Kd(){return(Kd=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,wc(r=t.user,n,"internal-error"),e.abrupt("return",Bf(r,new zd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Fo(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Uo(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Mo(Ro().mark((function t(n,r){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Mo(Ro().mark((function e(t){var n,r,i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qd;case"linkViaPopup":case"linkViaRedirect":return Wd;case"reauthViaPopup":case"reauthViaRedirect":return Gd;default:mc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){_c(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Qd=new Ac(2e3,1e4);function Zd(e,t,n){return $d.apply(this,arguments)}function $d(){return($d=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),kc(t,n,xf),a=Bd(i,r),o=new ep(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yd(){return(Yd=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc((i=xu(t)).auth,n,xf),a=Bd(i.auth,r),o=new ep(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jd(e,t,n){return Xd.apply(this,arguments)}function Xd(){return(Xd=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc((i=xu(t)).auth,n,xf),a=Bd(i.auth,r),o=new ep(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ep=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a,o){var u;return Fo(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ta(u),u}return Uo(n,[{key:"executeNotNull",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return wc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Mo(Ro().mark((function e(){var t,n=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c(1===this.filter.length,"Popup operations only handle one event"),t=Hh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(yc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(yc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(yc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Qd.get())}()}}]),n}(Hd);ep.currentPopupAction=null;var tp=new Map,np=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Fo(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Uo(n,[{key:"execute",value:function(){var e=Mo(Ro().mark((function e(){var t,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=tp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,rp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,$s(zo(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:tp.set(this.auth._key(),t);case 21:return this.bypassAuthState||tp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Mo(Ro().mark((function e(t){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",$s(zo(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",$s(zo(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Hd);function rp(e,t){return ip.apply(this,arguments)}function ip(){return ip=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cp(n),i=sp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){return op.apply(this,arguments)}function op(){return(op=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sp(t)._set(cp(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e,t){tp.set(e._key(),t)}function sp(e){return Sc(e._redirectPersistence)}function cp(e){return yl("pendingRedirect",e.config.apiKey,e.name)}function lp(e,t,n){return function(e,t,n){return fp.apply(this,arguments)}(e,t,n)}function fp(){return(fp=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pl(t),kc(t,n,xf),a=Bd(i,r),e.next=5,ap(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hp(e,t,n){return function(e,t,n){return dp.apply(this,arguments)}(e,t,n)}function dp(){return(dp=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc((i=xu(t)).auth,n,xf),a=Bd(i.auth,r),e.next=5,ap(a,i.auth);case 5:return e.next=7,bp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t,n){return function(e,t,n){return vp.apply(this,arguments)}(e,t,n)}function vp(){return(vp=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc((i=xu(t)).auth,n,xf),a=Bd(i.auth,r),e.next=5,qf(!1,i,n.providerId);case 5:return e.next=7,ap(a,i.auth);case 7:return e.next=9,bp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return(yp=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl(t)._initializationPromise;case 2:return e.abrupt("return",gp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gp(e,t){return kp.apply(this,arguments)}function kp(){return kp=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Pl(t),a=Bd(i,n),o=new np(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e){return wp.apply(this,arguments)}function wp(){return(wp=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xp=function(){function e(t){Fo(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Uo(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ip(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ip(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_p(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(_p(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function _p(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ip(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Sp(e){return Ep.apply(this,arguments)}function Ep(){return Ep=Mo(Ro().mark((function e(t){var n,r=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Mc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}var Tp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cp=/^https?/;function Ap(){return(Ap=Mo(Ro().mark((function e(t){var n,r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sp(t);case 4:n=e.sent,r=n.authorizedDomains,i=jo(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Np(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:mc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Np(e){var t=Ec(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Cp.test(r))return!1;if(Tp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Dp=new Ac(3e4,6e4);function Op(){var e=Zh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ot(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Rp=null;function Pp(e){return Rp=Rp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Op(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Op(),n(yc(e,"network-request-failed"))},timeout:Dp.get()})}if(null===(i=null===(r=Zh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Zh().gapi)||void 0===a?void 0:a.load)){var u=gd("iframefcb");return Zh()[u]=function(){gapi.load?o():n(yc(e,"network-request-failed"))},yd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Rp=null,e}))}(e),Rp}var Mp=new Ac(5e3,15e3),Lp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vp(e){var t=e.config;wc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Nc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:gs},i=Fp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(mu(r).slice(1))}function Up(e){return jp.apply(this,arguments)}function jp(){return jp=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(t);case 2:return n=e.sent,wc(r=Zh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Vp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lp,dontclear:!0},(function(e){return new Promise(function(){var n=Mo(Ro().mark((function n(r,i){var a,o,u;return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Zh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=yc(t,"network-request-failed"),o=Zh().setTimeout((function(){i(a)}),Mp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}var Bp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zp="_blank",qp="http://localhost",Gp=function(){function e(t){Fo(this,e),this.window=t,this.associatedEvent=null}return Uo(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Wp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Bp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=nu().toLowerCase();n&&(u=xl(l)?zp:n),bl(l)&&(t=t||qp,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Cl(l)&&"_self"!==u)return Kp(t||"",u),new Gp(null);var h=window.open(t||"",u,f);wc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Gp(h)}function Kp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Hp="__/auth/handler",Qp="emulator/auth/handler";function Zp(e,t,n,r,i,a){wc(e.config.authDomain,e,"auth-domain-config-required"),wc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gs,eventId:i};if(t instanceof xf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof _f){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Hp);return Nc(t,Qp)}(e),"?").concat(mu(p).slice(1))}var $p="webStorageSupport",Yp=function(){function e(){Fo(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gh,this._completeRedirectFn=gp,this._overrideRedirectResult=up}return Uo(e,[{key:"_openPopup",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){var a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Zp(t,n,r,Ec(),i),e.abrupt("return",Wp(t,o,Hh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Zp(t,n,r,Ec(),i),Zh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(_c(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Up(t);case 2:return n=e.sent,r=new xp(t),n.register("authEvent",(function(e){return wc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($p,{type:$p},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),mc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ap.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Nl()||wl()||Tl()}}]),e}(),Jp=Yp,Xp=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this,"phone")).credential=e,r}return Uo(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Mc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Mc(e,"POST","/v2/accounts/mfaSignIn:finalize",Pc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Fo(this,e),this.factorId=t}return Uo(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xc("unexpected MultiFactorSessionType")}}}]),e}()),ev=function(){function e(){Fo(this,e)}return Uo(e,null,[{key:"assertion",value:function(e){return Xp._fromCredential(e)}}]),e}();ev.FACTOR_ID="phone";var tv,nv="@firebase/auth",rv="0.20.5",iv=function(){function e(t){Fo(this,e),this.auth=t,this.internalListeners=new Map}return Uo(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){wc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function av(){return window}tv="Browser",fs(new _u("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){wc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),wc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:tv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(tv)},i=new Rl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fs(new _u("auth-internal",(function(e){return function(e){return new iv(e)}(Pl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Is(nv,rv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tv)),Is(nv,rv,"esm2017");function ov(e,t,n){return uv.apply(this,arguments)}function uv(){return uv=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=av(),o=a.BuildInfo,_c(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,dv(n.sessionId);case 4:return u=e.sent,s={},Tl()?s.ibi=o.packageName:Il()?s.apn=o.packageName:mc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Zp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(){return(sv=Mo(Ro().mark((function e(t){var n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=av(),r=n.BuildInfo,i={},Tl()?i.iosBundleId=r.packageName:Il()?i.androidPackageName=r.packageName:mc(t,"operation-not-supported-in-this-environment"),e.next=5,Sp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cv(e){var t=av().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function lv(e,t,n){return fv.apply(this,arguments)}function fv(){return fv=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=av(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(yc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Il()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),fv.apply(this,arguments)}function hv(e){var t,n,r,i,a,o,u,s,c,l,f=av();wc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function dv(e){return pv.apply(this,arguments)}function pv(){return(pv=Mo(Ro().mark((function e(t){var n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e){if(_c(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var mv=function(e){Bo(n,e);var t=Wo(n);function n(){var e;return Fo(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Uo(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),$s(zo(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(xp);function yv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:xv(),postBody:null,tenantId:e.tenantId,error:yc(e,"no-auth-event")}}function gv(e,t){return _v()._set(Iv(e),t)}function kv(e){return bv.apply(this,arguments)}function bv(){return(bv=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v()._get(Iv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_v()._remove(Iv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e,t){var n,r,i=function(e){var t=Sv(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Sv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?yc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _v(){return Sc(zh)}function Iv(e){return yl("authEvent",e.config.apiKey,e.name)}function Sv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||at(t)||o(t)||u();r[0];return yu(r.slice(1).join("?"))}var Ev=function(){function e(){Fo(this,e),this._redirectPersistence=Gh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gp,this._overrideRedirectResult=up}return Uo(e,[{key:"_initialize",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new mv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){mc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){var a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),tp.clear(),e.next=10,this._originValidation(t);case 10:return o=yv(t,r,i),e.next=13,gv(t,o);case 13:return e.next=15,ov(t,o,n);case 15:return u=e.sent,e.next=18,cv(u);case 18:return s=e.sent,e.abrupt("return",lv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return sv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=av(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Mo(Ro().mark((function n(){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kv(e);case 2:t.onEvent(Cv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Mo(Ro().mark((function n(r){var i,a;return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,kv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=wv(i,r.url)),t.onEvent(a||Cv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");av().handleOpenURL=function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Tv=Ev;function Cv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yc("no-auth-event")}}function Av(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Nv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return!("file:"!==Av()&&"ionic:"!==Av()&&"capacitor:"!==Av()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dv(){return uu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/Edge\/\d+/.test(e)}function Rv(){try{var e=self.localStorage,t=Hh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return Dv()||Ov(e)}()||su()}catch(n){return Pv()&&su()}return!1}function Pv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Mv(){return("http:"===Av()||"https:"===Av()||au()||Nv())&&!(ou()||iu())&&Rv()&&!Pv()}function Lv(){return Nv()&&"undefined"!==typeof document}function Fv(){return Vv.apply(this,arguments)}function Vv(){return(Vv=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uv={LOCAL:"local",NONE:"none",SESSION:"session"},jv=wc,Bv="persistence";function zv(e,t){jv(Object.values(Uv).includes(t),e,"invalid-persistence-type"),ou()?jv(t!==Uv.SESSION,e,"unsupported-persistence-type"):iu()?jv(t===Uv.NONE,e,"unsupported-persistence-type"):Pv()?jv(t===Uv.NONE||t===Uv.LOCAL&&su(),e,"unsupported-persistence-type"):jv(t===Uv.NONE||Rv(),e,"unsupported-persistence-type")}function qv(e){return Gv.apply(this,arguments)}function Gv(){return Gv=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wv(),r=yl(Bv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Wv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Kv=wc,Hv=function(){function e(){Fo(this,e),this.browserResolver=Sc(Jp),this.cordovaResolver=Sc(Tv),this.underlyingResolver=null,this._redirectPersistence=Gh,this._completeRedirectFn=gp,this._overrideRedirectResult=up}return Uo(e,[{key:"_initialize",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Lv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Kv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qv(e){return e.unwrap()}function Zv(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new em(e,function(e,t){var n,r=xu(e),i=t;return wc(t.customData.operationType,r,"argument-error"),wc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Mh._fromError(r,i)}(e,t));else if(i){var a=$v(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function $v(e){var t=(e instanceof cu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof cu)&&"temporaryProof"in t&&"phoneNumber"in t)return jd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===nc)return null;switch(r){case tc:n=Ef;break;case Xs:n=Sf;break;case ec:n=Tf;break;case rc:n=Nf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Cf._create(r,u):hf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new If(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof cu?n.credentialFromError(e):n.credentialFromResult(e)}function Yv(e,t){return t.catch((function(t){throw t instanceof cu&&Zv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$v(t)),additionalUserInfo:Rh(e),user:tm.getOrCreate(r)}}))}function Jv(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Yv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var em=function(){function e(t,n){Fo(this,e),this.resolver=n,this.auth=t.wrapped()}return Uo(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Yv(Qv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),tm=function(){function e(t){Fo(this,e),this._delegate=t,this.multiFactor=function(e){var t=xu(e);return Vh.has(t)||Vh.set(t,Fh._fromUser(t)),Vh.get(t)}(t)}return Uo(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yv(this.auth,Yf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jv(this.auth,Pd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yv(this.auth,Jd(this._delegate,t,Hv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qv(Pl(this.auth));case 2:return e.abrupt("return",pp(this._delegate,t,Hv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yv(this.auth,Xf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Jv(this.auth,function(e,t,n){return Ld.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Yv(this.auth,function(e,t,n){return Yd.apply(this,arguments)}(this._delegate,e,Hv))}},{key:"reauthenticateWithRedirect",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qv(Pl(this.auth));case 2:return e.abrupt("return",hp(this._delegate,t,Hv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return bh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Sh(xu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Sh(xu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ud.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ih.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return wh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();tm.USER_MAP=new WeakMap;var nm=wc,rm=function(){function e(t,n){if(Fo(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;nm(r,"invalid-api-key",{appName:t.name}),nm(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Hv:void 0;this._delegate=n.initialize({options:{persistence:am(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(fc),this.linkUnderlyingAuth()}return Uo(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?tm.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ll(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ch.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return lh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return sh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yv(this._delegate,dh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return kh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=bf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nm(Mv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,mp(this._delegate,Hv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Yv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=im(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=im(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return vh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return uh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zv(this._delegate,t),e.t0=t,e.next=e.t0===Uv.SESSION?4:e.t0===Uv.LOCAL?6:e.t0===Uv.NONE?11:13;break;case 4:return n=Gh,e.abrupt("break",14);case 6:return e.next=8,Sc(dd)._isAvailable();case 8:return r=e.sent,n=r?dd:zh,e.abrupt("break",14);case 11:return n=ml,e.abrupt("break",14);case 13:return e.abrupt("return",mc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Yv(this._delegate,function(e){return Mf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Yv(this._delegate,Zf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Yv(this._delegate,function(e,t){return rh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Yv(this._delegate,function(e,t,n){return Zf(xu(e),wf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Yv(this._delegate,function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Jv(this._delegate,function(e,t,n){return Rd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nm(Mv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Yv(this._delegate,Zd(this._delegate,t,Hv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nm(Mv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qv(this._delegate);case 3:return e.abrupt("return",lp(this._delegate,t,Hv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return hh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function im(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&tm.getOrCreate(e))},error:t,complete:n}}function am(e,t){var n=function(e,t){var n=Wv();if(!n)return[];var r=yl(Bv,e,t);switch(n.getItem(r)){case Uv.NONE:return[ml];case Uv.LOCAL:return[dd,Gh];case Uv.SESSION:return[Gh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(dd)||n.push(dd),"undefined"!==typeof window)for(var r=0,i=[zh,Gh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ml)||n.push(ml),n}rm.Persistence=Uv;var om=function(){function e(){Fo(this,e),this.providerId="phone",this._delegate=new jd(Qv(Qs.auth()))}return Uo(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return jd.credential(e,t)}}]),e}();om.PHONE_SIGN_IN_METHOD=jd.PHONE_SIGN_IN_METHOD,om.PROVIDER_ID=jd.PROVIDER_ID;var um,sm=wc,cm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qs.app();Fo(this,e),sm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Nd(t,n,i.auth()),this.type=this._delegate.type}return Uo(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(um=Qs).INTERNAL.registerComponent(new _u("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new rm(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ic,PASSWORD_RESET:ac,RECOVER_EMAIL:oc,REVERT_SECOND_FACTOR_ADDITION:uc,VERIFY_AND_CHANGE_EMAIL:sc,VERIFY_EMAIL:cc}},EmailAuthProvider:wf,FacebookAuthProvider:Sf,GithubAuthProvider:Tf,GoogleAuthProvider:Ef,OAuthProvider:If,SAMLAuthProvider:Af,PhoneAuthProvider:om,PhoneMultiFactorGenerator:ev,RecaptchaVerifier:cm,TwitterAuthProvider:Nf,Auth:rm,AuthCredential:Ul,Error:cu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),um.registerVersion("@firebase/auth-compat","0.2.18");var lm,fm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},hm={},dm=dm||{},pm=fm||self;function vm(){}function mm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ym(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gm="closure_uid_"+(1e9*Math.random()>>>0),km=0;function bm(e,t,n){return e.call.apply(e.bind,arguments)}function wm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xm(e,t,n){return(xm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bm:wm).apply(null,arguments)}function _m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Im(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sm(){this.s=this.s,this.o=this.o}var Em={};Sm.prototype.s=!1,Sm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,gm)&&e[gm]||(e[gm]=++km)}(this);delete Em[e]}},Sm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Tm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Am(e){return Array.prototype.concat.apply([],arguments)}function Nm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dm(e){return/^[\s\xa0]*$/.test(e)}var Om,Rm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pm(e,t){return-1!=e.indexOf(t)}function Mm(e,t){return e<t?-1:e>t?1:0}e:{var Lm=pm.navigator;if(Lm){var Fm=Lm.userAgent;if(Fm){Om=Fm;break e}}Om=""}function Vm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Um(e){var t={};for(var n in e)t[n]=e[n];return t}var jm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jm.length;a++)n=jm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zm(e){return zm[" "](e),e}zm[" "]=vm;var qm,Gm=Pm(Om,"Opera"),Wm=Pm(Om,"Trident")||Pm(Om,"MSIE"),Km=Pm(Om,"Edge"),Hm=Km||Wm,Qm=Pm(Om,"Gecko")&&!(Pm(Om.toLowerCase(),"webkit")&&!Pm(Om,"Edge"))&&!(Pm(Om,"Trident")||Pm(Om,"MSIE"))&&!Pm(Om,"Edge"),Zm=Pm(Om.toLowerCase(),"webkit")&&!Pm(Om,"Edge");function $m(){var e=pm.document;return e?e.documentMode:void 0}e:{var Ym="",Jm=function(){var e=Om;return Qm?/rv:([^\);]+)(\)|;)/.exec(e):Km?/Edge\/([\d\.]+)/.exec(e):Wm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zm?/WebKit\/(\S+)/.exec(e):Gm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jm&&(Ym=Jm?Jm[1]:""),Wm){var Xm=$m();if(null!=Xm&&Xm>parseFloat(Ym)){qm=String(Xm);break e}}qm=Ym}var ey,ty={};function ny(){return function(e){var t=ty;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Rm(String(qm)).split("."),n=Rm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mm(0==a[2].length,0==o[2].length)||Mm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(pm.document&&Wm){var ry=$m();ey=ry||(parseInt(qm,10)||void 0)}else ey=void 0;var iy=ey,ay=function(){if(!pm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pm.addEventListener("test",vm,t),pm.removeEventListener("test",vm,t)}catch(n){}return e}();function oy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function uy(e,t){if(oy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qm){e:{try{zm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uy.Z.h.call(this)}}oy.prototype.h=function(){this.defaultPrevented=!0},Im(uy,oy);var sy={2:"touch",3:"pen",4:"mouse"};uy.prototype.h=function(){uy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cy="closure_listenable_"+(1e6*Math.random()|0),ly=0;function fy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ly,this.ca=this.fa=!1}function hy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dy(e){this.src=e,this.g={},this.h=0}function py(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Tm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}dy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var my="closure_lm_"+(1e6*Math.random()|0),yy={};function gy(e,t,n,r,i){if(r&&r.once)return by(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gy(e,t[a],n,r,i);return null}return n=Ty(n),e&&e[cy]?e.N(t,n,ym(r)?!!r.capture:!!r,i):ky(e,t,n,!1,r,i)}function ky(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ym(i)?!!i.capture:!!i,u=Sy(e);if(u||(e[my]=u=new dy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Iy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ay||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function by(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)by(e,t[a],n,r,i);return null}return n=Ty(n),e&&e[cy]?e.O(t,n,ym(r)?!!r.capture:!!r,i):ky(e,t,n,!0,r,i)}function wy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wy(e,t[a],n,r,i);else r=ym(r)?!!r.capture:!!r,n=Ty(n),e&&e[cy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vy(a=e.g[t],n,r,i))&&(hy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Sy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vy(t,n,r,i)),(n=-1<e?t[e]:null)&&xy(n))}function xy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[cy])py(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sy(t))?(py(n,e),0==n.h&&(n.src=null,t[my]=null)):hy(e)}}}function _y(e){return e in yy?yy[e]:yy[e]="on"+e}function Iy(e,t){if(e.ca)e=!0;else{t=new uy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xy(e),e=n.call(r,t)}return e}function Sy(e){return(e=e[my])instanceof dy?e:null}var Ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ty(e){return"function"===typeof e?e:(e[Ey]||(e[Ey]=function(t){return e.handleEvent(t)}),e[Ey])}function Cy(){Sm.call(this),this.i=new dy(this),this.P=this,this.I=null}function Ay(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oy(t,e);else if(t instanceof oy)t.target=t.target||e;else{var i=t;Bm(t=new oy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ny(o,r,!0,t)&&i}if(i=Ny(o=t.g=e,r,!0,t)&&i,i=Ny(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ny(o=t.g=n[a],r,!1,t)&&i}function Ny(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&py(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Im(Cy,Sm),Cy.prototype[cy]=!0,Cy.prototype.removeEventListener=function(e,t,n,r){wy(this,e,t,n,r)},Cy.prototype.M=function(){if(Cy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hy(n[r]);delete t.g[e],t.h--}}this.I=null},Cy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Dy=pm.JSON.stringify;function Oy(){var e=jy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ry,Py=function(){function e(){Fo(this,e),this.h=this.g=null}return Uo(e,[{key:"add",value:function(e,t){var n=My.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),My=new(function(){function e(t,n){Fo(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Uo(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ly}),(function(e){return e.reset()})),Ly=function(){function e(){Fo(this,e),this.next=this.g=this.h=null}return Uo(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Fy(e){pm.setTimeout((function(){throw e}),0)}function Vy(e,t){Ry||function(){var e=pm.Promise.resolve(void 0);Ry=function(){e.then(By)}}(),Uy||(Ry(),Uy=!0),jy.add(e,t)}var Uy=!1,jy=new Py;function By(){for(var e;e=Oy();){try{e.h.call(e.g)}catch(n){Fy(n)}var t=My;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uy=!1}function zy(e,t){Cy.call(this),this.h=e||1,this.g=t||pm,this.j=xm(this.kb,this),this.l=Date.now()}function qy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Gy(e,t,n){if("function"===typeof e)n&&(e=xm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xm(e.handleEvent,e)}return 2147483647<Number(t)?-1:pm.setTimeout(e,t||0)}function Wy(e){e.g=Gy((function(){e.g=null,e.i&&(e.i=!1,Wy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Im(zy,Cy),(lm=zy.prototype).da=!1,lm.S=null,lm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ay(this,"tick"),this.da&&(qy(this),this.start()))}},lm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lm.M=function(){zy.Z.M.call(this),qy(this),delete this.g};var Ky=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Uo(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wy(this)}},{key:"M",value:function(){$s(zo(n.prototype),"M",this).call(this),this.g&&(pm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sm);function Hy(e){Sm.call(this),this.h=e,this.g={}}Im(Hy,Sm);var Qy=[];function Zy(e,t,n,r){Array.isArray(n)||(n&&(Qy[0]=n.toString()),n=Qy);for(var i=0;i<n.length;i++){var a=gy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $y(e){Vm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xy(e)}),e),e.g={}}function Yy(){this.g=!0}function Jy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Dy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hy.prototype.M=function(){Hy.Z.M.call(this),$y(this)},Hy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yy.prototype.Aa=function(){this.g=!1},Yy.prototype.info=function(){};var Xy={},eg=null;function tg(){return eg=eg||new Cy}function ng(e){oy.call(this,Xy.Ma,e)}function rg(e){var t=tg();Ay(t,new ng(t,e))}function ig(e,t){oy.call(this,Xy.STAT_EVENT,e),this.stat=t}function ag(e){var t=tg();Ay(t,new ig(t,e))}function og(e,t){oy.call(this,Xy.Na,e),this.size=t}function ug(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pm.setTimeout((function(){e()}),t)}Xy.Ma="serverreachability",Im(ng,oy),Xy.STAT_EVENT="statevent",Im(ig,oy),Xy.Na="timingevent",Im(og,oy);var sg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lg(){}function fg(e){return e.h||(e.h=e.i())}function hg(){}lg.prototype.h=null;var dg,pg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vg(){oy.call(this,"d")}function mg(){oy.call(this,"c")}function yg(){}function gg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hy(this),this.P=bg,e=Hm?125:void 0,this.W=new zy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kg}function kg(){this.i=null,this.g="",this.h=!1}Im(vg,oy),Im(mg,oy),Im(yg,lg),yg.prototype.g=function(){return new XMLHttpRequest},yg.prototype.i=function(){return{}},dg=new yg;var bg=45e3,wg={},xg={};function _g(e,t,n){e.K=1,e.v=Kg(jg(t)),e.s=n,e.U=!0,Ig(e,null)}function Ig(e,t){e.F=Date.now(),Cg(e),e.A=jg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ak(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kg,e.g=ub(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ky(xm(e.Ia,e,e.g),e.O)),Zy(e.V,e.g,"readystatechange",e.gb),t=e.H?Um(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rg(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Sg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Eg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tg(e,n))==xg){4==t&&(e.o=4,ag(14),i=!1),Jy(e.j,e.m,null,"[Incomplete Response]");break}if(r==wg){e.o=4,ag(15),Jy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jy(e.j,e.m,r,null),Rg(e,r)}Sg(e)&&r!=xg&&r!=wg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ag(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xk(t),t.L=!0,ag(11))):(Jy(e.j,e.m,n,"[Invalid Chunked Response]"),Og(e),Dg(e))}function Tg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xg:(n=Number(t.substring(n,r)),isNaN(n)?wg:(r+=1)+n>t.length?xg:(t=t.substr(r,n),e.C=r+n,t))}function Cg(e){e.Y=Date.now()+e.P,Ag(e,e.P)}function Ag(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ug(xm(e.eb,e),t)}function Ng(e){e.B&&(pm.clearTimeout(e.B),e.B=null)}function Dg(e){0==e.l.G||e.I||nb(e.l,e)}function Og(e){Ng(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qy(e.W),$y(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dk(n.i,e)))if(n.I=e.N,!e.J&&dk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tb(n),Gk(n)}Jk(n),ag(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ug(xm(n.ab,n),6e3));if(1>=hk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ib(n,11)}else if((e.J||n.g==e)&&tb(n),!Dm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Pm(l,"spdy")||Pm(l,"quic")||Pm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ob(r,r.H?r.la:null,r.W),d.J){vk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ng(p),Cg(p)),r.g=d}else Yk(r);0<n.l.length&&Hk(n)}else"stop"!=a[0]&&"close"!=a[0]||ib(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ib(n,7):qk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rg(4)}catch(a){}}function Pg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mm(e)||"string"===typeof e)Cm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(mm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Lg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Fg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Fg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(lm=gg.prototype).setTimeout=function(e){this.P=e},lm.gb=function(e){e=e.target;var t=this.L;t&&3==Vk(e)?t.l():this.Ia(e)},lm.Ia=function(e){try{if(e==this.g)e:{var t=Vk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Hm||this.g&&(this.h.h||this.g.ga()||Uk(this.g)))){this.I||4!=t||7==n||rg(8==n||0>=r?3:2),Ng(this);var i=this.g.ba();this.N=i;t:if(Sg(this)){var a=Uk(this.g);e="";var o=a.length,u=4==Vk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Og(this),Dg(this);var s="";break t}this.h.i=new pm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ag(12),Og(this),Dg(this);break e}Jy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rg(this,i)}this.U?(Eg(this,t,s),Hm&&this.i&&3==t&&(Zy(this.V,this.W,"tick",this.fb),this.W.start())):(Jy(this.j,this.m,s,null),Rg(this,s)),4==t&&Og(this),this.i&&!this.I&&(4==t?nb(this.l,this):(this.i=!1,Cg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ag(12)):(this.o=0,ag(13)),Og(this),Dg(this)}}}catch(t){}},lm.fb=function(){if(this.g){var e=Vk(this.g),t=this.g.ga();this.C<t.length&&(Ng(this),Eg(this,e,t),this.i&&4!=e&&Cg(this))}},lm.cancel=function(){this.I=!0,Og(this)},lm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rg(3),ag(17)),Og(this),this.o=2,Dg(this)):Ag(this,this.Y-e)},(lm=Mg.prototype).R=function(){Lg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},lm.T=function(){return Lg(this),this.g.concat()},lm.get=function(e,t){return Fg(this.h,e)?this.h[e]:t},lm.set=function(e,t){Fg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},lm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ug(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ug){this.g=void 0!==t?t:e.g,Bg(this,e.j),this.s=e.s,zg(this,e.i),qg(this,e.m),this.l=e.l,t=e.h;var n=new tk;n.i=t.i,t.g&&(n.g=new Mg(t.g),n.h=t.h),Gg(this,n),this.o=e.o}else e&&(n=String(e).match(Vg))?(this.g=!!t,Bg(this,n[1]||"",!0),this.s=Hg(n[2]||""),zg(this,n[3]||"",!0),qg(this,n[4]),this.l=Hg(n[5]||"",!0),Gg(this,n[6]||"",!0),this.o=Hg(n[7]||"")):(this.g=!!t,this.h=new tk(null,this.g))}function jg(e){return new Ug(e)}function Bg(e,t,n){e.j=n?Hg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zg(e,t,n){e.i=n?Hg(t,!0):t}function qg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gg(e,t,n){t instanceof tk?(e.h=t,function(e,t){t&&!e.j&&(nk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rk(this,t),ak(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qg(t,Xg)),e.h=new tk(t,e.g))}function Wg(e,t,n){e.h.set(t,n)}function Kg(e){return Wg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ug.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qg(t,$g,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qg(t,$g,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qg(n,"/"==n.charAt(0)?Jg:Yg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qg(n,ek)),e.join("")};var $g=/[#\/\?@]/g,Yg=/[#\?:]/g,Jg=/[#\?]/g,Xg=/[#\?@]/g,ek=/#/g;function tk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nk(e){e.g||(e.g=new Mg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rk(e,t){nk(e),t=ok(e,t),Fg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Fg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Lg(e)))}function ik(e,t){return nk(e),t=ok(e,t),Fg(e.g.h,t)}function ak(e,t,n){rk(e,t),0<n.length&&(e.i=null,e.g.set(ok(e,t),Nm(n)),e.h+=n.length)}function ok(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lm=tk.prototype).add=function(e,t){nk(this),this.i=null,e=ok(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lm.forEach=function(e,t){nk(this),this.g.forEach((function(n,r){Cm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},lm.T=function(){nk(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lm.R=function(e){nk(this);var t=[];if("string"===typeof e)ik(this,e)&&(t=Am(t,this.g.get(ok(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Am(t,e[n])}return t},lm.set=function(e,t){return nk(this),this.i=null,ik(this,e=ok(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},lm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var uk=Uo((function e(t,n){Fo(this,e),this.h=t,this.g=n}));function sk(e){this.l=e||lk,pm.PerformanceNavigationTiming?e=0<(e=pm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pm.g&&pm.g.Ea&&pm.g.Ea()&&pm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ck,lk=10;function fk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hk(e){return e.h?1:e.g?e.g.size:0}function dk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pk(e,t){e.g?e.g.add(t):e.h=t}function vk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=jo(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Nm(e.i)}function yk(){}function gk(){this.g=new yk}function kk(e,t,n){var r=n||"";try{Pg(e,(function(e,n){var i=e;ym(e)&&(i=Dy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wk(e){this.l=e.$b||null,this.j=e.ib||!1}function xk(e,t){Cy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_k,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sk.prototype.cancel=function(){if(this.i=mk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=jo(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yk.prototype.stringify=function(e){return pm.JSON.stringify(e,void 0)},yk.prototype.parse=function(e){return pm.JSON.parse(e,void 0)},Im(wk,lg),wk.prototype.g=function(){return new xk(this.l,this.j)},wk.prototype.i=(ck={},function(){return ck}),Im(xk,Cy);var _k=0;function Ik(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ek(e)}function Ek(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lm=xk.prototype).open=function(e,t){if(this.readyState!=_k)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ek(this)},lm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sk(this)),this.readyState=_k},lm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ek(this)),this.g&&(this.readyState=3,Ek(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof pm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ik(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},lm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sk(this):Ek(this),3==this.readyState&&Ik(this)}},lm.Ua=function(e){this.g&&(this.response=this.responseText=e,Sk(this))},lm.Ta=function(e){this.g&&(this.response=e,Sk(this))},lm.ha=function(){this.g&&Sk(this)},lm.setRequestHeader=function(e,t){this.v.append(e,t)},lm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tk=pm.JSON.parse;function Ck(e){Cy.call(this),this.headers=new Mg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ak,this.K=this.L=!1}Im(Ck,Cy);var Ak="",Nk=/^https?$/i,Dk=["POST","PUT"];function Ok(e){return"content-type"==e.toLowerCase()}function Rk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pk(e),Lk(e)}function Pk(e){e.D||(e.D=!0,Ay(e,"complete"),Ay(e,"error"))}function Mk(e){if(e.h&&"undefined"!=typeof dm&&(!e.C[1]||4!=Vk(e)||2!=e.ba()))if(e.v&&4==Vk(e))Gy(e.Fa,0,e);else if(Ay(e,"readystatechange"),4==Vk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vg)[1]||null;if(!a&&pm.self&&pm.self.location){var o=pm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nk.test(a?a.toLowerCase():"")}t=i}if(t)Ay(e,"complete"),Ay(e,"success");else{e.m=6;try{var u=2<Vk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Pk(e)}}finally{Lk(e)}}}function Lk(e,t){if(e.g){Fk(e);var n=e.g,r=e.C[0]?vm:null;e.g=null,e.C=null,t||Ay(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pm.clearTimeout(e.A),e.A=null)}function Vk(e){return e.g?e.g.readyState:0}function Uk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ak:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wg(e,t,n))}function Bk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zk(e){this.za=0,this.l=[],this.h=new Yy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bk("baseRetryDelayMs",5e3,e),this.$a=Bk("retryDelaySeedMs",1e4,e),this.Ya=Bk("forwardChannelMaxRetries",2,e),this.ra=Bk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sk(e&&e.concurrentRequestLimit),this.Ca=new gk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function qk(e){if(Wk(e),3==e.G){var t=e.V++,n=jg(e.F);Wg(n,"SID",e.J),Wg(n,"RID",t),Wg(n,"TYPE","terminate"),Zk(e,n),(t=new gg(e,e.h,t,void 0)).K=2,t.v=Kg(jg(n)),n=!1,pm.navigator&&pm.navigator.sendBeacon&&(n=pm.navigator.sendBeacon(t.v.toString(),"")),!n&&pm.Image&&((new Image).src=t.v,n=!0),n||(t.g=ub(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Cg(t)}ab(e)}function Gk(e){e.g&&(Xk(e),e.g.cancel(),e.g=null)}function Wk(e){Gk(e),e.u&&(pm.clearTimeout(e.u),e.u=null),tb(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pm.clearTimeout(e.m),e.m=null)}function Kk(e,t){e.l.push(new uk(e.Za++,t)),3==e.G&&Hk(e)}function Hk(e){fk(e.i)||e.m||(e.m=!0,Vy(e.Ha,e),e.C=0)}function Qk(e,t){var n;n=t?t.m:e.V++;var r=jg(e.F);Wg(r,"SID",e.J),Wg(r,"RID",n),Wg(r,"AID",e.U),Zk(e,r),e.o&&e.s&&jk(r,e.o,e.s),n=new gg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$k(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pk(e.i,n),_g(n,r,t)}function Zk(e,t){e.j&&Pg({},(function(e,n){Wg(t,n,e)}))}function $k(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kk(l,o,"req"+c+"_")}catch(Mb){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yk(e){e.g||e.u||(e.Y=1,Vy(e.Ga,e),e.A=0)}function Jk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ug(xm(e.Ga,e),rb(e,e.A)),e.A++,!0)}function Xk(e){null!=e.B&&(pm.clearTimeout(e.B),e.B=null)}function eb(e){e.g=new gg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=jg(e.oa);Wg(t,"RID","rpc"),Wg(t,"SID",e.J),Wg(t,"CI",e.N?"0":"1"),Wg(t,"AID",e.U),Zk(e,t),Wg(t,"TYPE","xmlhttp"),e.o&&e.s&&jk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kg(jg(t)),n.s=null,n.U=!0,Ig(n,e)}function tb(e){null!=e.v&&(pm.clearTimeout(e.v),e.v=null)}function nb(e,t){var n=null;if(e.g==t){tb(e),Xk(e),e.g=null;var r=2}else{if(!dk(e.i,t))return;n=t.D,vk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ay(r=tg(),new og(r,n,t,i)),Hk(e)}else Yk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ug(xm(e.Ha,e,t),rb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ib(e,5);break;case 4:ib(e,10);break;case 3:ib(e,6);break;default:ib(e,2)}}function rb(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ib(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xm(e.jb,e);n||(n=new Ug("//www.google.com/images/cleardot.gif"),pm.location&&"http"==pm.location.protocol||Bg(n,"https"),Kg(n)),function(e,t){var n=new Yy;if(pm.Image){var r=new Image;r.onload=_m(bk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_m(bk,n,r,"TestLoadImage: error",!1,t),r.onabort=_m(bk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_m(bk,n,r,"TestLoadImage: timeout",!1,t),pm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ag(2);e.G=0,e.j&&e.j.va(t),ab(e),Wk(e)}function ab(e){e.G=0,e.I=-1,e.j&&(0==mk(e.i).length&&0==e.l.length||(e.i.i.length=0,Nm(e.l),e.l.length=0),e.j.ua())}function ob(e,t,n){var r=function(e){return e instanceof Ug?jg(e):new Ug(e,void 0)}(n);if(""!=r.i)t&&zg(r,t+"."+r.i),qg(r,r.m);else{var i=pm.location;r=function(e,t,n,r){var i=new Ug(null,void 0);return e&&Bg(i,e),t&&zg(i,t),n&&qg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vm(e.aa,(function(e,t){Wg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wg(r,t,n),Wg(r,"VER",e.ma),Zk(e,r),r}function ub(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ck(new wk({ib:!0})):new Ck(e.qa)).L=e.H,t}function sb(){}function cb(){if(Wm&&!(10<=Number(iy)))throw Error("Environmental error: no available transport.")}function lb(e,t){Cy.call(this),this.g=new zk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Dm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Dm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new db(this)}function fb(e){vg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hb(){mg.call(this),this.status=1}function db(e){this.g=e}(lm=Ck.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?fg(this.u):fg(dg),this.g.onreadystatechange=xm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Rk(this,a)}e=n||"";var i=new Mg(this.headers);r&&Pg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ok,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=pm.FormData&&e instanceof pm.FormData,!(0<=Tm(Dk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fk(this),0<this.B&&((this.K=function(e){return Wm&&ny()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xm(this.pa,this)):this.A=Gy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Rk(this,a)}},lm.pa=function(){"undefined"!=typeof dm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ay(this,"timeout"),this.abort(8))},lm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ay(this,"complete"),Ay(this,"abort"),Lk(this))},lm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lk(this,!0)),Ck.Z.M.call(this)},lm.Fa=function(){this.s||(this.F||this.v||this.l?Mk(this):this.cb())},lm.cb=function(){Mk(this)},lm.ba=function(){try{return 2<Vk(this)?this.g.status:-1}catch(ck){return-1}},lm.ga=function(){try{return this.g?this.g.responseText:""}catch(ck){return""}},lm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tk(t)}},lm.Da=function(){return this.m},lm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(lm=zk.prototype).ma=8,lm.G=1,lm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},lm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Bm(n=Um(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$k(this,t,r),Wg(i=jg(this.F),"RID",e),Wg(i,"CVER",22),this.D&&Wg(i,"X-HTTP-Session-Id",this.D),Zk(this,i),this.o&&n&&jk(i,this.o,n),pk(this.i,t),this.Ra&&Wg(i,"TYPE","init"),this.ja?(Wg(i,"$req",r),Wg(i,"SID","null"),t.$=!0,_g(t,i,null)):_g(t,i,r),this.G=2}}else 3==this.G&&(e?Qk(this,e):0==this.l.length||fk(this.i)||Qk(this))},lm.Ga=function(){if(this.u=null,eb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ug(xm(this.bb,this),e)}},lm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ag(10),Gk(this),eb(this))},lm.ab=function(){null!=this.v&&(this.v=null,Gk(this),Jk(this),ag(19))},lm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ag(2)):(this.h.info("Failed to ping google.com"),ag(1))},(lm=sb.prototype).xa=function(){},lm.wa=function(){},lm.va=function(){},lm.ua=function(){},lm.Oa=function(){},cb.prototype.g=function(e,t){return new lb(e,t)},Im(lb,Cy),lb.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vy(xm(e.hb,e,t))),ag(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ob(e,null,e.W),Hk(e)},lb.prototype.close=function(){qk(this.g)},lb.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kk(this.g,t)}else this.v?((t={}).__data__=Dy(e),Kk(this.g,t)):Kk(this.g,e)},lb.prototype.M=function(){this.g.j=null,delete this.j,qk(this.g),delete this.g,lb.Z.M.call(this)},Im(fb,vg),Im(hb,mg),Im(db,sb),db.prototype.xa=function(){Ay(this.g,"a")},db.prototype.wa=function(e){Ay(this.g,new fb(e))},db.prototype.va=function(e){Ay(this.g,new hb(e))},db.prototype.ua=function(){Ay(this.g,"b")},cb.prototype.createWebChannel=cb.prototype.g,lb.prototype.send=lb.prototype.u,lb.prototype.open=lb.prototype.m,lb.prototype.close=lb.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,cg.COMPLETE="complete",hg.EventType=pg,pg.OPEN="a",pg.CLOSE="b",pg.ERROR="c",pg.MESSAGE="d",Cy.prototype.listen=Cy.prototype.N,Ck.prototype.listenOnce=Ck.prototype.O,Ck.prototype.getLastError=Ck.prototype.La,Ck.prototype.getLastErrorCode=Ck.prototype.Da,Ck.prototype.getStatus=Ck.prototype.ba,Ck.prototype.getResponseJson=Ck.prototype.Qa,Ck.prototype.getResponseText=Ck.prototype.ga,Ck.prototype.send=Ck.prototype.ea;var pb=hm.createWebChannelTransport=function(){return new cb},vb=hm.getStatEventTarget=function(){return tg()},mb=hm.ErrorCode=sg,yb=hm.EventType=cg,gb=hm.Event=Xy,kb=hm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bb=hm.FetchXmlHttpFactory=wk,wb=hm.WebChannel=hg,xb=hm.XhrIo=Ck,_b="@firebase/firestore",Ib=function(){function e(t){Fo(this,e),this.uid=t}return Uo(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ib.UNAUTHENTICATED=new Ib(null),Ib.GOOGLE_CREDENTIALS=new Ib("google-credentials-uid"),Ib.FIRST_PARTY=new Ib("first-party-uid"),Ib.MOCK_USER=new Ib("mock-user");var Sb="9.9.2",Eb=new Mu("@firebase/firestore");function Tb(){return Eb.logLevel}function Cb(e){if(Eb.logLevel<=Cu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Db);Eb.debug.apply(Eb,["Firestore (".concat(Sb,"): ").concat(e)].concat(ot(i)))}}function Ab(e){if(Eb.logLevel<=Cu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Db);Eb.error.apply(Eb,["Firestore (".concat(Sb,"): ").concat(e)].concat(ot(i)))}}function Nb(e){if(Eb.logLevel<=Cu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Db);Eb.warn.apply(Eb,["Firestore (".concat(Sb,"): ").concat(e)].concat(ot(i)))}}function Db(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ob(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Sb,") INTERNAL ASSERTION FAILED: ")+e;throw Ab(t),new Error(t)}function Rb(e,t){e||Ob()}function Pb(e,t){return e}var Mb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lb=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Uo(n)}(cu),Fb=Uo((function e(){var t=this;Fo(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vb=Uo((function e(t,n){Fo(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ub=function(){function e(){Fo(this,e)}return Uo(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ib.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jb=function(){function e(t){Fo(this,e),this.token=t,this.changeListener=null}return Uo(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bb=function(){function e(t){Fo(this,e),this.t=t,this.currentUser=Ib.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Uo(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Cb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Cb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Rb("string"==typeof n.accessToken),new Vb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Rb(null===e||"string"==typeof e),new Ib(e)}}]),e}(),zb=Uo((function e(t,n,r){Fo(this,e),this.type="FirstParty",this.user=Ib.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),qb=function(){function e(t,n,r){Fo(this,e),this.h=t,this.l=n,this.m=r}return Uo(e,[{key:"getToken",value:function(){return Promise.resolve(new zb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ib.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gb=Uo((function e(t){Fo(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Wb=function(){function e(t){Fo(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Uo(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Cb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Cb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Cb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Cb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Rb("string"==typeof t.token),e.p=t.token,new Gb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Kb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Hb=function(){function e(){Fo(this,e)}return Uo(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Kb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qb(e,t){return e<t?-1:e>t?1:0}function Zb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $b(e){return e+"\0"}var Yb=function(){function e(t,n){if(Fo(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lb(Mb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lb(Mb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lb(Mb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lb(Mb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Uo(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qb(this.nanoseconds,e.nanoseconds):Qb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Jb=function(){function e(t){Fo(this,e),this.timestamp=t}return Uo(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Yb(0,0))}},{key:"max",value:function(){return new e(new Yb(253402300799,999999999))}}]),e}(),Xb=function(){function e(t,n,r){Fo(this,e),void 0===n?n=0:n>t.length&&Ob(),void 0===r?r=t.length-n:r>t.length-n&&Ob(),this.segments=t,this.offset=n,this.len=r}return Uo(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ew=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ot(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xb),tw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nw=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return tw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lb(Mb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lb(Mb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lb(Mb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xb),rw=function(){function e(t){Fo(this,e),this.path=t}return Uo(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ew.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ew.fromString(t))}},{key:"fromName",value:function(t){return new e(ew.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ew.emptyPath())}},{key:"comparator",value:function(e,t){return ew.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ew(t.slice()))}}]),e}(),iw=Uo((function e(t,n,r,i){Fo(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function aw(e){return e.fields.find((function(e){return 2===e.kind}))}function ow(e){return e.fields.filter((function(e){return 2!==e.kind}))}iw.UNKNOWN_ID=-1;var uw=Uo((function e(t,n){Fo(this,e),this.fieldPath=t,this.kind=n}));var sw=function(){function e(t,n){Fo(this,e),this.sequenceNumber=t,this.offset=n}return Uo(e,null,[{key:"empty",value:function(){return new e(0,fw.min())}}]),e}();function cw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jb.fromTimestamp(1e9===r?new Yb(n+1,0):new Yb(n,r));return new fw(i,rw.empty(),t)}function lw(e){return new fw(e.readTime,e.key,-1)}var fw=function(){function e(t,n,r){Fo(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Uo(e,null,[{key:"min",value:function(){return new e(Jb.min(),rw.empty(),-1)}},{key:"max",value:function(){return new e(Jb.max(),rw.empty(),-1)}}]),e}();function hw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rw.comparator(e.documentKey,t.documentKey))?n:Qb(e.largestBatchId,t.largestBatchId)}var dw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pw=function(){function e(){Fo(this,e),this.onCommittedListeners=[]}return Uo(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function vw(e){return mw.apply(this,arguments)}function mw(){return mw=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Mb.FAILED_PRECONDITION&&t.message===dw){e.next=2;break}throw t;case 2:Cb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}var yw=function(){function e(t){var n=this;Fo(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Uo(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ob(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=jo(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),gw=function(){function e(t,n){var r=this;Fo(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Fb,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new ww(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Ew(e.target.error);r.T.reject(new ww(t,n))}}return Uo(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Cb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new _w(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ww(n,t)}}}]),e}(),kw=function(){function e(t,n,r){Fo(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(nu())&&Ab("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Uo(e,[{key:"k",value:function(){var e=Mo(Ro().mark((function e(t){var n=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Cb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ww(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lb(Mb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Lb(Mb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ww(t,n))},i.onupgradeneeded=function(e){Cb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){Cb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Mo(Ro().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ro().mark((function e(){var n,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=gw.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),yw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Cb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Cb("SimpleDb","Removing database:",e),Iw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!su())return!1;if(e.S())return!0;var t=nu(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Simple-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),bw=function(){function e(t){Fo(this,e),this.$=t,this.B=!1,this.L=null}return Uo(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Iw(this.$.delete())}}]),e}(),ww=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,Mb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Uo(n)}(Lb);function xw(e){return"IndexedDbTransactionError"===e.name}var _w=function(){function e(t){Fo(this,e),this.store=t}return Uo(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Cb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Cb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Iw(n)}},{key:"add",value:function(e){return Cb("SimpleDb","ADD",this.store.name,e,e),Iw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Iw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Cb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Cb("SimpleDb","DELETE",this.store.name,e),Iw(this.store.delete(e))}},{key:"count",value:function(){return Cb("SimpleDb","COUNT",this.store.name),Iw(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new yw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new yw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Cb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new yw((function(n,r){t.onerror=function(e){var t=Ew(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new yw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new bw(i),o=t(i.primaryKey,i.value,a);if(o instanceof yw){var u=o.catch((function(e){return a.done(),yw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return yw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Iw(e){return new yw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ew(e.target.error);n(t)}}))}var Sw=!1;function Ew(e){var t=kw.v(nu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Sw||(Sw=!0,setTimeout((function(){throw r}),0)),r}}return e}var Tw=function(){function e(t,n){Fo(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Uo(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Cb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Cb,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!xw(e.t4)){e.next=17;break}Cb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,vw(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Cw=function(){function e(t,n){Fo(this,e),this.localStore=t,this.persistence=n}return Uo(e,[{key:"tt",value:function(){var e=Mo(Ro().mark((function e(){var t,n=this,r=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return yw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Cb("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Cb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=lw(t);hw(r,n)>0&&(n=r)})),new fw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Aw=function(){function e(t,n){var r=this;Fo(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Uo(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Nw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ow(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Aw.ot=-1;var Rw=function(){function e(t,n){Fo(this,e),this.comparator=t,this.root=n||Mw.EMPTY}return Uo(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pw(this.root,e,this.comparator,!0)}}]),e}(),Pw=function(){function e(t,n,r,i){Fo(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Uo(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Mw=function(){function e(t,n,r,i,a){Fo(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Uo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ob();if(this.right.isRed())throw Ob();var e=this.left.check();if(e!==this.right.check())throw Ob();return e+(this.isRed()?0:1)}}]),e}();Mw.EMPTY=null,Mw.RED=!0,Mw.BLACK=!1,Mw.EMPTY=new(function(){function e(){Fo(this,e),this.size=0}return Uo(e,[{key:"key",get:function(){throw Ob()}},{key:"value",get:function(){throw Ob()}},{key:"color",get:function(){throw Ob()}},{key:"left",get:function(){throw Ob()}},{key:"right",get:function(){throw Ob()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Mw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Lw=function(){function e(t){Fo(this,e),this.comparator=t,this.data=new Rw(this.comparator)}return Uo(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fw(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fw(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fw=function(){function e(t){Fo(this,e),this.iter=t}return Uo(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Vw(e){return e.hasNext()?e.getNext():void 0}var Uw=function(){function e(t){Fo(this,e),this.fields=t,t.sort(nw.comparator)}return Uo(e,[{key:"unionWith",value:function(t){var n,r=new Lw(nw.comparator),i=jo(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=jo(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=jo(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var jw=function(e){function t(e){Fo(this,t),this.binaryString=e}return Uo(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();jw.EMPTY_BYTE_STRING=new jw("");var Bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zw(e){if(Rb(!!e),"string"==typeof e){var t=0,n=Bw.exec(e);if(Rb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qw(e.seconds),nanos:qw(e.nanos)}}function qw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gw(e){return"string"==typeof e?jw.fromBase64String(e):jw.fromUint8Array(e)}function Ww(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kw(e){var t=e.mapValue.fields.__previous_value__;return Ww(t)?Kw(t):t}function Hw(e){var t=zw(e.mapValue.fields.__local_write_time__.timestampValue);return new Yb(t.seconds,t.nanos)}var Qw=Uo((function e(t,n,r,i,a,o,u,s){Fo(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Zw=function(){function e(t,n){Fo(this,e),this.projectId=t,this.database=n||"(default)"}return Uo(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $w(e){return null==e}function Yw(e){return 0===e&&1/e==-1/0}function Jw(e){return"number"==typeof e&&Number.isInteger(e)&&!Yw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ex={nullValue:"NULL_VALUE"};function tx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ww(e)?4:vx(e)?9007199254740991:10:Ob()}function nx(e,t){if(e===t)return!0;var n=tx(e);if(n!==tx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hw(e).isEqual(Hw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zw(e.timestampValue),r=zw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gw(e.bytesValue).isEqual(Gw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qw(e.geoPointValue.latitude)===qw(t.geoPointValue.latitude)&&qw(e.geoPointValue.longitude)===qw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qw(e.integerValue)===qw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qw(e.doubleValue),r=qw(t.doubleValue);return n===r?Yw(n)===Yw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zb(e.arrayValue.values||[],t.arrayValue.values||[],nx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Nw(n)!==Nw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nx(n[i],r[i])))return!1;return!0}(e,t);default:return Ob()}}function rx(e,t){return void 0!==(e.values||[]).find((function(e){return nx(e,t)}))}function ix(e,t){if(e===t)return 0;var n=tx(e),r=tx(t);if(n!==r)return Qb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qw(e.integerValue||e.doubleValue),r=qw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ax(e.timestampValue,t.timestampValue);case 4:return ax(Hw(e),Hw(t));case 5:return Qb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Gw(e),r=Gw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qb(n[i],r[i]);if(0!==a)return a}return Qb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qb(qw(e.latitude),qw(t.latitude));return 0!==n?n:Qb(qw(e.longitude),qw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ix(n[i],r[i]);if(a)return a}return Qb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xw.mapValue&&t===Xw.mapValue)return 0;if(e===Xw.mapValue)return 1;if(t===Xw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Qb(r[o],a[o]);if(0!==u)return u;var s=ix(n[r[o]],i[a[o]]);if(0!==s)return s}return Qb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ob()}}function ax(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qb(e,t);var n=zw(e),r=zw(t),i=Qb(n.seconds,r.seconds);return 0!==i?i:Qb(n.nanos,r.nanos)}function ox(e){return ux(e)}function ux(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=zw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=jo(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ux(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=jo(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ux(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ob();var t,n}function sx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cx(e){return!!e&&"integerValue"in e}function lx(e){return!!e&&"arrayValue"in e}function fx(e){return!!e&&"nullValue"in e}function hx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dx(e){return!!e&&"mapValue"in e}function px(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Dw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=px(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=px(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mx(e){return"nullValue"in e?ex:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sx(Zw.empty(),rw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ob()}function yx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sx(Zw.empty(),rw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Xw:Ob()}function gx(e,t){var n=ix(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kx(e,t){var n=ix(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bx=function(){function e(t){Fo(this,e),this.value=t}return Uo(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!dx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=px(t)}},{key:"setAll",value:function(e){var t=this,n=nw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=px(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());dx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];dx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Dw(t,(function(t,n){return e[t]=n}));var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(px(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wx(e){var t=[];return Dw(e.fields,(function(e,n){var r=new nw([e]);if(dx(n)){var i=wx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=jo(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Uw(t)}var xx=function(){function e(t,n,r,i,a,o){Fo(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Uo(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Jb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Jb.min(),Jb.min(),bx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Jb.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Jb.min(),bx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Jb.min(),bx.empty(),2)}}]),e}(),_x=Uo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Fo(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Ix(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _x(e,t,n,r,i,a,o)}function Sx(e){var t=Pb(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ox(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$w(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ox(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ox(e)})).join(",")),t.ut=n}return t.ut}function Ex(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nx(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gx(e.startAt,t.startAt)&&Gx(e.endAt,t.endAt)}function Tx(e){return rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Cx(e,t){return e.filters.filter((function(e){return e instanceof Dx&&e.field.isEqual(t)}))}function Ax(e,t,n){var r,i=ex,a=!0,o=jo(Cx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ex,c=!0;switch(u.op){case"<":case"<=":s=mx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ex}gx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Nx(e,t,n){var r,i=Xw,a=!0,o=jo(Cx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Xw,c=!0;switch(u.op){case">=":case">":s=yx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Xw}kx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Dx=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Uo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ix(t,this.value)):null!==t&&tx(this.value)===tx(t)&&this.at(ix(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ob()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Ox(e,t,r):"array-contains"===t?new Lx(e,r):"in"===t?new Fx(e,r):"not-in"===t?new Vx(e,r):"array-contains-any"===t?new Ux(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Rx(e,n):new Px(e,n)}}]),n}(function(){return Uo((function e(){Fo(this,e)}))}()),Ox=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this,e,r,i)).key=rw.fromName(i.referenceValue),a}return Uo(n,[{key:"matches",value:function(e){var t=rw.comparator(e.key,this.key);return this.at(t)}}]),n}(Dx),Rx=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,"in",r)).keys=Mx("in",r),i}return Uo(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Dx),Px=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,"not-in",r)).keys=Mx("not-in",r),i}return Uo(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Dx);function Mx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return rw.fromName(e.referenceValue)}))}var Lx=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"array-contains",r)}return Uo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return lx(t)&&rx(t.arrayValue,this.value)}}]),n}(Dx),Fx=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"in",r)}return Uo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rx(this.value.arrayValue,t)}}]),n}(Dx),Vx=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"not-in",r)}return Uo(n,[{key:"matches",value:function(e){if(rx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rx(this.value.arrayValue,t)}}]),n}(Dx),Ux=function(e){Bo(n,e);var t=Wo(n);function n(e,r){return Fo(this,n),t.call(this,e,"array-contains-any",r)}return Uo(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!lx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rx(t.value.arrayValue,e)}))}}]),n}(Dx),jx=Uo((function e(t,n){Fo(this,e),this.position=t,this.inclusive=n})),Bx=Uo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Fo(this,e),this.field=t,this.dir=n}));function zx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rw.comparator(rw.fromName(o.referenceValue),n.key):ix(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Gx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nx(e.position[n],t.position[n]))return!1;return!0}var Wx=Uo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Fo(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Kx(e,t,n,r,i,a,o,u){return new Wx(e,t,n,r,i,a,o,u)}function Hx(e){return new Wx(e)}function Qx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $x(e){var t,n=jo(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Yx(e){return null!==e.collectionGroup}function Jx(e){var t=Pb(e);if(null===t.lt){t.lt=[];var n=$x(t),r=Zx(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Bx(n)),t.lt.push(new Bx(nw.keyField(),"asc"));else{var i,a=!1,o=jo(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Bx(nw.keyField(),s))}}}return t.lt}function Xx(e){var t=Pb(e);if(!t.ft)if("F"===t.limitType)t.ft=Ix(t.path,t.collectionGroup,Jx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=jo(Jx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Bx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new jx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jx(t.startAt.position,t.startAt.inclusive):null;t.ft=Ix(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function e_(e,t,n){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function t_(e,t){return Ex(Xx(e),Xx(t))&&e.limitType===t.limitType}function n_(e){return"".concat(Sx(Xx(e)),"|lt:").concat(e.limitType)}function r_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ox(t.value));var t})).join(", "),"]")),$w(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ox(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ox(e)})).join(",")),"Target(".concat(t,")")}(Xx(e)),"; limitType=").concat(e.limitType,")")}function i_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=jo(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=jo(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=qx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jx(e),t))&&!(e.endAt&&!function(e,t,n){var r=qx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jx(e),t))}(e,t)}function a_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function o_(e){return function(t,n){var r,i=!1,a=jo(Jx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=u_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function u_(e,t,n){var r=e.field.isKeyField()?rw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ix(r,i):Ob()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ob()}}function s_(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yw(t)?"-0":t}}function c_(e){return{integerValue:""+e}}function l_(e,t){return Jw(t)?c_(t):s_(e,t)}var f_=Uo((function e(){Fo(this,e),this._=void 0}));function h_(e,t,n){return e instanceof v_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof m_?y_(e,t):e instanceof g_?k_(e,t):function(e,t){var n=p_(e,t),r=w_(n)+w_(e._t);return cx(n)&&cx(e._t)?c_(r):s_(e.wt,r)}(e,t)}function d_(e,t,n){return e instanceof m_?y_(e,t):e instanceof g_?k_(e,t):n}function p_(e,t){return e instanceof b_?cx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var v_=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n)}(f_),m_=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).elements=e,r}return Uo(n)}(f_);function y_(e,t){var n,r=x_(t),i=jo(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return nx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var g_=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).elements=e,r}return Uo(n)}(f_);function k_(e,t){var n,r=x_(t),i=jo(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!nx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var b_=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Uo(n)}(f_);function w_(e){return qw(e.integerValue||e.doubleValue)}function x_(e){return lx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var __=Uo((function e(t,n){Fo(this,e),this.field=t,this.transform=n}));var I_=Uo((function e(t,n){Fo(this,e),this.version=t,this.transformResults=n})),S_=function(){function e(t,n){Fo(this,e),this.updateTime=t,this.exists=n}return Uo(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function E_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var T_=Uo((function e(){Fo(this,e)}));function C_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new j_(e.key,S_.none()):new R_(e.key,e.data,S_.none());var n,r=e.data,i=bx.empty(),a=new Lw(nw.comparator),o=jo(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new P_(e.key,i,new Uw(a.toArray()),S_.none())}function A_(e,t,n){e instanceof R_?function(e,t,n){var r=e.value.clone(),i=L_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof P_?function(e,t,n){if(E_(e.precondition,t)){var r=L_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(M_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function N_(e,t,n,r){return e instanceof R_?function(e,t,n,r){if(!E_(e.precondition,t))return n;var i=e.value.clone(),a=F_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof P_?function(e,t,n,r){if(!E_(e.precondition,t))return n;var i=F_(e.fieldTransforms,r,t),a=t.data;return a.setAll(M_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return E_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function D_(e,t){var n,r=null,i=jo(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=p_(a.transform,o||null);null!=u&&(null===r&&(r=bx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function O_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof m_&&t instanceof m_||e instanceof g_&&t instanceof g_?Zb(e.elements,t.elements,nx):e instanceof b_&&t instanceof b_?nx(e._t,t._t):e instanceof v_&&t instanceof v_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var R_=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Fo(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Uo(n,[{key:"getFieldMask",value:function(){return null}}]),n}(T_),P_=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Fo(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Uo(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(T_);function M_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function L_(e,t,n){var r=new Map;Rb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,d_(o,u,n[i]))}return r}function F_(e,t,n){var r,i=new Map,a=jo(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,h_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var V_,U_,j_=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Uo(n,[{key:"getFieldMask",value:function(){return null}}]),n}(T_),B_=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Uo(n,[{key:"getFieldMask",value:function(){return null}}]),n}(T_),z_=Uo((function e(t){Fo(this,e),this.count=t}));function q_(e){switch(e){default:return Ob();case Mb.CANCELLED:case Mb.UNKNOWN:case Mb.DEADLINE_EXCEEDED:case Mb.RESOURCE_EXHAUSTED:case Mb.INTERNAL:case Mb.UNAVAILABLE:case Mb.UNAUTHENTICATED:return!1;case Mb.INVALID_ARGUMENT:case Mb.NOT_FOUND:case Mb.ALREADY_EXISTS:case Mb.PERMISSION_DENIED:case Mb.FAILED_PRECONDITION:case Mb.ABORTED:case Mb.OUT_OF_RANGE:case Mb.UNIMPLEMENTED:case Mb.DATA_LOSS:return!0}}function G_(e){if(void 0===e)return Ab("GRPC error has no .code"),Mb.UNKNOWN;switch(e){case V_.OK:return Mb.OK;case V_.CANCELLED:return Mb.CANCELLED;case V_.UNKNOWN:return Mb.UNKNOWN;case V_.DEADLINE_EXCEEDED:return Mb.DEADLINE_EXCEEDED;case V_.RESOURCE_EXHAUSTED:return Mb.RESOURCE_EXHAUSTED;case V_.INTERNAL:return Mb.INTERNAL;case V_.UNAVAILABLE:return Mb.UNAVAILABLE;case V_.UNAUTHENTICATED:return Mb.UNAUTHENTICATED;case V_.INVALID_ARGUMENT:return Mb.INVALID_ARGUMENT;case V_.NOT_FOUND:return Mb.NOT_FOUND;case V_.ALREADY_EXISTS:return Mb.ALREADY_EXISTS;case V_.PERMISSION_DENIED:return Mb.PERMISSION_DENIED;case V_.FAILED_PRECONDITION:return Mb.FAILED_PRECONDITION;case V_.ABORTED:return Mb.ABORTED;case V_.OUT_OF_RANGE:return Mb.OUT_OF_RANGE;case V_.UNIMPLEMENTED:return Mb.UNIMPLEMENTED;case V_.DATA_LOSS:return Mb.DATA_LOSS;default:return Ob()}}(U_=V_||(V_={}))[U_.OK=0]="OK",U_[U_.CANCELLED=1]="CANCELLED",U_[U_.UNKNOWN=2]="UNKNOWN",U_[U_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",U_[U_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",U_[U_.NOT_FOUND=5]="NOT_FOUND",U_[U_.ALREADY_EXISTS=6]="ALREADY_EXISTS",U_[U_.PERMISSION_DENIED=7]="PERMISSION_DENIED",U_[U_.UNAUTHENTICATED=16]="UNAUTHENTICATED",U_[U_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",U_[U_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",U_[U_.ABORTED=10]="ABORTED",U_[U_.OUT_OF_RANGE=11]="OUT_OF_RANGE",U_[U_.UNIMPLEMENTED=12]="UNIMPLEMENTED",U_[U_.INTERNAL=13]="INTERNAL",U_[U_.UNAVAILABLE=14]="UNAVAILABLE",U_[U_.DATA_LOSS=15]="DATA_LOSS";var W_=function(){function e(t,n){Fo(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Uo(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Dw(this.inner,(function(t,n){var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ow(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),K_=new Rw(rw.comparator);function H_(){return K_}var Q_=new Rw(rw.comparator);function Z_(){for(var e=Q_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $_(e){var t=Q_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Y_(){return X_()}function J_(){return X_()}function X_(){return new W_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var eI=new Rw(rw.comparator),tI=new Lw(rw.comparator);function nI(){for(var e=tI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rI=new Lw(Qb);function iI(){return rI}var aI=function(){function e(t,n,r,i,a){Fo(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Uo(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,oI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jb.min(),r,iI(),H_(),nI())}}]),e}(),oI=function(){function e(t,n,r,i,a){Fo(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Uo(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(jw.EMPTY_BYTE_STRING,n,nI(),nI(),nI())}}]),e}(),uI=Uo((function e(t,n,r,i){Fo(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),sI=Uo((function e(t,n){Fo(this,e),this.targetId=t,this.It=n})),cI=Uo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Fo(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),lI=function(){function e(){Fo(this,e),this.Tt=0,this.Et=dI(),this.At=jw.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Uo(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=nI(),t=nI(),n=nI();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ob()}})),new oI(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=dI()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),fI=function(){function e(t){Fo(this,e),this.Ot=t,this.Ft=new Map,this.$t=H_(),this.Bt=hI(),this.Lt=new Lw(Qb)}return Uo(e,[{key:"Ut",value:function(e){var t,n=jo(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=jo(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Ob()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Tx(i))if(0===n){var a=new rw(i.path);this.Kt(t,a,xx.newNoDocument(a,Jb.min()))}else Rb(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Tx(a.target)){var o=new rw(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,xx.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=nI();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new aI(e,n,this.Lt,this.$t,r);return this.$t=H_(),this.Bt=hI(),this.Lt=new Lw(Qb),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new lI,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Lw(Qb),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Cb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new lI),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function hI(){return new Rw(rw.comparator)}function dI(){return new Rw(rw.comparator)}var pI={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mI=Uo((function e(t,n){Fo(this,e),this.databaseId=t,this.dt=n}));function yI(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gI(e,t){return e.dt?t.toBase64():t.toUint8Array()}function kI(e,t){return yI(e,t.toTimestamp())}function bI(e){return Rb(!!e),Jb.fromTimestamp(function(e){var t=zw(e);return new Yb(t.seconds,t.nanos)}(e))}function wI(e,t){return function(e){return new ew(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xI(e){var t=ew.fromString(e);return Rb(WI(t)),t}function _I(e,t){return wI(e.databaseId,t.path)}function II(e,t){var n=xI(t);if(n.get(1)!==e.databaseId.projectId)throw new Lb(Mb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lb(Mb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rw(CI(n))}function SI(e,t){return wI(e.databaseId,t)}function EI(e){var t=xI(e);return 4===t.length?ew.emptyPath():CI(t)}function TI(e){return new ew(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CI(e){return Rb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function AI(e,t,n){return{name:_I(e,t),fields:n.value.mapValue.fields}}function NI(e,t,n){var r=II(e,t.name),i=bI(t.updateTime),a=new bx({mapValue:{fields:t.fields}}),o=xx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function DI(e,t){return"found"in t?function(e,t){Rb(!!t.found),t.found.name,t.found.updateTime;var n=II(e,t.found.name),r=bI(t.found.updateTime),i=new bx({mapValue:{fields:t.found.fields}});return xx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Rb(!!t.missing),Rb(!!t.readTime);var n=II(e,t.missing),r=bI(t.readTime);return xx.newNoDocument(n,r)}(e,t):Ob()}function OI(e,t){var n;if(t instanceof R_)n={update:AI(e,t.key,t.value)};else if(t instanceof j_)n={delete:_I(e,t.key)};else if(t instanceof P_)n={update:AI(e,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof B_))return Ob();n={verify:_I(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof v_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof m_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof g_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof b_)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ob()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ob()}(e,t.precondition)),n}function RI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?S_.updateTime(bI(e.updateTime)):void 0!==e.exists?S_.exists(e.exists):S_.none()}(t.currentDocument):S_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Rb("REQUEST_TIME"===t.setToServerValue),n=new v_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new m_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new g_(i)}else"increment"in t?n=new b_(e,t.increment):Ob();var a=nw.fromServerFormat(t.fieldPath);return new __(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=II(e,t.update.name),a=new bx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Uw(t.map((function(e){return nw.fromServerFormat(e)})))}(t.updateMask);return new P_(i,a,o,n,r)}return new R_(i,a,n,r)}if(t.delete){var u=II(e,t.delete);return new j_(u,n)}if(t.verify){var s=II(e,t.verify);return new B_(s,n)}return Ob()}function PI(e,t){return{documents:[SI(e,t.path)]}}function MI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=SI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=SI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hx(e.value))return{unaryFilter:{field:jI(e.field),op:"IS_NAN"}};if(fx(e.value))return{unaryFilter:{field:jI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hx(e.value))return{unaryFilter:{field:jI(e.field),op:"IS_NOT_NAN"}};if(fx(e.value))return{unaryFilter:{field:jI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jI(e.field),op:UI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jI(e.field),direction:VI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||$w(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function LI(e){var t=EI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=FI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Bx(BI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $w(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new jx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new jx(n,t)}(n.endAt)),Kx(t,i,u,o,s,"F",c,l)}function FI(e){return e?void 0!==e.unaryFilter?[qI(e)]:void 0!==e.fieldFilter?[zI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return FI(e)})).reduce((function(e,t){return e.concat(t)})):Ob():[]}function VI(e){return pI[e]}function UI(e){return vI[e]}function jI(e){return{fieldPath:e.canonicalString()}}function BI(e){return nw.fromServerFormat(e.fieldPath)}function zI(e){return Dx.create(BI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ob()}}(e.fieldFilter.op),e.fieldFilter.value)}function qI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=BI(e.unaryFilter.field);return Dx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=BI(e.unaryFilter.field);return Dx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=BI(e.unaryFilter.field);return Dx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=BI(e.unaryFilter.field);return Dx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ob()}}function GI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function WI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function KI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=QI(t)),t=HI(e.get(n),t);return QI(t)}function HI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function QI(e){return e+"\x01\x01"}function ZI(e){var t=e.length;if(Rb(t>=2),2===t)return Rb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ew.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ob(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ob()}a=o+2}return new ew(r)}var $I=["userId","batchId"];function YI(e,t){return[e,KI(t)]}function JI(e,t,n){return[e,KI(t),n]}var XI={},eS=["prefixPath","collectionGroup","readTime","documentId"],tS=["prefixPath","collectionGroup","documentId"],nS=["collectionGroup","readTime","prefixPath","documentId"],rS=["canonicalId","targetId"],iS=["targetId","path"],aS=["path","targetId"],oS=["collectionId","parent"],uS=["indexId","uid"],sS=["uid","sequenceNumber"],cS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lS=["indexId","uid","orderedDocumentKey"],fS=["userId","collectionPath","documentId"],hS=["userId","collectionPath","largestBatchId"],dS=["userId","collectionGroup","largestBatchId"],pS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vS=[].concat(ot(pS),["documentOverlays"]),mS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yS=mS,gS=[].concat(yS,["indexConfiguration","indexState","indexEntries"]),kS=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Uo(n)}(pw);function bS(e,t){var n=Pb(e);return kw.N(n.ee,t)}var wS=function(){function e(t,n,r,i){Fo(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Uo(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&A_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=jo(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=N_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=jo(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=N_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=J_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=C_(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Jb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),nI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zb(this.mutations,e.mutations,(function(e,t){return O_(e,t)}))&&Zb(this.baseMutations,e.baseMutations,(function(e,t){return O_(e,t)}))}}]),e}(),xS=function(){function e(t,n,r,i){Fo(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Uo(e,null,[{key:"from",value:function(t,n,r){Rb(t.mutations.length===r.length);for(var i=eI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_S=function(){function e(t,n){Fo(this,e),this.largestBatchId=t,this.mutation=n}return Uo(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),IS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jb.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jw.EMPTY_BYTE_STRING;Fo(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Uo(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),SS=Uo((function e(t){Fo(this,e),this.ne=t}));function ES(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:TS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_I(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yI(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:CS(t.version)};else{if(!t.isUnknownDocument())return Ob();r.unknownDocument={path:n.path.toArray(),version:CS(t.version)}}return r}function TS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function CS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function AS(e){var t=new Yb(e.seconds,e.nanoseconds);return Jb.fromTimestamp(t)}function NS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return RI(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return RI(e.ne,t)})),u=Yb.fromMillis(t.localWriteTimeMs);return new wS(t.batchId,u,n,o)}function DS(e){var t,n,r=AS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?AS(e.lastLimboFreeSnapshotVersion):Jb.min();return void 0!==e.query.documents?(Rb(1===(n=e.query).documents.length),t=Xx(Hx(EI(n.documents[0])))):t=function(e){return Xx(LI(e))}(e.query),new IS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,jw.fromBase64String(e.resumeToken))}function OS(e,t){var n,r=CS(t.snapshotVersion),i=CS(t.lastLimboFreeSnapshotVersion);n=Tx(t.target)?PI(e.ne,t.target):MI(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function RS(e){var t=LI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?e_(t,t.limit,"L"):t}function PS(e,t){return new _S(t.largestBatchId,RI(e.ne,t.overlayMutation))}function MS(e,t){var n=t.path.lastSegment();return[e,KI(t.path.popLast()),n]}function LS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:CS(r.readTime),documentKey:KI(r.documentKey.path),largestBatchId:r.largestBatchId}}var FS=function(){function e(){Fo(this,e)}return Uo(e,[{key:"getBundleMetadata",value:function(e,t){return VS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:AS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return VS(e).put({bundleId:(n=t).id,createTime:CS(bI(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return US(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:RS(t.bundledQuery),readTime:AS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return US(e).put(function(e){return{name:e.name,readTime:CS(bI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function VS(e){return bS(e,"bundles")}function US(e){return bS(e,"namedQueries")}var jS=function(){function e(t,n){Fo(this,e),this.wt=t,this.userId=n}return Uo(e,[{key:"getOverlay",value:function(e,t){var n=this;return BS(e).get(MS(this.userId,t)).next((function(e){return e?PS(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Y_();return yw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _S(t,a);i.push(r.ie(e,o))})),yw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(KI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(BS(e).W("collectionPathOverlayIndex",i))})),yw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Y_(),a=KI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return BS(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=jo(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=PS(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Y_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return BS(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=PS(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return BS(e).put(function(e,t,n){var r=s(MS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:OI(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function BS(e){return bS(e,"documentOverlays")}var zS=function(){function e(){Fo(this,e)}return Uo(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(qw(e.integerValue));else if("doubleValue"in e){var n=qw(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Yw(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Gw(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?vx(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ob()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),rw.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function qS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function GS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=qS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zS.ye=new zS;var WS=function(){function e(){Fo(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Uo(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=jo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=jo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=GS(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=GS(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),KS=function(){function e(t){Fo(this,e),this.Oe=t}return Uo(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),HS=function(){function e(t){Fo(this,e),this.Oe=t}return Uo(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),QS=function(){function e(){Fo(this,e),this.Oe=new WS,this.Fe=new KS(this.Oe),this.$e=new HS(this.Oe)}return Uo(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),ZS=function(){function e(t,n,r,i){Fo(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Uo(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $S(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=YS(e.arrayValue,t.arrayValue))?n:0!==(n=YS(e.directionalValue,t.directionalValue))?n:rw.comparator(e.documentKey,t.documentKey)}function YS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var JS=function(){function e(t){Fo(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=jo(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Uo(e,[{key:"Ge",value:function(e){var t=aw(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=ow(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=jo(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),XS=function(){function e(){Fo(this,e),this.ze=new eE}return Uo(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),yw.resolve()}},{key:"getCollectionParents",value:function(e,t){return yw.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return yw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return yw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return yw.resolve(null)}},{key:"getIndexType",value:function(e,t){return yw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return yw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return yw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return yw.resolve(fw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return yw.resolve(fw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return yw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return yw.resolve()}}]),e}(),eE=function(){function e(){Fo(this,e),this.index={}}return Uo(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lw(ew.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Lw(ew.comparator)).toArray()}}]),e}(),tE=new Uint8Array(0),nE=function(){function e(t,n){Fo(this,e),this.user=t,this.databaseId=n,this.He=new eE,this.Je=new W_((function(e){return Sx(e)}),(function(e,t){return Ex(e,t)})),this.uid=t.uid||""}return Uo(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:KI(i)};return rE(e).put(a)}return yw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$b(t),""],!1,!0);return rE(e).K(r).next((function(e){var r,i=jo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ZI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=aE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=oE(e);return a.next((function(e){o.put(LS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=aE(e),r=oE(e),i=iE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=iE(e),i=!0,a=new Map;return yw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=nI(),o=[];return yw.forEach(a,(function(i,a){var u;Cb("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Sx(t)));var s=function(e,t){var n=aw(t);if(void 0===n)return null;var r,i=jo(Cx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=jo(ow(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=jo(Cx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=jo(ow(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ax(e,o.fieldPath,e.startAt):Nx(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=jo(ow(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Nx(e,o.fieldPath,e.endAt):Ax(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jx(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return yw.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=rw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return yw.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):tE,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,ot(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new ZS(e,rw.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new ZS(e,rw.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new JS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=jo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return yw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Lw(nw.comparator),r=!1,i=jo(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=jo(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new QS,i=jo(ow(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);zS.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new QS;return zS.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new QS;return zS.ye.re(sx(this.databaseId,t),n.Be(function(e){var t=ow(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new QS);var i,a=0,o=jo(ow(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=jo(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&lx(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);zS.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=ot(e),a=[],o=jo(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=jo(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new QS;f.seed(l.Me()),zS.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Dx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=aE(e),i=oE(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return yw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new sw(t.sequenceNumber,new fw(AS(t.readTime),new rw(ZI(t.documentKey)),t.largestBatchId)):sw.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new uw(nw.fromServerFormat(n),r)}));return new iw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Qb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=aE(e),a=oE(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return yw.forEach(t,(function(t){return a.put(LS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return yw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?yw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),yw.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?yw.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return iE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return iE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=iE(e),i=new Lw($S);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new ZS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Lw($S),r=this.on(t,e);if(null==r)return n;var i=aw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(lx(a)){var o,u=jo(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ZS(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ZS(t.indexId,e.key,tE,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Cb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Vw(a),s=Vw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Vw(o)):l?(i(u),u=Vw(a)):(u=Vw(a),s=Vw(o))}}(r,i,$S,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),yw.waitFor(o)}},{key:"ln",value:function(e){var t=1;return oE(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $S(e,t)})).filter((function(e,t,n){return!t||0!==$S(e,n[t-1])}));var r=[];r.push(e);var i,a=jo(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$S(o,e),s=$S(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,tE,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,tE,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(uE)}},{key:"getMinOffset",value:function(e,t){var n=this;return yw.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Ob()}))})).next(uE)}}]),e}();function rE(e){return bS(e,"collectionParents")}function iE(e){return bS(e,"indexEntries")}function aE(e){return bS(e,"indexConfiguration")}function oE(e){return bS(e,"indexState")}function uE(e){Rb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;hw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fw(t.readTime,t.documentKey,n)}var sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=function(){function e(t,n,r){Fo(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Uo(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Rb(1===u)})));var c,l=[],f=jo(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=JI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return yw.waitFor(a).next((function(){return l}))}function fE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ob();t=e.noDocument}return JSON.stringify(t).length}cE.DEFAULT_COLLECTION_PERCENTILE=10,cE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cE.DEFAULT=new cE(41943040,cE.DEFAULT_COLLECTION_PERCENTILE,cE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cE.DISABLED=new cE(-1,0,0);var hE=function(){function e(t,n,r,i){Fo(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Uo(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pE(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vE(e),o=pE(e);return o.add({}).next((function(u){Rb("number"==typeof u);var s,c=new wS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return OI(e.ne,t)})),i=n.mutations.map((function(t){return OI(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Lw((function(e,t){return Qb(e.canonicalString(),t.canonicalString())})),d=jo(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=JI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,XI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),yw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return pE(e).get(t).next((function(e){return e?(Rb(e.userId===n.userId),NS(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?yw.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return pE(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Rb(t.batchId>=r),a=NS(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pE(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pE(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return NS(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=YI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vE(e).J({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=ZI(l);if(c===n.userId&&t.path.isEqual(h))return pE(e).get(f).next((function(e){if(!e)throw Ob();Rb(e.userId===n.userId),a.push(NS(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lw(Qb),i=[];return t.forEach((function(t){var a=YI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=vE(e).J({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=ZI(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),yw.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=YI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Lw(Qb);return vE(e).J({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=ZI(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(pE(e).get(t).next((function(e){if(null===e)throw Ob();Rb(e.userId===n.userId),r.push(NS(n.wt,e))})))})),yw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lE(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),yw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return yw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return vE(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ZI(e[1]);i.push(a)}else r.done()})).next((function(){Rb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return dE(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return mE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Rb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function dE(e,t,n){var r=YI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return vE(e).J({range:a,H:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function pE(e){return bS(e,"mutations")}function vE(e){return bS(e,"documentMutations")}function mE(e){return bS(e,"mutationQueues")}var yE=function(){function e(t){Fo(this,e),this.En=t}return Uo(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),gE=function(){function e(t,n){Fo(this,e),this.referenceDelegate=t,this.wt=n}return Uo(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new yE(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Jb.fromTimestamp(new Yb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kE(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Rb(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return kE(e).J((function(o,u){var s=DS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return yw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return kE(e).J((function(e,n){var r=DS(n);t(r)}))}},{key:"bn",value:function(e){return bE(e).get("targetGlobalKey").next((function(e){return Rb(null!==e),e}))}},{key:"Pn",value:function(e,t){return bE(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return kE(e).put(OS(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Sx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kE(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=DS(n);Ex(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wE(e);return t.forEach((function(t){var o=KI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),yw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wE(e);return yw.forEach(t,(function(t){var a=KI(t.path);return yw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wE(e),i=nI();return r.J({range:n,H:!0},(function(e,t,n){var r=ZI(e[1]),a=new rw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=KI(t.path),r=IDBKeyRange.bound([n],[$b(n)],!1,!0),i=0;return wE(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return kE(e).get(t).next((function(e){return e?DS(e):null}))}}]),e}();function kE(e){return bS(e,"targets")}function bE(e){return bS(e,"targetGlobal")}function wE(e){return bS(e,"targetDocuments")}function xE(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Qb(r,o);return 0===c?Qb(i,u):c}var _E=function(){function e(t){Fo(this,e),this.Sn=t,this.buffer=new Lw(xE),this.Dn=0}return Uo(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),IE=function(){function e(t,n,r){Fo(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Uo(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Cb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!xw(e.t0)){e.next=12;break}Cb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,vw(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),SE=function(){function e(t,n){Fo(this,e),this.Mn=t,this.params=n}return Uo(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return yw.resolve(Aw.ot);var r=new _E(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cb("LruGarbageCollector","Garbage collection skipped; disabled"),yw.resolve(sE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),sE):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Cb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Tb()<=Cu.DEBUG&&Cb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),yw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),EE=function(){function e(t,n){Fo(this,e),this.db=t,this.garbageCollector=function(e,t){return new SE(e,t)}(this,n)}return Uo(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return TE(e,n)}},{key:"removeReference",value:function(e,t,n){return TE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return TE(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return mE(e).Y((function(r){return dE(e,r,t).next((function(e){return e&&(n=!0),yw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Jb.min()),wE(e).delete([0,KI(o.path)])}))}));i.push(s)}})).next((function(){return yw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return TE(e,t)}},{key:"Ln",value:function(e,t){var n,r=wE(e),i=Aw.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Aw.ot&&t(new rw(ZI(n)),i),i=c,n=u):i=Aw.ot})).next((function(){i!==Aw.ot&&t(new rw(ZI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function TE(e,t){return wE(e).put(function(e,t){return{targetId:0,path:KI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var CE=function(){function e(){Fo(this,e),this.changes=new W_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Uo(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,xx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),AE=function(){function e(t){Fo(this,e),this.wt=t}return Uo(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return RE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return RE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],TS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=xx.newInvalidDocument(t);return RE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(PE(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:xx.newInvalidDocument(t)};return RE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(PE(t))},(function(e,i){r={document:n.Kn(t,i),size:fE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=H_();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=H_(),i=new Rw(rw.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,fE(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return yw.resolve();var r=new Lw(LE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(PE(r.first()),PE(r.last())),a=r.getIterator(),o=a.getNext();return RE(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=rw.fromSegments([].concat(ot(t.prefixPath),[t.collectionGroup,t.documentId]));o&&LE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(PE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),TS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return RE(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=H_(),i=jo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(rw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=H_(),o=ME(t,n),u=ME(t,fw.max());return RE(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(rw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new DE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return OE(e).get("remoteDocumentGlobalKey").next((function(e){return Rb(!!e),e}))}},{key:"qn",value:function(e,t){return OE(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=NI(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=rw.fromSegments(t.noDocument.path),i=AS(t.noDocument.readTime);n=xx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ob();var a=rw.fromSegments(t.unknownDocument.path),o=AS(t.unknownDocument.version);n=xx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Yb(e[0],e[1]);return Jb.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Jb.min()))return n}return xx.newInvalidDocument(e)}}]),e}();function NE(e){return new AE(e)}var DE=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new W_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Uo(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Lw((function(e,t){return Qb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ES(t.zn.wt,o);i=i.add(a.path.popLast());var c=fE(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ES(t.zn.wt,o.convertToNoDocument(Jb.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),yw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(CE);function OE(e){return bS(e,"remoteDocumentGlobal")}function RE(e){return bS(e,"remoteDocumentsV14")}function PE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ME(e,t){var n=t.documentKey.path.toArray();return[e,TS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Qb(n[a],r[a]))return i;return(i=Qb(n.length,r.length))||((i=Qb(n[n.length-2],r[r.length-2]))||Qb(n[n.length-1],r[r.length-1]))}var FE=Uo((function e(t,n){Fo(this,e),this.overlayedDocument=t,this.mutatedFields=n})),VE=function(){function e(t,n,r,i){Fo(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Uo(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&N_(r.mutation,e,Uw.empty(),Yb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,nI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nI(),i=Y_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Z_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Y_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,nI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=H_(),a=X_(),o=X_();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof P_)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),N_(o.mutation,t,o.mutation.getFieldMask(),Yb.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new FE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=X_(),i=new Rw((function(e,t){return e-t})),a=nI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=jo(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Uw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||nI()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=J_();c.forEach((function(e){if(!a.has(e)){var n=C_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return yw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yw.resolve(Y_()),u=-1,s=a;return o.next((function(t){return yw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?yw.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,nI())})).next((function(e){return{batchId:u,changes:$_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new rw(t)).next((function(e){var t=Z_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Z_();return this.indexManager.getCollectionParents(e,i).next((function(o){return yw.forEach(o,(function(o){var u=function(e,t){return new Wx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,xx.newInvalidDocument(n)))}));var n=Z_();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&N_(a.mutation,i,Uw.empty(),Yb.now()),i_(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):yw.resolve(xx.newInvalidDocument(t))}}]),e}(),UE=function(){function e(t){Fo(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Uo(e,[{key:"getBundleMetadata",value:function(e,t){return yw.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:bI(n.createTime)}),yw.resolve()}},{key:"getNamedQuery",value:function(e,t){return yw.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:RS(e.bundledQuery),readTime:bI(e.readTime)}}(t)),yw.resolve()}}]),e}(),jE=function(){function e(){Fo(this,e),this.overlays=new Rw(rw.comparator),this.Xn=new Map}return Uo(e,[{key:"getOverlay",value:function(e,t){return yw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Y_();return yw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),yw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),yw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Y_(),i=t.length+1,a=new rw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return yw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Rw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Y_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Y_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return yw.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _S(t,n));var a=this.Xn.get(t);void 0===a&&(a=nI(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),BE=function(){function e(){Fo(this,e),this.Zn=new Lw(zE.ts),this.es=new Lw(zE.ns)}return Uo(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zE(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new zE(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new rw(new ew([])),r=new zE(n,e),i=new zE(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new rw(new ew([])),n=new zE(t,e),r=new zE(t,e+1),i=nI();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zE(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zE=function(){function e(t,n){Fo(this,e),this.key=t,this.ls=n}return Uo(e,null,[{key:"ts",value:function(e,t){return rw.comparator(e.key,t.key)||Qb(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Qb(e.ls,t.ls)||rw.comparator(e.key,t.key)}}]),e}(),qE=function(){function e(t,n){Fo(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Lw(zE.ts)}return Uo(e,[{key:"checkEmpty",value:function(e){return yw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wS(i,t,n,r);this.mutationQueue.push(a);var o,u=jo(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new zE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return yw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return yw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return yw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return yw.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return yw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zE(t,0),i=new zE(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),yw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lw(Qb);return t.forEach((function(e){var t=new zE(e,0),i=new zE(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),yw.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;rw.isDocumentKey(i)||(i=i.child(""));var a=new zE(new rw(i),0),o=new Lw(Qb);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),yw.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Rb(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return yw.forEach(t.mutations,(function(i){var a=new zE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zE(t,0),r=this.ds.firstAfterOrEqual(n);return yw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,yw.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),GE=function(){function e(t){Fo(this,e),this.ps=t,this.docs=new Rw(rw.comparator),this.size=0}return Uo(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return yw.resolve(n?n.document.mutableCopy():xx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=H_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():xx.newInvalidDocument(e))})),yw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=H_(),i=new rw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||hw(lw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return yw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ob()}},{key:"Is",value:function(e,t){return yw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new WE(this)}},{key:"getSize",value:function(e){return yw.resolve(this.size)}}]),e}(),WE=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).zn=e,r}return Uo(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),yw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(CE),KE=function(){function e(t){Fo(this,e),this.persistence=t,this.Ts=new W_((function(e){return Sx(e)}),Ex),this.lastRemoteSnapshotVersion=Jb.min(),this.highestTargetId=0,this.Es=0,this.As=new BE,this.targetCount=0,this.Rs=yE.An()}return Uo(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),yw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return yw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return yw.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),yw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),yw.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new yE(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,yw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),yw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,yw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),yw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return yw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return yw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),yw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),yw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),yw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return yw.resolve(n)}},{key:"containsKey",value:function(e,t){return yw.resolve(this.As.containsKey(t))}}]),e}(),HE=function(){function e(t,n){var r=this;Fo(this,e),this.bs={},this.overlays={},this.Ps=new Aw(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new KE(this),this.indexManager=new XS,this.remoteDocumentCache=new GE((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new SS(n),this.Ds=new UE(this.wt)}return Uo(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new qE(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Cb("MemoryPersistence","Starting transaction:",e);var i=new QE(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return yw.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),QE=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Uo(n)}(pw),ZE=function(){function e(t){Fo(this,e),this.persistence=t,this.ks=new BE,this.Ms=null}return Uo(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw Ob()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),yw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),yw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),yw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yw.forEach(this.Fs,(function(r){var i=rw.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Jb.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return yw.or([function(){return yw.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),$E=function(){function e(t){Fo(this,e),this.wt=t}return Uo(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new gw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$I,{unique:!0}),e.createObjectStore("documentMutations")}(e),YE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=yw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),YE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$I,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return yw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fS});t.createIndex("collectionPathOverlayIndex",hS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",dS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:eS});t.createIndex("documentKeyIndex",tS),t.createIndex("collectionGroupIndex",nS)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uS}).createIndex("sequenceNumberIndex",sS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cS}).createIndex("documentKeyIndex",lS,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=fE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return yw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return yw.forEach(r,(function(r){Rb(r.userId===n.userId);var i=NS(t.wt,r);return lE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new ew(n),o=function(e){return[0,KI(e)]}(a);r.push(t.get(o).next((function(n){return n?yw.resolve():function(n){return t.put({targetId:0,path:KI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return yw.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:oS});var n=t.store("collectionParents"),r=new eE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:KI(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new ew(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],ZI(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=DS(r),a=OS(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new rw(ew.fromString(i.document.name).popFirst(5)):i.noDocument?rw.fromSegments(i.noDocument.path):i.unknownDocument?rw.fromSegments(i.unknownDocument.path):Ob()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return yw.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=NE(this.wt),a=new HE(ZE.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:nI();NS(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),yw.forEach(r,(function(e,r){var o=new Ib(r),u=jS.se(n.wt,o),s=a.getIndexManager(o),c=hE.se(o,n.wt,s,a.referenceDelegate);return new VE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new kS(t,Aw.ot),e).next()}))}))}}]),e}();function YE(e){e.createObjectStore("targetDocuments",{keyPath:iS}).createIndex("documentTargetsIndex",aS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rS,{unique:!0}),e.createObjectStore("targetGlobal")}var JE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Fo(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Lb(Mb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EE(this,i),this.ei=n+"main",this.wt=new SS(s),this.ni=new kw(this.ei,this.Hs,new $E(this.wt)),this.Vs=new gE(this.referenceDelegate,this.wt),this.remoteDocumentCache=NE(this.wt),this.Ds=new FS,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Ab("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Uo(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lb(Mb.FAILED_PRECONDITION,JE);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Aw(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Mo(Ro().mark((function n(r){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Mo(Ro().mark((function t(n){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return tT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(xw(t))return Cb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Cb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return eT(e).get("owner").next((function(e){return yw.resolve(t.di(e))}))}},{key:"_i",value:function(e){return tT(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i,a=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bS(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return yw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=jo(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?yw.resolve(!0):eT(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Lb(Mb.FAILED_PRECONDITION,JE);return!1}}return!(!t.networkEnabled||!t.inForeground)||tT(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Cb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Mo(Ro().mark((function e(){var t=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kS(e,Aw.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return tT(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return hE.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new nE(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return jS.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Cb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?gS:14===i?yS:13===i?mS:12===i?vS:11===i?pS:void Ob();return this.ni.runTransaction(e,o,u,(function(i){return a=new kS(i,r.Ps?r.Ps.next():Aw.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Ab("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Lb(Mb.FAILED_PRECONDITION,dw);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return eT(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lb(Mb.FAILED_PRECONDITION,JE)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eT(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=eT(e);return n.get("owner").next((function(e){return t.di(e)?(Cb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):yw.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ab("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!iu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Cb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ab("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Im){Ab("Failed to set zombie client id.",Im)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Im){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return kw.V()}}]),e}();function eT(e){return bS(e,"owner")}function tT(e){return bS(e,"clientMetadata")}function nT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var rT=function(){function e(t,n,r,i){Fo(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Uo(e,null,[{key:"Vi",value:function(t,n){var r,i=nI(),a=nI(),o=jo(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),iT=function(){function e(){Fo(this,e),this.Si=!1}return Uo(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(Qx(t))return yw.resolve(null);var r=Xx(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=e_(t,null,"F"),r=Xx(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=nI.apply(void 0,ot(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,e_(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return Qx(t)||r.isEqual(Jb.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(Tb()<=Cu.DEBUG&&Cb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),r_(t)),i.Oi(e,o,t,cw(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Lw(o_(e));return t.forEach((function(t,r){i_(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Tb()<=Cu.DEBUG&&Cb("QueryEngine","Using full collection scan to execute query:",r_(t)),this.Di.getDocumentsMatchingQuery(e,t,fw.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),aT=function(){function e(t,n,r,i){Fo(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Rw(Qb),this.Bi=new W_((function(e){return Sx(e)}),Ex),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Uo(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VE(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function oT(e,t,n,r){return new aT(e,t,n,r)}function uT(e,t){return sT.apply(this,arguments)}function sT(){return sT=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=nI(),s=jo(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=jo(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=jo(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=jo(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function cT(e,t){var n=Pb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=yw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Rb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=nI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lT(e){var t=Pb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function fT(e,t){var n=Pb(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(jw.EMPTY_BYTE_STRING,Jb.min()).withLastLimboFreeSnapshotVersion(Jb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=H_(),s=nI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hT(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Jb.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return yw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function hT(e,t,n){var r=nI(),i=nI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=H_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Cb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function dT(e,t){var n=Pb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function pT(e,t){var n=Pb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,yw.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new IS(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function vT(e,t,n){return mT.apply(this,arguments)}function mT(){return mT=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pb(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xw(e.t1)){e.next=12;break}throw e.t1;case 12:Cb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mT.apply(this,arguments)}function yT(e,t,n){var r=Pb(e),i=Jb.min(),a=nI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Pb(e),i=r.Bi.get(n);return void 0!==i?yw.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Xx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Jb.min(),n?a:nI())})).next((function(e){return bT(r,a_(t),e),{documents:e,ji:a}}))}))}function gT(e,t){var n=Pb(e),r=Pb(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function kT(e,t){var n=Pb(e),r=n.Li.get(t)||Jb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,cw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return bT(n,t,e),e}))}function bT(e,t,n){var r=Jb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function wT(e,t,n,r){return xT.apply(this,arguments)}function xT(){return xT=Mo(Ro().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Pb(t),o=nI(),u=H_(),s=jo(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,pT(a,function(e){return Xx(Hx(ew.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return hT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e,t){return IT.apply(this,arguments)}function IT(){return IT=Mo(Ro().mark((function e(t,n){var r,i,a,o=arguments;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:nI(),e.next=3,pT(t,Xx(RS(n.bundledQuery)));case 3:return i=e.sent,a=Pb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=bI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(jw.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ST(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ET(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function TT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var CT=function(){function e(t,n,r,i){Fo(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Uo(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Lb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ab("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),AT=function(){function e(t,n,r){Fo(this,e),this.targetId=t,this.state=n,this.error=r}return Uo(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lb(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ab("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),NT=function(){function e(t,n){Fo(this,e),this.clientId=t,this.activeTargetIds=n}return Uo(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=iI(),o=0;i&&o<r.activeTargetIds.length;++o)i=Jw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ab("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),DT=function(){function e(t,n){Fo(this,e),this.clientId=t,this.onlineState=n}return Uo(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ab("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),OT=function(){function e(){Fo(this,e),this.activeTargetIds=iI()}return Uo(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),RT=function(){function e(t,n,r,i,a){Fo(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Rw(Qb),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=ST(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new OT),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Uo(e,[{key:"start",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=jo(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ST(this.persistenceKey,i)))&&(o=NT.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=jo(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(TT(this.persistenceKey,e));if(n){var r=AT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(TT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Cb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Cb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Cb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Cb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Ab("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Mo(Ro().mark((function e(){var r,i,a,o,u,s,c;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Aw.ot;if(null!=e)try{var n=JSON.parse(e);Rb("number"==typeof n),t=n}catch(e){Ab("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Aw.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new CT(this.currentUser,e,t,n),i=ET(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=ET(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=TT(this.persistenceKey,e),i=new AT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return NT.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return CT.Ji(new Ib(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return AT.Ji(r,t)}},{key:"wr",value:function(e){return DT.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Cb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=iI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),PT=function(){function e(){Fo(this,e),this.Fr=new OT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Uo(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new OT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),MT=function(){function e(){Fo(this,e)}return Uo(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),LT=function(){function e(){var t=this;Fo(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Uo(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Cb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=jo(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Cb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=jo(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),FT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},VT=function(){function e(t){Fo(this,e),this.jr=t.jr,this.Wr=t.Wr}return Uo(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),UT=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Uo(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xb;o.listenOnce(yb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mb.NO_ERROR:var t=o.getResponseJson();Cb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mb.TIMEOUT:Cb("Connection",'RPC "'+e+'" timed out'),a(new Lb(Mb.DEADLINE_EXCEEDED,"Request time out"));break;case mb.HTTP_ERROR:var n=o.getStatus();if(Cb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mb).indexOf(t)>=0?t:Mb.UNKNOWN}(r.status);a(new Lb(u,r.message))}else a(new Lb(Mb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lb(Mb.UNAVAILABLE,"Connection failed."));break;default:Ob()}}finally{Cb("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pb(),a=vb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bb({})),this.uo(o.initMessageHeaders,t,n),ru()||ou()||nu().indexOf("Electron/")>=0||uu()||nu().indexOf("MSAppHost/")>=0||au()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Cb("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new VT({jr:function(e){l?Cb("Connection","Not sending because WebChannel is closed:",e):(c||(Cb("Connection","Opening WebChannel transport."),s.open(),c=!0),Cb("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wb.EventType.OPEN,(function(){l||Cb("Connection","WebChannel transport opened.")})),h(s,wb.EventType.CLOSE,(function(){l||(l=!0,Cb("Connection","WebChannel transport closed"),f.eo())})),h(s,wb.EventType.ERROR,(function(e){l||(l=!0,Nb("Connection","WebChannel transport errored:",e),f.eo(new Lb(Mb.UNAVAILABLE,"The operation could not be completed")))})),h(s,wb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Rb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=V_[e];if(void 0!==t)return G_(t)}(a),u=i.message;void 0===o&&(o=Mb.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Lb(o,u)),s.close()}else Cb("Connection","WebChannel received:",n),f.no(n)}})),h(a,gb.STAT_EVENT,(function(e){e.stat===kb.PROXY?Cb("Connection","Detected buffering proxy"):e.stat===kb.NOPROXY&&Cb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Fo(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Uo(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Cb("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Cb("RestConnection","Received: ",e),e}),(function(t){throw Nb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=FT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function jT(){return"undefined"!=typeof window?window:null}function BT(){return"undefined"!=typeof document?document:null}function zT(e){return new mI(e,!0)}var qT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Fo(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Uo(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Cb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),GT=function(){function e(t,n,r,i,a,o,u,s){Fo(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qT(t,n)}return Uo(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Mb.RESOURCE_EXHAUSTED?(Ab(n.toString()),Ab("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Mb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Lb(Mb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Cb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Cb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),WT=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a,o,u){var s;return Fo(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Uo(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ob()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Rb(void 0===t||"string"==typeof t),jw.fromBase64String(t||"")):(Rb(void 0===t||t instanceof Uint8Array),jw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Mb.UNKNOWN:G_(e.code);return new Lb(t,e.message||"")}(o);n=new cI(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=II(e,s.document.name),l=bI(s.document.updateTime),f=new bx({mapValue:{fields:s.document.fields}}),h=xx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new uI(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=II(e,v.document),y=v.readTime?bI(v.readTime):Jb.min(),g=xx.newNoDocument(m,y),k=v.removedTargetIds||[];n=new uI([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=II(e,b.document),x=b.removedTargetIds||[];n=new uI([],x,w,null)}else{if(!("filter"in t))return Ob();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new z_(I),E=_.targetId;n=new sI(E,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Jb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jb.min():t.readTime?bI(t.readTime):Jb.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=TI(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Tx(r)?{documents:PI(e,r)}:{query:MI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gI(e,t.resumeToken):t.snapshotVersion.compareTo(Jb.min())>0&&(n.readTime=yI(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ob()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=TI(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(GT),KT=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a,o,u){var s;return Fo(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Uo(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,$s(zo(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Rb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Rb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?bI(e.updateTime):bI(t);return n.isEqual(Jb.min())&&(n=bI(t)),new I_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=bI(e.commitTime);return this.listener.Jo(n,t)}return Rb(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=TI(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return OI(t.wt,e)}))};this.Oo(n)}}]),n}(GT),HT=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a){var o;return Fo(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Uo(n,[{key:"tu",value:function(){if(this.Zo)throw new Lb(Mb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lb(Mb.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.bo.ao(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Lb(Mb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Uo((function e(){Fo(this,e)}))}()),QT=function(){function e(t,n){Fo(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Uo(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Ab(t),this.su=!1):Cb("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),ZT=Uo((function e(t,n,r,i,a){var o=this;Fo(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oC(o),!e.t0){e.next=5;break}return Cb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pb(t)).lu.add(4),e.next=4,JT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,$T(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new QT(r,i)}));function $T(e){return YT.apply(this,arguments)}function YT(){return YT=Mo(Ro().mark((function e(t){var n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oC(t)){e.next=18;break}n=jo(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),YT.apply(this,arguments)}function JT(e){return XT.apply(this,arguments)}function XT(){return XT=Mo(Ro().mark((function e(t){var n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jo(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),XT.apply(this,arguments)}function eC(e,t){var n=Pb(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),aC(n)?iC(n):MC(n).Co()&&nC(n,t))}function tC(e,t){var n=Pb(e),r=MC(n);n.hu.delete(t),r.Co()&&rC(n,t),0===n.hu.size&&(r.Co()?r.ko():oC(n)&&n._u.set("Unknown"))}function nC(e,t){e.wu.Nt(t.targetId),MC(e).Qo(t)}function rC(e,t){e.wu.Nt(t),MC(e).jo(t)}function iC(e){e.wu=new fI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),MC(e).start(),e._u.iu()}function aC(e){return oC(e)&&!MC(e).Do()&&e.hu.size>0}function oC(e){return 0===Pb(e).lu.size}function uC(e){e.wu=void 0}function sC(e){return cC.apply(this,arguments)}function cC(){return cC=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){nC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t){return fC.apply(this,arguments)}function fC(){return fC=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uC(t),aC(t)?(t._u.uu(n),iC(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(e,t,n){return dC.apply(this,arguments)}function dC(){return dC=Mo(Ro().mark((function e(t,n,r){var i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof cI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=jo(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof uI?t.wu.Ut(n):n instanceof sI?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Jb.min())){e.next=29;break}return e.prev=14,e.next=17,lT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(jw.EMPTY_BYTE_STRING,n.snapshotVersion)),rC(e,t);var r=new IS(n.target,t,1,n.sequenceNumber);nC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Cb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dC.apply(this,arguments)}function pC(e,t,n){return vC.apply(this,arguments)}function vC(){return vC=Mo(Ro().mark((function e(t,n,r){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xw(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,JT(t);case 5:t._u.set("Offline"),r||(r=function(){return lT(t.localStore)}),t.asyncQueue.enqueueRetryable(Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,$T(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e,t){return t().catch((function(n){return pC(e,n,t)}))}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Mo(Ro().mark((function e(t){var n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pb(t),r=LC(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!kC(n)){e.next=19;break}return e.prev=3,e.next=6,dT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,bC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pC(n,e.t0);case 17:e.next=2;break;case 19:wC(n)&&xC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gC.apply(this,arguments)}function kC(e){return oC(e)&&e.au.length<10}function bC(e,t){e.au.push(t);var n=LC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function wC(e){return oC(e)&&!LC(e).Do()&&e.au.length>0}function xC(e){LC(e).start()}function _C(e){return IC.apply(this,arguments)}function IC(){return IC=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function SC(e){return EC.apply(this,arguments)}function EC(){return EC=Mo(Ro().mark((function e(t){var n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=LC(t),r=jo(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function TC(e,t,n){return CC.apply(this,arguments)}function CC(){return CC=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=xS.from(i,n,r),e.next=3,mC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yC(t);case 5:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e,t){return NC.apply(this,arguments)}function NC(){return NC=Mo(Ro().mark((function e(t,n){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&LC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q_(i=n.code)||i===Mb.ABORTED){e.next=7;break}return r=t.au.shift(),LC(t).No(),e.next=5,mC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wC(t)&&xC(t);case 5:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function DC(e,t){return OC.apply(this,arguments)}function OC(){return OC=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Pb(t)).asyncQueue.verifyOperationInProgress(),Cb("RemoteStore","RemoteStore received new credentials"),i=oC(r),r.lu.add(3),e.next=6,JT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,$T(r);case 12:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function RC(e,t){return PC.apply(this,arguments)}function PC(){return PC=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,$T(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,JT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function MC(e){return e.mu||(e.mu=function(e,t,n){var r=Pb(e);return r.tu(),new WT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:sC.bind(null,e),Jr:lC.bind(null,e),Go:hC.bind(null,e)}),e.fu.push(function(){var t=Mo(Ro().mark((function t(n){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),aC(e)?iC(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:uC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function LC(e){return e.gu||(e.gu=function(e,t,n){var r=Pb(e);return r.tu(),new KT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:_C.bind(null,e),Jr:AC.bind(null,e),Yo:SC.bind(null,e),Jo:TC.bind(null,e)}),e.fu.push(function(){var t=Mo(Ro().mark((function t(n){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,yC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Cb("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var FC=function(){function e(t,n,r,i,a){Fo(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Uo(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lb(Mb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function VC(e,t){if(Ab("AsyncQueue","".concat(t,": ").concat(e)),xw(e))return new Lb(Mb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var UC=function(){function e(t){Fo(this,e),this.comparator=t?function(e,n){return t(e,n)||rw.comparator(e.key,n.key)}:function(e,t){return rw.comparator(e.key,t.key)},this.keyedMap=Z_(),this.sortedSet=new Rw(this.comparator)}return Uo(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),jC=function(){function e(){Fo(this,e),this.yu=new Rw(rw.comparator)}return Uo(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ob():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),BC=function(){function e(t,n,r,i,a,o,u,s){Fo(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Uo(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,UC.emptySet(n),a,r,i,!0,!1)}}]),e}(),zC=Uo((function e(){Fo(this,e),this.Iu=void 0,this.listeners=[]})),qC=Uo((function e(){Fo(this,e),this.queries=new W_((function(e){return n_(e)}),t_),this.onlineState="Unknown",this.Tu=new Set}));function GC(e,t){return WC.apply(this,arguments)}function WC(){return WC=Mo(Ro().mark((function e(t,n){var r,i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new zC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=VC(e.t0,"Initialization of query '".concat(r_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&$C(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),WC.apply(this,arguments)}function KC(e,t){return HC.apply(this,arguments)}function HC(){return HC=Mo(Ro().mark((function e(t,n){var r,i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t){var n,r=Pb(e),i=!1,a=jo(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=jo(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&$C(r)}function ZC(e,t,n){var r=Pb(e),i=r.queries.get(t);if(i){var a,o=jo(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function $C(e){e.Tu.forEach((function(e){e.next()}))}var YC=function(){function e(t,n,r){Fo(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Uo(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=jo(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new BC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=BC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),JC=function(){function e(t,n){Fo(this,e),this.payload=t,this.byteLength=n}return Uo(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),XC=function(){function e(t){Fo(this,e),this.wt=t}return Uo(e,[{key:"Wi",value:function(e){return II(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?NI(this.wt,e.document,!1):xx.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return bI(e)}}]),e}(),eA=function(){function e(t,n,r){Fo(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tA(t)}return Uo(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ew.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new XC(this.wt),i=jo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=jo(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||nI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wT(this.localStore,new XC(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=jo(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_T(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nA=Uo((function e(t){Fo(this,e),this.key=t})),rA=Uo((function e(t){Fo(this,e),this.key=t})),iA=function(){function e(t,n){Fo(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=nI(),this.mutatedKeys=nI(),this.Lu=o_(t),this.Uu=new UC(this.Lu)}return Uo(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new jC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=i_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ob()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new BC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new jC,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=nI(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new rA(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new nA(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=nI();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return BC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),aA=Uo((function e(t,n,r){Fo(this,e),this.query=t,this.targetId=n,this.view=r})),oA=Uo((function e(t){Fo(this,e),this.key=t,this.Xu=!1})),uA=function(){function e(t,n,r,i,a,o){Fo(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new W_((function(e){return n_(e)}),t_),this.ec=new Map,this.nc=new Set,this.sc=new Rw(rw.comparator),this.ic=new Map,this.rc=new BE,this.oc={},this.uc=new Map,this.cc=yE.Rn(),this.onlineState="Unknown",this.ac=void 0}return Uo(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tN(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,pT(r.localStore,Xx(n));case 8:return u=e.sent,r.isPrimaryClient&&eC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,lA(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t,n,r){return fA.apply(this,arguments)}function fA(){return fA=Mo(Ro().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Mo(Ro().mark((function e(t,n,r,i){var a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,yT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(DA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yT(t.localStore,n,!0);case 3:return a=e.sent,o=new iA(n,a.ji),u=o.Ku(a.documents),s=oI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),DA(t,r,c.zu),l=new aA(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!t_(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),tC(r.remoteStore,i.targetId),AA(r,i.targetId)})).catch(vw);case 9:e.next=14;break;case 11:return AA(r,i.targetId),e.next=14,vT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=Mo(Ro().mark((function e(t,n,r){var i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Pb(e),a=Yb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),nI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=H_(),s=nI();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=jo(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=D_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new P_(c.key,l,wx(l.value.mapValue),S_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Rw(Qb)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,PA(i,a.changes);case 9:return e.next=11,yC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=VC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.prev=1,e.next=4,fT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Rb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Rb(n.Xu):e.removedDocuments.size>0&&(Rb(n.Xu),n.Xu=!1))})),e.next=8,PA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yA.apply(this,arguments)}function gA(e,t,n){var r=Pb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Pb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=jo(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$C(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kA(e,t,n){return bA.apply(this,arguments)}function bA(){return bA=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s,c;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Pb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Rw(rw.comparator)).insert(o,xx.newNoDocument(o,Jb.min())),s=nI().add(o),c=new aI(Jb.min(),new Map,new Lw(Qb),u,s),e.next=9,mA(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),RA(i),e.next=16;break;case 14:return e.next=16,vT(i.localStore,n,!1).then((function(){return AA(i,n,r)})).catch(vw);case 16:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function wA(e,t){return xA.apply(this,arguments)}function xA(){return xA=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=n.batch.batchId,e.prev=1,e.next=4,cT(r.localStore,n);case 4:return a=e.sent,CA(r,i,null),TA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,PA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xA.apply(this,arguments)}function _A(e,t,n){return IA.apply(this,arguments)}function IA(){return IA=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pb(t),e.prev=1,e.next=4,function(e,t){var n=Pb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Rb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,CA(i,n,r),TA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,PA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),IA.apply(this,arguments)}function SA(e,t){return EA.apply(this,arguments)}function EA(){return EA=Mo(Ro().mark((function e(t,n){var r,i,a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oC((r=Pb(t)).remoteStore)||Cb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Pb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=VC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),EA.apply(this,arguments)}function TA(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function CA(e,t,n){var r=Pb(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function AA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=jo(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||NA(e,t)}))}function NA(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(tC(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),RA(e))}function DA(e,t,n){var r,i=jo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nA?(e.rc.addReference(a.key,t),OA(e,a)):a instanceof rA?(Cb("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||NA(e,a.key)):Ob()}}catch(o){i.e(o)}finally{i.f()}}function OA(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Cb("SyncEngine","New document in limbo: "+n),e.nc.add(r),RA(e))}function RA(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new rw(ew.fromString(t)),r=e.cc.next();e.ic.set(r,new oA(n)),e.sc=e.sc.insert(n,r),eC(e.remoteStore,new IS(Xx(Hx(n.path)),r,2,Aw.ot))}}function PA(e,t,n){return MA.apply(this,arguments)}function MA(){return MA=Mo(Ro().mark((function e(t,n,r){var i,a,o,u;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pb(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=rT.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yw.forEach(n,(function(t){return yw.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return yw.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xw(e.t0)){e.next=10;break}throw e.t0;case 10:Cb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=jo(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function LA(e,t){return FA.apply(this,arguments)}function FA(){return FA=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Pb(t)).currentUser.isEqual(n)){e.next=11;break}return Cb("SyncEngine","User change. New user:",n.toKey()),e.next=5,uT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Lb(Mb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,PA(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function VA(e,t){var n=Pb(e),r=n.ic.get(t);if(r&&r.Xu)return nI().add(r.key);var i=nI(),a=n.ec.get(t);if(!a)return i;var o,u=jo(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function UA(e,t){return jA.apply(this,arguments)}function jA(){return jA=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.next=3,yT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&DA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}function BA(e,t){return zA.apply(this,arguments)}function zA(){return zA=Mo(Ro().mark((function e(t,n){var r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.abrupt("return",kT(r.localStore,n).then((function(e){return PA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function qA(e,t,n,r){return GA.apply(this,arguments)}function GA(){return GA=Mo(Ro().mark((function e(t,n,r,i){var a,o;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pb(t),e.next=3,function(e,t){var n=Pb(e),r=Pb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):yw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(CA(a,n,i||null),TA(a,n),function(e,t){Pb(Pb(e).mutationQueue).In(t)}(a.localStore,n)):Ob();case 11:return e.next=13,PA(a,o);case 13:e.next=16;break;case 15:Cb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function WA(e,t){return KA.apply(this,arguments)}function KA(){return KA=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tN(r=Pb(t)),nN(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,HA(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,RC(r.remoteStore,!0);case 9:o=jo(a);try{for(o.s();!(u=o.n()).done;)s=u.value,eC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return AA(r,t),vT(r.localStore,t,!0)})),tC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,HA(r,c);case 21:return function(e){var t=Pb(e);t.ic.forEach((function(e,n){tC(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Rw(rw.comparator)}(r),r.ac=!1,e.next=25,RC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function HA(e,t,n){return QA.apply(this,arguments)}function QA(){return QA=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Pb(t),a=[],o=[],u=jo(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,pT(i.localStore,Xx(f[0]));case 11:l=e.sent,h=jo(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,UA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,gT(i.localStore,c);case 36:return y=e.sent,e.next=39,pT(i.localStore,y);case 39:return l=e.sent,e.next=42,lA(i,ZA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),QA.apply(this,arguments)}function ZA(e){return Kx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $A(e){var t=Pb(e);return Pb(Pb(t.localStore).persistence).Ri()}function YA(e,t,n,r){return JA.apply(this,arguments)}function JA(){return JA=Mo(Ro().mark((function e(t,n,r,i){var a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Pb(t)).ac){e.next=3;break}return e.abrupt("return",void Cb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,kT(a.localStore,a_(o[0]));case 10:return u=e.sent,s=aI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,PA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,vT(a.localStore,n,!0);case 17:return AA(a,n,i),e.abrupt("break",20);case 19:Ob();case 20:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function XA(e,t,n){return eN.apply(this,arguments)}function eN(){return eN=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tN(t)).ac){e.next=45;break}a=jo(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Cb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,gT(i.localStore,u);case 12:return s=e.sent,e.next=15,pT(i.localStore,s);case 15:return c=e.sent,e.next=18,lA(i,ZA(s),c.targetId,!1);case 18:eC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=jo(r),e.prev=30,h=Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,vT(i.localStore,t,!1).then((function(){tC(i.remoteStore,t),AA(i,t)})).catch(vw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eN.apply(this,arguments)}function tN(e){var t=Pb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kA.bind(null,t),t.Zu.Go=QC.bind(null,t.eventManager),t.Zu.lc=ZC.bind(null,t.eventManager),t}function nN(e){var t=Pb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_A.bind(null,t),t}function rN(e,t,n){var r=Pb(e);(function(){var e=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Pb(e),r=bI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tA(i)),a=new eA(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,PA(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Pb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Nb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var iN=function(){function e(){Fo(this,e),this.synchronizeTabs=!1}return Uo(e,[{key:"initialize",value:function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=zT(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return oT(this.persistence,new iT,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new HE(ZE.Os,this.wt)}},{key:"dc",value:function(e){return new PT}},{key:"terminate",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aN=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Uo(n,[{key:"initialize",value:function(){var e=Mo(Ro().mark((function e(t){var r=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(zo(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,nN(this.yc.syncEngine);case 6:return e.next=8,yC(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return oT(this.persistence,new iT,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new IE(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Cw(t,this.persistence);return new Tw(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=nT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cE.withCacheSize(this.cacheSizeBytes):cE.DEFAULT;return new XE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,jT(),BT(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new PT}}]),n}(iN),oN=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Uo(n,[{key:"initialize",value:function(){var e=Mo(Ro().mark((function e(t){var r,i=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(zo(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof RT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:qA.bind(null,r),Mr:YA.bind(null,r),Or:XA.bind(null,r),Ri:$A.bind(null,r),Nr:BA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WA(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=jT();if(!RT.V(t))throw new Lb(Mb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aN),uN=function(){function e(){Fo(this,e)}return Uo(e,[{key:"initialize",value:function(){var e=Mo(Ro().mark((function e(t,n){var r=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LA.bind(null,this.syncEngine),e.next=12,RC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qC}},{key:"createDatastore",value:function(e){var t,n=zT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new UT(t));return function(e,t,n,r){return new HT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gA(o.syncEngine,e,0)},a=LT.V()?new LT:new MT,new ZT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new uA(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pb(t),Cb("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,JT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Mo(Ro().mark((function r(){var i;return Ro().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cN=function(){function e(t){Fo(this,e),this.observer=t,this.muted=!1}return Uo(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):Ab("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lN=function(){function e(t,n){var r=this;Fo(this,e),this.Ec=t,this.wt=n,this.metadata=new Fb,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Uo(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Mo(Ro().mark((function e(){var t,n,r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new JC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Mo(Ro().mark((function e(){var t,n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Mo(Ro().mark((function e(){var t,n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fN=function(){function e(t){Fo(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Uo(e,[{key:"lookup",value:function(){var e=Mo(Ro().mark((function e(t){var n,r=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Lb(Mb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=TI(r.wt)+"/documents",a={documents:n.map((function(e){return _I(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=DI(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Rb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new j_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Mo(Ro().mark((function e(){var t,n=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=rw.fromPath(t);n.mutations.push(new B_(r,n.precondition(r)))})),e.next=7,function(){var e=Mo(Ro().mark((function e(t,n){var r,i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=TI(r.wt)+"/documents",a={writes:n.map((function(e){return OI(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ob();t=Jb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lb(Mb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?S_.updateTime(t):S_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jb.min()))throw new Lb(Mb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return S_.updateTime(t)}return S_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hN=function(){function e(t,n,r,i,a){Fo(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new qT(this.asyncQueue,"transaction_retry")}return Uo(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Mo(Ro().mark((function t(){var n,r;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fN(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!$w(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!q_(t)}return!1}}]),e}(),dN=function(){function e(t,n,r,i){var a=this;Fo(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ib.UNAUTHENTICATED,this.clientId=Hb.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Cb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Uo(e,[{key:"getConfiguration",value:function(){var e=Mo(Ro().mark((function e(){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lb(Mb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Mo(Ro().mark((function n(){var r;return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=VC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t){return yN.apply(this,arguments)}function yN(){return yN=Mo(Ro().mark((function e(t,n){var r,i;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gN(t);case 3:return r=e.sent,Cb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return DC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return DC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(e){return kN.apply(this,arguments)}function kN(){return kN=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,pN(t,new iN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function bN(e){return wN.apply(this,arguments)}function wN(){return wN=Mo(Ro().mark((function e(t){return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mN(t,new uN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e){return gN(e).then((function(e){return e.persistence}))}function _N(e){return gN(e).then((function(e){return e.localStore}))}function IN(e){return bN(e).then((function(e){return e.remoteStore}))}function SN(e){return bN(e).then((function(e){return e.syncEngine}))}function EN(e){return TN.apply(this,arguments)}function TN(){return TN=Mo(Ro().mark((function e(t){var n,r;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sA.bind(null,n.syncEngine),r.onUnlisten=hA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function CN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function i(){return Ro().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cN({next:function(a){t.enqueueAndForget((function(){return KC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Lb(Mb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Lb(Mb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new YC(Hx(n.path),a,{includeMetadataChanges:!0,Du:!0});return GC(e,o)},i.next=3,EN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function i(){return Ro().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cN({next:function(n){t.enqueueAndForget((function(){return KC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lb(Mb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new YC(n,a,{includeMetadataChanges:!0,Du:!0});return GC(e,o)},i.next=3,EN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var NN=new Map;function DN(e,t,n){if(!n)throw new Lb(Mb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ON(e,t,n,r){if(!0===t&&!0===r)throw new Lb(Mb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function RN(e){if(!rw.isDocumentKey(e))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function PN(e){if(rw.isDocumentKey(e))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function MN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ob()}function LN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lb(Mb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=MN(e);throw new Lb(Mb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function FN(e,t){if(t<=0)throw new Lb(Mb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var VN=function(){function e(t){var n;if(Fo(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lb(Mb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lb(Mb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ON("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Uo(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),UN=function(){function e(t,n,r){Fo(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VN({}),this._settingsFrozen=!1,t instanceof Zw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lb(Mb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zw(e.options.projectId)}(t))}return Uo(e,[{key:"app",get:function(){if(!this._app)throw new Lb(Mb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lb(Mb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ub;switch(e.type){case"gapi":var t=e.client;return Rb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Lb(Mb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=NN.get(e);t&&(Cb("ComponentProvider","Removing Datastore"),NN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function jN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=LN(e,UN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Nb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ib.MOCK_USER;else{o=tu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Lb(Mb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ib(s)}e._authCredentials=new jb(new Vb(o,u))}}var BN=function(){function e(t,n,r){Fo(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Uo(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),zN=function(){function e(t,n,r){Fo(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Uo(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qN=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this,e,r,Hx(i)))._path=i,a.type="collection",a}return Uo(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new BN(this.firestore,null,new rw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zN);function GN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xu(e),DN("collection","path",t),e instanceof UN){var a=ew.fromString.apply(ew,[t].concat(r));return PN(a),new qN(e,null,a)}if(!(e instanceof BN||e instanceof qN))throw new Lb(Mb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ew.fromString.apply(ew,[t].concat(r)));return PN(o),new qN(e.firestore,null,o)}function WN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xu(e),1===arguments.length&&(t=Hb.I()),DN("doc","path",t),e instanceof UN){var a=ew.fromString.apply(ew,[t].concat(r));return RN(a),new BN(e,null,new rw(a))}if(!(e instanceof BN||e instanceof qN))throw new Lb(Mb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ew.fromString.apply(ew,[t].concat(r)));return RN(o),new BN(e.firestore,e instanceof qN?e.converter:null,new rw(o))}function KN(e,t){return e=xu(e),t=xu(t),(e instanceof BN||e instanceof qN)&&(t instanceof BN||t instanceof qN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function HN(e,t){return e=xu(e),t=xu(t),e instanceof zN&&t instanceof zN&&e.firestore===t.firestore&&t_(e._query,t._query)&&e.converter===t.converter}var QN=function(){function e(){var t=this;Fo(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qT(this,"async_queue_retry"),this.Kc=function(){var e=BT();e&&Cb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=BT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Uo(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=BT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Fb;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Mo(Ro().mark((function e(){var t=this;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xw(e.t0)){e.next=12;break}throw e.t0;case 12:Cb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ab("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=FC.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Ob()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Mo(Ro().mark((function e(){var t;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=jo(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=jo(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function ZN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=jo(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $N=function(){function e(){Fo(this,e),this._progressObserver={},this._taskCompletionResolver=new Fb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Uo(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YN=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new QN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Uo(n,[{key:"_terminate",value:function(){return this._firestoreClient||XN(this),this._firestoreClient.terminate()}}]),n}(UN);function JN(e){return e._firestoreClient||XN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Qw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dN(e._authCredentials,e._appCheckCredentials,e._queue,r)}function eD(e,t,n){var r=new Fb;return e.asyncQueue.enqueue(Mo(Ro().mark((function i(){var a;return Ro().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pN(e,n);case 3:return i.next=5,mN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Mb.FAILED_PRECONDITION||e.code===Mb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Nb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tD(e){return function(e){return e.asyncQueue.enqueue(Mo(Ro().mark((function t(){var n,r;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xN(e);case 2:return n=t.sent,t.next=5,IN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Pb(e);return t.lu.delete(0),$T(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(JN(e=LN(e,YN)))}function nD(e){return function(e){return e.asyncQueue.enqueue(Mo(Ro().mark((function t(){var n,r;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xN(e);case 2:return n=t.sent,t.next=5,IN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pb(t)).lu.add(0),e.next=4,JT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(JN(e=LN(e,YN)))}function rD(e,t){var n=JN(e=LN(e,YN)),r=new $N;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lN(e,t)}(function(e,t){if(e instanceof Uint8Array)return sN(e,t);if(e instanceof ArrayBuffer)return sN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,zT(t));e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rN,t.next=3,SN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iD(e,t){return function(e,t){return e.asyncQueue.enqueue(Mo(Ro().mark((function n(){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Pb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,_N(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(JN(e=LN(e,YN)),t).then((function(t){return t?new zN(e,null,t.query):null}))}function aD(e){if(e._initialized||e._terminated)throw new Lb(Mb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oD=function(){function e(){Fo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nw(n)}return Uo(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uD=function(){function e(t){Fo(this,e),this._byteString=t}return Uo(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(jw.fromBase64String(t))}catch(t){throw new Lb(Mb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(jw.fromUint8Array(t))}}]),e}(),sD=Uo((function e(t){Fo(this,e),this._methodName=t})),cD=function(){function e(t,n){if(Fo(this,e),!isFinite(t)||t<-90||t>90)throw new Lb(Mb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lb(Mb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Uo(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qb(this._lat,e._lat)||Qb(this._long,e._long)}}]),e}(),lD=/^__.*__$/,fD=function(){function e(t,n,r){Fo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Uo(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new P_(e,this.data,this.fieldMask,t,this.fieldTransforms):new R_(e,this.data,t,this.fieldTransforms)}}]),e}(),hD=function(){function e(t,n,r){Fo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Uo(e,[{key:"toMutation",value:function(e,t){return new P_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ob()}}var pD=function(){function e(t,n,r,i,a,o){Fo(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Uo(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return PD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(dD(this.Zc)&&lD.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),vD=function(){function e(t,n,r){Fo(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||zT(t)}return Uo(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pD({Zc:e,methodName:t,ca:n,path:nw.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function mD(e){var t=e._freezeSettings(),n=zT(e._databaseId);return new vD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yD(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);ND("Data must be an object, but it was:",o,r);var u,s,c=CD(r,o);if(a.merge)u=new Uw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=jo(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=DD(t,d,n);if(!o.contains(p))throw new Lb(Mb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));MD(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Uw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fD(new bx(c),u,s)}var gD=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sD);function kD(e,t,n){return new pD({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var bD=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"_toFieldTransform",value:function(e){return new __(e.path,new v_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sD),wD=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e)).ha=r,i}return Uo(n,[{key:"_toFieldTransform",value:function(e){var t=kD(this,e,!0),n=this.ha.map((function(e){return TD(e,t)})),r=new m_(n);return new __(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sD),xD=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e)).ha=r,i}return Uo(n,[{key:"_toFieldTransform",value:function(e){var t=kD(this,e,!0),n=this.ha.map((function(e){return TD(e,t)})),r=new g_(n);return new __(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sD),_D=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e)).la=r,i}return Uo(n,[{key:"_toFieldTransform",value:function(e){var t=new b_(e.wt,l_(e.wt,this.la));return new __(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sD);function ID(e,t,n,r){var i=e.aa(1,t,n);ND("Data must be an object, but it was:",i,r);var a=[],o=bx.empty();Dw(r,(function(e,r){var u=RD(t,e,n);r=xu(r);var s=i.ia(u);if(r instanceof gD)a.push(u);else{var c=TD(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Uw(a);return new hD(o,u,i.fieldTransforms)}function SD(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[DD(t,r,n)],s=[i];if(a.length%2!=0)throw new Lb(Mb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(DD(t,a[c])),s.push(a[c+1]);for(var l=[],f=bx.empty(),h=u.length-1;h>=0;--h)if(!MD(l,u[h])){var d=u[h],p=s[h];p=xu(p);var v=o.ia(d);if(p instanceof gD)l.push(d);else{var m=TD(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Uw(l);return new hD(f,y,o.fieldTransforms)}function ED(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TD(n,e.aa(r?4:3,t))}function TD(e,t){if(AD(e=xu(e)))return ND("Unsupported field value:",t,e),CD(e,t);if(e instanceof sD)return function(e,t){if(!dD(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=jo(e);try{for(a.s();!(n=a.n()).done;){var o=TD(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=xu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return l_(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Yb.fromDate(e);return{timestampValue:yI(t.wt,n)}}if(e instanceof Yb){var r=new Yb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yI(t.wt,r)}}if(e instanceof cD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uD)return{bytesValue:gI(t.wt,e._byteString)};if(e instanceof BN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(MN(e)))}(e,t)}function CD(e,t){var n={};return Ow(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dw(e,(function(e,r){var i=TD(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function AD(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yb||e instanceof cD||e instanceof uD||e instanceof BN||e instanceof sD)}function ND(e,t,n){if(!AD(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=MN(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function DD(e,t,n){if((t=xu(t))instanceof oD)return t._internalPath;if("string"==typeof t)return RD(e,t);throw PD("Field path arguments must be of type string or ",e,!1,void 0,n)}var OD=new RegExp("[~\\*/\\[\\]]");function RD(e,t,n){if(t.search(OD)>=0)throw PD("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ko(oD,ot(t.split(".")))._internalPath}catch(r){throw PD("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PD(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lb(Mb.INVALID_ARGUMENT,u+e+s)}function MD(e,t){return e.some((function(e){return e.isEqual(t)}))}var LD=function(){function e(t,n,r,i,a){Fo(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Uo(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new BN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),FD=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"data",value:function(){return $s(zo(n.prototype),"data",this).call(this)}}]),n}(LD);function VD(e,t){return"string"==typeof t?RD(e,t):t instanceof oD?t._internalPath:t._delegate._internalPath}var UD=function(){function e(t,n){Fo(this,e),this.hasPendingWrites=t,this.fromCache=n}return Uo(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),jD=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i,a,o,u){var s;return Fo(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Uo(n,[{key:"exists",value:function(){return $s(zo(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new BD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(LD),BD=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $s(zo(n.prototype),"data",this).call(this,e)}}]),n}(jD),zD=function(){function e(t,n,r,i){Fo(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new UD(i.hasPendingWrites,i.fromCache),this.query=r}return Uo(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new BD(n._firestore,n._userDataWriter,r.key,r,new UD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lb(Mb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new BD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new BD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ob()}}function GD(e,t){return e instanceof jD&&t instanceof jD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zD&&t instanceof zD&&e._firestore===t._firestore&&HN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function WD(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lb(Mb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var KD=Uo((function e(){Fo(this,e)}));function HD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var QD=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Uo(n,[{key:"_apply",value:function(e){var t=mD(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){aO(o,a);var s,c=[],l=jo(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(iO(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=iO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||aO(o,a),u=ED(n,"where",o,"in"===a||"not-in"===a);var h=Dx.create(i,a,u);return function(e,t){if(t.ht()){var n=$x(e);if(null!==n&&!n.isEqual(t.field))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Zx(e);null!==r&&oO(e,t.field,r)}var i=function(e,t){var n,r=jo(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new zN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(KD);var ZD=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Uo(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bx(t,n);return function(e,t){if(null===Zx(e)){var n=$x(e);null!==n&&oO(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new zN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Wx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(KD);var $D=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Uo(n,[{key:"_apply",value:function(e){return new zN(e.firestore,e.converter,e_(e._query,this.ma,this.ga))}}]),n}(KD);var YD=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Uo(n,[{key:"_apply",value:function(e){var t=rO(e,this.type,this.ya,this.pa);return new zN(e.firestore,e.converter,function(e,t){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(KD);function JD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YD("startAt",t,!0)}function XD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YD("startAfter",t,!1)}var eO=function(e){Bo(n,e);var t=Wo(n);function n(e,r,i){var a;return Fo(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Uo(n,[{key:"_apply",value:function(e){var t=rO(e,this.type,this.ya,this.pa);return new zN(e.firestore,e.converter,function(e,t){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(KD);function tO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eO("endBefore",t,!1)}function nO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eO("endAt",t,!0)}function rO(e,t,n,r){if(n[0]=xu(n[0]),n[0]instanceof LD)return function(e,t,n,r,i){if(!r)throw new Lb(Mb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=jo(Jx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(sx(t,r.key));else{var c=r.data.field(s.field);if(Ww(c))throw new Lb(Mb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new jx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mD(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Lb(Mb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Yx(e)&&-1!==c.indexOf("/"))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ew.fromString(c));if(!rw.isDocumentKey(l))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new rw(l);u.push(sx(t,f))}else{var h=ED(n,r,c);u.push(h)}}return new jx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iO(e,t,n){if("string"==typeof(n=xu(n))){if(""===n)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(t)&&-1!==n.indexOf("/"))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ew.fromString(n));if(!rw.isDocumentKey(r))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sx(e,new rw(r))}if(n instanceof BN)return sx(e,n._key);throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(MN(n),"."))}function aO(e,t){if(!Array.isArray(e)||0===e.length)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function oO(e,t,n){if(!n.isEqual(t))throw new Lb(Mb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var uO={maxAttempts:5},sO=function(){function e(){Fo(this,e)}return Uo(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ob()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Dw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cD(qw(e.latitude),qw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Kw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=zw(e);return new Yb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ew.fromString(e);Rb(WI(n));var r=new Zw(n.get(1),n.get(3)),i=new rw(n.popFirst(5));return r.isEqual(t)||Ab("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lO=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).firestore=e,r}return Uo(n,[{key:"convertBytes",value:function(e){return new uD(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BN(this.firestore,null,t)}}]),n}(sO),fO=function(){function e(t,n){Fo(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mD(t)}return Uo(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=hO(e,this._firestore),i=cO(r.converter,t,n),a=yD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,S_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=hO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xu(t))||t instanceof oD?SD(this._dataReader,"WriteBatch.update",i._key,t,n,o):ID(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,S_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=hO(e,this._firestore);return this._mutations=this._mutations.concat(new j_(t._key,S_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Lb(Mb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function hO(e,t){if((e=xu(e)).firestore!==t)throw new Lb(Mb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var dO=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).firestore=e,r}return Uo(n,[{key:"convertBytes",value:function(e){return new uD(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BN(this.firestore,null,t)}}]),n}(sO);function pO(e){e=LN(e,BN);var t=LN(e.firestore,YN),n=JN(t),r=new dO(t);return function(e,t){var n=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function r(){return Ro().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Mo(Ro().mark((function e(t,n,r){var i,a;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Pb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Lb(Mb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=VC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_N(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new jD(t,r,e._key,n,new UD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function vO(e){e=LN(e,zN);var t=LN(e.firestore,YN),n=JN(t),r=new dO(t);return function(e,t){var n=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function r(){return Ro().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Mo(Ro().mark((function e(t,n,r){var i,a,o,u,s;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yT(t,n,!0);case 3:i=e.sent,a=new iA(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=VC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_N(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new zD(t,r,e,n)}))}function mO(e,t,n){e=LN(e,BN);var r=LN(e.firestore,YN),i=cO(e.converter,t,n);return bO(r,[yD(mD(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,S_.none())])}function yO(e,t,n){e=LN(e,BN);for(var r=LN(e.firestore,YN),i=mD(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return bO(r,[("string"==typeof(t=xu(t))||t instanceof oD?SD(i,"updateDoc",e._key,t,n,o):ID(i,"updateDoc",e._key,t)).toMutation(e._key,S_.exists(!0))])}function gO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=xu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ZN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ZN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof BN)l=LN(e.firestore,YN),f=Hx(e._key.path),c={next:function(t){n[s]&&n[s](wO(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=LN(e,zN);l=LN(p.firestore,YN),f=p._query;var v=new dO(l);c={next:function(e){n[s]&&n[s](new zD(l,v,p,e))},error:n[s+1],complete:n[s+2]},WD(e._query)}return function(e,t,n,r){var i=new cN(r),a=new YC(t,i,n);return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GC,t.next=3,EN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KC,t.next=3,EN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JN(l),f,h,c)}function kO(e,t){return function(e,t){var n=new cN(t);return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pb(e).Tu.add(t),t.next()},t.next=3,EN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function t(){return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pb(e).Tu.delete(t)},t.next=3,EN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JN(e=LN(e,YN)),ZN(t)?t:{next:t})}function bO(e,t){return function(e,t){var n=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function r(){return Ro().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pA,r.next=3,SN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(JN(e),t)}function wO(e,t,n){var r=n.docs.get(t._key),i=new dO(e);return new jD(e,i,t._key,r,new UD(n.hasPendingWrites,n.fromCache),t.converter)}var xO=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,r))._firestore=e,i}return Uo(n,[{key:"get",value:function(e){var t=this,r=hO(e,this._firestore),i=new dO(this._firestore);return $s(zo(n.prototype),"get",this).call(this,e).then((function(e){return new jD(t._firestore,i,r._key,e._document,new UD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Fo(this,e),this._firestore=t,this._transaction=n,this._dataReader=mD(t)}return Uo(e,[{key:"get",value:function(e){var t=this,n=hO(e,this._firestore),r=new lO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ob();var i=e[0];if(i.isFoundDocument())return new LD(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new LD(t._firestore,r,n._key,null,n.converter);throw Ob()}))}},{key:"set",value:function(e,t,n){var r=hO(e,this._firestore),i=cO(r.converter,t,n),a=yD(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=hO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=xu(t))||t instanceof oD?SD(this._dataReader,"Transaction.update",i._key,t,n,o):ID(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=hO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _O(e,t,n){e=LN(e,YN);var r=Object.assign(Object.assign({},uO),n);return function(e){if(e.maxAttempts<1)throw new Lb(Mb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function i(){var a;return Ro().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return bN(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new hN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(JN(e),(function(n){return t(new xO(e,n))}),r)}function IO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wD("arrayUnion",t)}function SO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xD("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sb=e}(gs),fs(new _u("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new YN(i,new Bb(e.getProvider("auth-internal")),new Wb(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Is(_b,"3.4.14",e),Is(_b,"3.4.14","esm2017")}();function EO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TO(){if("undefined"===typeof Uint8Array)throw new Lb("unimplemented","Uint8Arrays are not available in this environment.")}function CO(){if("undefined"==typeof atob)throw new Lb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var AO=function(){function e(t){Fo(this,e),this._delegate=t}return Uo(e,[{key:"toBase64",value:function(){return CO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return TO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return CO(),new e(uD.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return TO(),new e(uD.fromUint8Array(t))}}]),e}();function NO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=jo(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var DO=function(){function e(){Fo(this,e)}return Uo(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aD(e=LN(e,YN));var n=JN(e),r=e._freezeSettings(),i=new uN;return eD(n,i,new aN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aD(e=LN(e,YN));var t=JN(e),n=e._freezeSettings(),r=new uN;return eD(t,r,new oN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Lb(Mb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Fb;return e._queue.enqueueAndForgetEvenWhileRestricted(Mo(Ro().mark((function n(){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Mo(Ro().mark((function e(t){var n;return Ro().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kw.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,kw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(nT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OO=function(){function e(t,n,r){var i=this;Fo(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zw||(this._appCompat=t)}return Uo(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Nb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tD(this._delegate)}},{key:"disableNetwork",value:function(){return nD(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ON("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Fb;return e.asyncQueue.enqueueAndForget(Mo(Ro().mark((function n(){return Ro().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=SA,n.next=3,SN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(JN(e=LN(e,YN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return kO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Lb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new KO(this,GN(this._delegate,e))}catch(t){throw VO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new FO(this,WN(this._delegate,e))}catch(t){throw VO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new qO(this,function(e,t){if(e=LN(e,UN),DN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lb(Mb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new zN(e,null,function(e){return new Wx(ew.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw VO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _O(this._delegate,(function(n){return e(new PO(t,n))}))}},{key:"batch",value:function(){var e=this;return JN(this._delegate),new MO(new fO(this._delegate,(function(t){return bO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rD(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iD(this._delegate,e).then((function(e){return e?new qO(t,e):null}))}}]),e}(),RO=function(e){Bo(n,e);var t=Wo(n);function n(e){var r;return Fo(this,n),(r=t.call(this)).firestore=e,r}return Uo(n,[{key:"convertBytes",value:function(e){return new AO(new uD(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return FO.forKey(t,this.firestore,null)}}]),n}(sO);var PO=function(){function e(t,n){Fo(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new RO(t)}return Uo(e,[{key:"get",value:function(e){var t=this,n=HO(e);return this._delegate.get(n).then((function(e){return new BO(t._firestore,new jD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=HO(e);return n?(EO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=HO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HO(e);return this._delegate.delete(t),this}}]),e}(),MO=function(){function e(t){Fo(this,e),this._delegate=t}return Uo(e,[{key:"set",value:function(e,t,n){var r=HO(e);return n?(EO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=HO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),LO=function(){function e(t,n,r){Fo(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Uo(e,[{key:"fromFirestore",value:function(e,t){var n=new BD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new RO(t),n),i.set(n,a)),a}}]),e}();LO.INSTANCES=new WeakMap;var FO=function(){function e(t,n){Fo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RO(t)}return Uo(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new KO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new KO(this.firestore,GN(this._delegate,e))}catch(t){throw VO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=xu(e))instanceof BN&&KN(this._delegate,e)}},{key:"set",value:function(e,t){t=EO("DocumentReference.set",t);try{return t?mO(this._delegate,e,t):mO(this._delegate,e)}catch(n){throw VO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?yO(this._delegate,e):yO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw VO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return bO(LN(e.firestore,YN),[new j_(e._key,S_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=UO(n),a=jO(n,(function(t){return new BO(e.firestore,new jD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gO(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?pO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LN(e,BN);var t=LN(e.firestore,YN);return CN(JN(t),e._key,{source:"server"}).then((function(n){return wO(t,e,n)}))}(this._delegate):function(e){e=LN(e,BN);var t=LN(e.firestore,YN);return CN(JN(t),e._key).then((function(n){return wO(t,e,n)}))}(this._delegate),t.then((function(e){return new BO(n.firestore,new jD(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Lb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new BN(n._delegate,r,new rw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new BN(n._delegate,r,t))}}]),e}();function VO(e,t,n){return e.message=e.message.replace(t,n),e}function UO(e){var t,n=jo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function jO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NO(e[0])?e[0]:NO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var BO=function(){function e(t,n){Fo(this,e),this._firestore=t,this._delegate=n}return Uo(e,[{key:"ref",get:function(){return new FO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return GD(this._delegate,e._delegate)}}]),e}(),zO=function(e){Bo(n,e);var t=Wo(n);function n(){return Fo(this,n),t.apply(this,arguments)}return Uo(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ob()}(void 0!==t),t}}]),n}(BO),qO=function(){function e(t,n){Fo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new RO(t)}return Uo(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,HD(this._delegate,function(e,t,n){var r=t,i=VD("where",e);return new QD(i,r,n)}(t,n,r)))}catch(i){throw VO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,HD(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VD("orderBy",e);return new ZD(n,t)}(t,n)))}catch(r){throw VO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,HD(this._delegate,function(e){return FN("limit",e),new $D("limit",e,"F")}(t)))}catch(n){throw VO(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,HD(this._delegate,function(e){return FN("limitToLast",e),new $D("limitToLast",e,"L")}(t)))}catch(n){throw VO(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,HD(this._delegate,JD.apply(void 0,arguments)))}catch(t){throw VO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,HD(this._delegate,XD.apply(void 0,arguments)))}catch(t){throw VO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,HD(this._delegate,tO.apply(void 0,arguments)))}catch(t){throw VO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,HD(this._delegate,nO.apply(void 0,arguments)))}catch(t){throw VO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return HN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LN(e,zN);var t=LN(e.firestore,YN),n=JN(t),r=new dO(t);return AN(n,e._query,{source:"server"}).then((function(n){return new zD(t,r,e,n)}))}(this._delegate):function(e){e=LN(e,zN);var t=LN(e.firestore,YN),n=JN(t),r=new dO(t);return WD(e._query),AN(n,e._query).then((function(n){return new zD(t,r,e,n)}))}(this._delegate),t.then((function(e){return new WO(n.firestore,new zD(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=UO(n),a=jO(n,(function(t){return new WO(e.firestore,new zD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),GO=function(){function e(t,n){Fo(this,e),this._firestore=t,this._delegate=n}return Uo(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new zO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),WO=function(){function e(t,n){Fo(this,e),this._firestore=t,this._delegate=n}return Uo(e,[{key:"query",get:function(){return new qO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new zO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new GO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new zO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return GD(this._delegate,e._delegate)}}]),e}(),KO=function(e){Bo(n,e);var t=Wo(n);function n(e,r){var i;return Fo(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Uo(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new FO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new FO(this.firestore,void 0===e?WN(this._delegate):WN(this._delegate,e))}catch(t){throw VO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=LN(e.firestore,YN),r=WN(e),i=cO(e.converter,t);return bO(n,[yD(mD(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,S_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new FO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return KN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(LO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(qO);function HO(e){return LN(e,BN)}var QO=function(){function e(){Fo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ko(oD,n)}return Uo(e,[{key:"isEqual",value:function(e){return(e=xu(e))instanceof oD&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(nw.keyField().canonicalString())}}]),e}(),ZO=function(){function e(t){Fo(this,e),this._delegate=t}return Uo(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new bD("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gD("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=IO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=SO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _D("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),$O={Firestore:OO,GeoPoint:cD,Timestamp:Yb,Blob:AO,Transaction:PO,WriteBatch:MO,DocumentReference:FO,DocumentSnapshot:BO,Query:qO,QueryDocumentSnapshot:zO,QuerySnapshot:WO,CollectionReference:KO,FieldPath:QO,FieldValue:ZO,setLogLevel:function(e){!function(e){Eb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _u("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$O)))}(e,(function(e,t){return new OO(e,t,new DO)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(Qs);var YO=je((function(e){b((function(e){return e.auth}));var n=D(),r=s((0,t.useState)(""),2),i=r[0],a=r[1];Qs.initializeApp({apiKey:"AIzaSyDlX6IJbH2ukAVgyoyz7LcUJYbdI9XKYYU",authDomain:"my-project-1535470760105.firebaseapp.com",projectId:"my-project-1535470760105",storageBucket:"my-project-1535470760105.appspot.com",messagingSenderId:"675008876732",appId:"1:675008876732:web:6880977df4233f608dc0b9"});var o=Qs.auth();return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("section",{className:Co,children:[(0,O.jsxs)("form",{onSubmit:function(t){(t.preventDefault(),i.trim().length>0)&&(n(Lo({userLogin:i})),e.history.push("/Simple-chat/main"));a("")},className:Ao,children:[(0,O.jsx)("label",{htmlFor:"userNameForm",children:(0,O.jsx)("p",{className:No,children:"Please, enter your name"})}),(0,O.jsx)("input",{id:"userNameForm",name:"name",type:"login",placeholder:"Your login",autoComplete:"off",autoFocus:!0,className:Do,onChange:function(e){return a(e.target.value)}}),(0,O.jsx)(To,{text:"Enter"})]}),(0,O.jsx)("button",{className:ze,text:"Auth by Google",onClick:function(){var t=new Qs.auth.GoogleAuthProvider;o.signInWithPopup(t);var r=o._delegate.currentUser.displayName;n(Lo({userLogin:r})),e.history.push("/Simple-chat/main")},children:(0,O.jsx)("h3",{className:qe,children:"Auth by Google"})})]})})})),JO=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=ue(t.props),t}return z(n,e),n.prototype.render=function(){return t.createElement(Ne,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var XO=function(e,t){return"function"===typeof e?e(t):e},eR=function(e,t){return"string"===typeof e?ee(e,null,null,t):e},tR=function(e){return e},nR=t.forwardRef;"undefined"===typeof nR&&(nR=tR);var rR=nR((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=Se(e,["innerRef","navigate","onClick"]),u=o.target,s=q({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=tR!==nR&&n||r,t.createElement("a",s)}));var iR=nR((function(e,n){var r=e.component,i=void 0===r?rR:r,a=e.replace,o=e.to,u=e.innerRef,s=Se(e,["component","replace","to","innerRef"]);return t.createElement(Ae.Consumer,null,(function(e){e||Q(!1);var r=e.history,c=eR(XO(o,e.location),e.location),l=c?r.createHref(c):"",f=q({},s,{href:l,navigate:function(){var t=XO(o,e.location);(a?r.replace:r.push)(t)}});return tR!==nR?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),aR=function(e){return e},oR=t.forwardRef;"undefined"===typeof oR&&(oR=aR);oR((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,m=e.innerRef,y=Se(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Ae.Consumer,null,(function(e){e||Q(!1);var r=f||e.location,a=eR(XO(v,r),r),g=a.pathname,k=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?Re(r.pathname,{path:k,exact:c,sensitive:h,strict:d}):null,w=!!(l?l(b,r):b),x=w?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,_=w?q({},p,{},u):p,I=q({"aria-current":w&&i||null,className:x,style:_,to:a},y);return aR!==oR?I.ref=n||m:I.innerRef=m,t.createElement(iR,I)}))}));var uR="UserSearch_searchSection__ATybB",sR="UserSearch_searchInput__pcEZ4",cR=function(){var e=b((function(e){return e.users})),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s(t.useContext(P),2),o=a[0],u=a[1];return(0,t.useEffect)((function(){var t=o.filter((function(e){return!!e.name.toLowerCase().includes(r)&&e}));u(t),""===r&&u(e)}),[r,e]),(0,O.jsx)("section",{className:uR,children:(0,O.jsx)("input",{className:sR,type:"text",placeholder:"Search",value:r,size:"2vw",onChange:function(e){return i(e.target.value.toLowerCase())}})})},lR={mainWrapper:"ContactsList_mainWrapper__fxvYI",mainWrapperMobile:"ContactsList_mainWrapperMobile__LhlIg",active:"ContactsList_active__V2M+L",userInfoWrapper:"ContactsList_userInfoWrapper__T+Rky",contactItemAvatar:"ContactsList_contactItemAvatar__QlDvW",contactItemName:"ContactsList_contactItemName__16CEF",hidingMenuHide:"ContactsList_hidingMenuHide__ZyWZS",contactsList:"ContactsList_contactsList__dQPa+"},fR="EachContact_mainWrapper__VpuHE",hR="EachContact_avatarWrapper__u1wG9",dR="EachContact_contactInfo__cVnLZ",pR="EachContact_correspondenceConversation__w6y90",vR="EachContact_dateOfConversation__welcV",mR=t.createContext(),yR=mR,gR=function(e){var n=e.children,r=s(t.useState(!1),2),i=r[0],a=r[1];return(0,O.jsx)(mR.Provider,{value:[i,a],children:n})},kR=function(e){var n=e.avatar,r=e.name,i=e.correspondence,a=e.id,o=s(t.useContext(F),2)[1],u=s(t.useContext(yR),2)[1];return(0,O.jsxs)("section",{className:fR,onClick:function(){o(+a),u(!1)},children:[(0,O.jsx)("div",{style:{background:"url(".concat(n,") no-repeat center 0% / cover")},className:hR}),(0,O.jsxs)("div",{className:dR,children:[r,(0,O.jsxs)("div",{className:pR,children:[i[0].myMessage?"You typed: ":"",i[0].message.substr(0,20)+"..."]})]}),(0,O.jsx)("div",{className:vR,children:new Date(i[0].date).toLocaleDateString()})]})},bR=function(){var e=b((function(e){return e.auth})),n=s(t.useContext(P),1)[0],r=s(t.useContext(yR),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>700&&a(!1)}),!1)}),[a]),(0,O.jsxs)("section",{className:i?lR.mainWrapperMobile:lR.mainWrapper,children:[(0,O.jsxs)("article",{className:lR.userInfoWrapper,children:[(0,O.jsx)("div",{className:lR.contactItemAvatar}),(0,O.jsx)("h3",{className:lR.contactItemName,children:e.userLogin}),(0,O.jsx)("div",{className:i?lR.hidingMenuHide:lR.hidingMenu,onClick:function(){return a(!i)}})]}),(0,O.jsx)(cR,{}),(0,O.jsx)("article",{className:lR.contactsList,children:n.sort((function(e,t){return new Date(t.correspondence[0].date).getTime()-new Date(e.correspondence[0].date).getTime()})).map((function(e,t){return(0,O.jsx)(kR,{avatar:e.avatar,name:e.name,correspondence:e.correspondence,id:e.id},t)}))})]})},wR="ChatWindow_mainWrapper__M5u6k",xR="ContactAvatar_mainWrapper__AMVG7",_R="ContactAvatar_selectContactInfo__29HWF",IR="ContactAvatar_selectedUserName__m-hbN",SR="ContactAvatar_avatar__aDfqQ",ER="ContactAvatar_name__4Mj6g",TR="ContactAvatar_typingStatus__5RGfk",CR="ContactAvatar_hidingMenu__Rqehu",AR="ContactAvatar_hidingMenuHide__sqLtF",NR=t.createContext(),DR=NR,OR=function(e){var n=e.children,r=s(t.useState(!1),2),i=r[0],a=r[1];return(0,O.jsx)(NR.Provider,{value:[i,a],children:n})},RR=function(e){var n=e.selectContact,r=s((0,t.useState)(null),2),i=r[0],a=r[1],o=s(t.useContext(DR),1)[0],u=s(t.useContext(yR),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){null!==n&&a(n)}),[i,n]),(0,O.jsxs)("section",{className:xR,children:[(0,O.jsxs)("div",{className:_R,children:[(0,O.jsx)("div",{style:null===n?{background:"url(https://cdn-icons-png.flaticon.com/512/53/53068.png) no-repeat center center / cover",backgroundColor:"aliceblue"}:{background:"url(".concat(n.avatar,") no-repeat center 0 / cover")},className:SR}),(0,O.jsxs)("div",{className:IR,children:[null===n?(0,O.jsx)("h3",{className:ER,children:"John Doe"}):(0,O.jsx)("h3",{className:ER,children:n.name}),o?(0,O.jsxs)("p",{className:TR,children:["is typing",(0,O.jsx)("span",{children:"..."})]}):null]})]}),(0,O.jsx)("div",{className:c?AR:CR,onClick:function(){return l(!c)}})]})},PR="ChatOutput_mainWrapper__DDWGl",MR="ChatOutput_myMessages__yvPE9",LR="ChatOutput_selectContactMessages__6bsfz",FR="ChatOutput_invitationWrapper__qlFBJ",VR="ChatOutput_invitation__wr+cd",UR=function(e){var t=e.selectContact;return(0,O.jsx)("section",{className:PR,children:t.correspondence.map((function(e,t){return(0,O.jsx)(O.Fragment,{children:e.myMessage?(0,O.jsxs)("h1",{className:MR,date:new Date(e.date).toLocaleString().slice(0,-3),children:[e.message,(0,O.jsx)("span",{children:new Date(e.date).toLocaleString().slice(0,-3)})]},t):(0,O.jsxs)("h1",{className:LR,children:[e.message,(0,O.jsx)("span",{children:new Date(e.date).toLocaleString().slice(0,-3)})]},t)})}))})},jR=function(){return(0,O.jsx)("section",{className:PR,children:(0,O.jsx)("div",{className:FR,children:(0,O.jsx)("h1",{className:VR,children:"\u0421hoose an interlocutor"})})})},BR="ChatInput_mainWrapper__idmDG",zR="ChatInput_formWrapper__iOffz",qR="ChatInput_input__XBxFg",GR=function(){var e=D(),n=s(t.useContext(F),1)[0],r=s(t.useContext(DR),2)[1],i=s(t.useContext(P),1)[0],a=s((0,t.useState)(""),2),o=a[0],u=a[1],c=function(t){if(t.preventDefault(),null!==n){var i=0;i=Math.round(9999.5+5001*Math.random());var a={selectContactId:n,message:{myMessage:!0,message:o,date:(new Date).toString()}};o.trim().length&&(e(function(e){return{type:"NEW_MESSAGE",payload:e}}(a)),r(!0),setTimeout((function(){e(function(e){return function(){var t=Mo(Ro().mark((function t(n){var r;return Ro().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.chucknorris.io/jokes/random").then((function(e){return e.json()})).catch((function(e){return alert(e)}));case 2:r=t.sent,n({type:"GET_ANSWER",payload:{selectContactId:e,answer:{myMessage:!1,message:r.value,date:(new Date).toString()}}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),r(!1)}),i),u(""))}};return(0,t.useEffect)((function(){localStorage.setItem("correspondenceData",JSON.stringify(i))}),[i]),(0,O.jsx)("section",{className:BR,children:(0,O.jsx)("form",{onSubmit:function(e){return c(e)},className:zR,children:(0,O.jsx)("input",{type:"text",className:qR,value:o,onChange:function(e){return u(e.target.value)}})})})},WR=function(){var e=s(t.useContext(P),1)[0],n=s(t.useContext(F),1)[0],r=s((0,t.useState)(null),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){e.filter((function(e,t){return e.id===n})).map((function(e){return a(e),e}))}),[e,n,i]),(0,O.jsxs)("section",{className:wR,children:[(0,O.jsx)(RR,{selectContact:i}),null!==i?(0,O.jsx)(UR,{selectContact:i}):(0,O.jsx)(jR,{}),(0,O.jsx)(GR,{})]})},KR=je((function(e){var n=b((function(e){return e.auth}));return(0,t.useEffect)((function(){""===n.userLogin&&e.history.push("/Simple-chat")}),[n.userLogin,e.history]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(bR,{}),(0,O.jsx)(WR,{})]})})),HR=function(){return(0,O.jsx)("section",{className:j,children:(0,O.jsxs)(JO,{children:[(0,O.jsx)(Pe,{exact:!0,path:"/Simple-chat/",component:YO}),(0,O.jsx)(Pe,{exact:!0,path:"/Simple-chat/main",component:KR})]})})},QR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},ZR=n(781),$R=n(484);function YR(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var JR=YR();JR.withExtraArgument=YR;var XR=JR,eP=JSON.parse(localStorage.getItem("userAuthInfo"))||{userLogin:""},tP=JSON.parse(localStorage.getItem("correspondenceData"))||[{id:1,name:"Oberon",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053574.png",correspondence:[{myMessage:!1,message:"Corvin! You must take the throne from Eric!",date:"Mon Aug 18 2022 11:02:56 GMT+0300"},{myMessage:!0,message:"Hello father. You haven't been seen in the kingdom for a long time!",date:"Mon Aug 18 2022 11:03:56 GMT+0300"}]},{id:2,name:"Julian",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053576.png",correspondence:[{myMessage:!1,message:"You've always been a bastard and know that I'm not happy with you.",date:"Mon Aug 14 2022 22:21:14 GMT+0300"},{myMessage:!0,message:"I don't think you're happy with me.",date:"Mon Aug 14 2022 22:20:56 GMT+0300"},{myMessage:!0,message:"Great day bro!",date:"Mon Aug 14 2022 22:15:16 GMT+0300"}]},{id:3,name:"Flora",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053577.png",correspondence:[{myMessage:!0,message:"I am slightly disappointed. After all, you were sent here to keep an eye on me and report to Eric!",date:"Wed Aug 17 2022 14:15:16 GMT+0300"},{myMessage:!1,message:"You're not mad at me, are you?",date:"Wed Aug 17 2022 14:01:16 GMT+0300"},{myMessage:!1,message:"Oh, I'm really glad that you survived that terrible accident.",date:"Wed Aug 17 2022 14:00:16 GMT+0300"}]},{id:4,name:"Benedict",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053578.png",correspondence:[{myMessage:!0,message:"If only you knew how happy I am! So many years in captivity make you rejoice at the little things.",date:"Wed Aug 17 2022 14:00:16 GMT+0300"},{myMessage:!1,message:"How glad I am that your eyes can see again!",date:"Wed Aug 17 2022 14:00:16 GMT+0300"}]},{id:5,name:"Deidre",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053579.png",correspondence:[{myMessage:!1,message:"How glad I am to see you!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"},{myMessage:!0,message:"I am to see you too!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"}]},{id:6,name:"Brand",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053580.png",correspondence:[{myMessage:!1,message:"I don't know where I am, it's dark in here. Save me!!!!!!!!!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"},{myMessage:!1,message:"Save me, I beg you!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"},{myMessage:!0,message:"It's me, your brother Corwin!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"},{myMessage:!1,message:"Who is it?!!",date:"Wed Aug 17 2022 15:00:16 GMT+0300"}]},{id:7,name:"Llewella",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053581.png",correspondence:[{myMessage:!1,message:"I can't agree with you",date:"Thu Aug 18 2022 11:01:16 GMT+0300"},{myMessage:!0,message:"He is an excellent companion",date:"Thu Aug 18 2022 11:20:10 GMT+0300"},{myMessage:!1,message:"I can't believe you contacted Random.",date:"Thu Aug 18 2022 11:30:20 GMT+0300"}]},{id:8,name:"Fiona",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053582.png",correspondence:[{myMessage:!0,message:"Gee! I thought it was Julian!",date:"Mon Aug 15 2022 00:02:56 GMT+0300"},{myMessage:!1,message:"You have to understand me. He is a monster that we must stop before he destroys Amber.",date:"Mon Aug 15 2022 00:02:56 GMT+0300"},{myMessage:!1,message:"Then I thought you were with Brand.",date:"Mon Aug 15 2022 00:01:56 GMT+0300"},{myMessage:!1,message:"Yes, I stabbed you that night.",date:"Mon Aug 15 2022 13:00:56 GMT+0300"}]},{id:9,name:"Jerard",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053583.png",correspondence:[{myMessage:!0,message:"Don't be stupid! If I wanted to kill you, I would come up with something more original",date:"Mon Aug 15 2022 14:20:56 GMT+0300"},{myMessage:!1,message:"What happened? I warn you, if this is your dirty tricks...",date:"Mon Aug 15 2022 13:53:46 GMT+0300"},{myMessage:!0,message:"I need your help",date:"Mon Aug 15 2022 13:52:00 GMT+0300"}]},{id:10,name:"Random",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053584.png",correspondence:[{myMessage:!1,message:"I dont know. Sat on my tail in one Shadow!",date:"Mon Aug 15 2022 20:00:01 GMT+0300"},{myMessage:!0,message:"Who are these guys?",date:"Mon Aug 15 2022 21:52:00 GMT+0300"},{myMessage:!1,message:"Corwin, they're after me!",date:"Mon Aug 15 2022 21:53:04 GMT+0300"}]},{id:11,name:"Bleys",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053585.png",correspondence:[{myMessage:!1,message:"Winner takes all. What do you think?",date:"Mon Aug 16 2022 00:02:56 GMT+0300"},{myMessage:!1,message:"Well, then we can arrange a fair duel",date:"Mon Aug 16 2022 00:01:56 GMT+0300"},{myMessage:!1,message:"Together we can dethrone Eric!",date:"Mon Aug 15 2022 13:00:56 GMT+0300"}]},{id:12,name:"Kain",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053586.png",correspondence:[{myMessage:!1,message:"Well he's not as much of an asshole as you think",date:"Mon Aug 17 2022 00:02:56 GMT+0300"},{myMessage:!0,message:"Do you like Eric?",date:"Mon Aug 16 2022 00:01:56 GMT+0300"},{myMessage:!1,message:"The sea is closed to you",date:"Mon Aug 15 2022 13:00:56 GMT+0300"}]},{id:13,name:"Eric",avatar:"https://img2.joyreactor.cc/pics/post/Fantasy-art-%D0%A5%D1%80%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8-%D0%90%D0%BC%D0%B1%D0%B5%D1%80%D0%B0-7053587.png",correspondence:[{myMessage:!0,message:"I curse you!!!!!!!!!!",date:"Mon Aug 16 2022 00:02:56 GMT+0300"},{myMessage:!1,message:"Guard! Blind him and throw him into the deepest dungeon!",date:"Mon Aug 16 2022 00:01:56 GMT+0300"},{myMessage:!1,message:"This is the last thing you'll see!",date:"Mon Aug 15 2022 13:00:56 GMT+0300"}]}],nP=(0,ZR.UY)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eP,t=arguments.length>1?arguments[1]:void 0;return"AUTH"===t.type?t.payload:e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tP,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MESSAGE":return e.map((function(e){return e.id===t.payload.selectContactId?(e.correspondence=[t.payload.message].concat(ot(e.correspondence)),e):e}));case"GET_ANSWER":return e.map((function(e){return e.id===t.payload.selectContactId?(e.correspondence=[t.payload.answer].concat(ot(e.correspondence)),e):e}));default:return e}}}),rP=(0,ZR.MT)(nP,(0,$R.Uo)((0,ZR.md)(XR)));U.createRoot(document.getElementById("root")).render((0,O.jsx)(E,{store:rP,children:(0,O.jsx)(M,{children:(0,O.jsx)(V,{children:(0,O.jsx)(OR,{children:(0,O.jsx)(gR,{children:(0,O.jsx)(HR,{})})})})})})),QR()}()}();
//# sourceMappingURL=main.49724fdb.js.map